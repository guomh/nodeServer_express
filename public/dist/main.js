webpackJsonp([0],[
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n// Last time updated: 2017-07-23 5:31:53 AM UTC\n\n// ________________\n// RecordRTC v5.4.3\n\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\n// ____________\n// RecordRTC.js\n\n/**\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \n * @summary Record audio, video or screen inside the browser.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef RecordRTC\n * @class\n * @example\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\n *     type: 'video', // audio or video or gif or canvas\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\n * });\n * recorder.startRecording();\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction RecordRTC(mediaStream, config) {\n    if (!mediaStream) {\n        throw 'First parameter is required.';\n    }\n\n    config = config || {\n        type: 'video'\n    };\n\n    config = new RecordRTCConfiguration(mediaStream, config);\n\n    // a reference to user's recordRTC object\n    var self = this;\n\n    function startRecording() {\n        if (!config.disableLogs) {\n            console.log('started recording ' + config.type + ' stream.');\n        }\n\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n            mediaRecorder.record();\n\n            setState('recording');\n\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n            return self;\n        }\n\n        initRecorder(function () {\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n        });\n\n        return self;\n    }\n\n    function initRecorder(initCallback) {\n        if (initCallback) {\n            config.initCallback = function () {\n                initCallback();\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\n            };\n        }\n\n        var Recorder = new GetRecorderType(mediaStream, config);\n\n        mediaRecorder = new Recorder(mediaStream, config);\n        mediaRecorder.record();\n\n        setState('recording');\n\n        if (!config.disableLogs) {\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\n        }\n    }\n\n    function stopRecording(callback) {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        if (self.state === 'paused') {\n            self.resumeRecording();\n\n            setTimeout(function () {\n                stopRecording(callback);\n            }, 1);\n            return;\n        }\n\n        if (self.state !== 'recording') {\n            if (!config.disableLogs) {\n                console.warn('Unable to stop the recording. Recording state: ', self.state);\n            }\n            return;\n        }\n\n        if (!config.disableLogs) {\n            console.warn('Stopped recording ' + config.type + ' stream.');\n        }\n\n        if (config.type !== 'gif') {\n            mediaRecorder.stop(_callback);\n        } else {\n            mediaRecorder.stop();\n            _callback();\n        }\n\n        setState('stopped');\n\n        function _callback(__blob) {\n            Object.keys(mediaRecorder).forEach(function (key) {\n                if (typeof mediaRecorder[key] === 'function') {\n                    return;\n                }\n\n                self[key] = mediaRecorder[key];\n            });\n\n            var blob = mediaRecorder.blob;\n\n            if (!blob) {\n                if (__blob) {\n                    mediaRecorder.blob = blob = __blob;\n                } else {\n                    throw 'Recording failed.';\n                }\n            }\n\n            if (callback) {\n                var url = URL.createObjectURL(blob);\n\n                if (typeof callback.call === 'function') {\n                    callback.call(self, url);\n                } else {\n                    callback(url);\n                }\n            }\n\n            if (blob && !config.disableLogs) {\n                console.log(blob.type, '->', bytesToSize(blob.size));\n            }\n\n            if (!config.autoWriteToDisk) {\n                return;\n            }\n\n            getDataURL(function (dataURL) {\n                var parameter = {};\n                parameter[config.type + 'Blob'] = dataURL;\n                DiskStorage.Store(parameter);\n            });\n        }\n    }\n\n    function pauseRecording() {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        if (self.state !== 'recording') {\n            if (!config.disableLogs) {\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\n            }\n            return;\n        }\n\n        setState('paused');\n\n        mediaRecorder.pause();\n\n        if (!config.disableLogs) {\n            console.log('Paused recording.');\n        }\n    }\n\n    function resumeRecording() {\n        if (!mediaRecorder) {\n            return console.warn(WARNING);\n        }\n\n        if (self.state !== 'paused') {\n            if (!config.disableLogs) {\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\n            }\n            return;\n        }\n\n        setState('recording');\n\n        // not all libs have this method yet\n        mediaRecorder.resume();\n\n        if (!config.disableLogs) {\n            console.log('Resumed recording.');\n        }\n    }\n\n    function readFile(_blob) {\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\n    }\n\n    function getDataURL(callback, _mediaRecorder) {\n        if (!callback) {\n            throw 'Pass a callback function over getDataURL.';\n        }\n\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\n\n        if (!blob) {\n            if (!config.disableLogs) {\n                console.warn('Blob encoder did not finish its job yet.');\n            }\n\n            setTimeout(function () {\n                getDataURL(callback, _mediaRecorder);\n            }, 1000);\n            return;\n        }\n\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\n            var webWorker = processInWebWorker(readFile);\n\n            webWorker.onmessage = function (event) {\n                callback(event.data);\n            };\n\n            webWorker.postMessage(blob);\n        } else {\n            var reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onload = function (event) {\n                callback(event.target.result);\n            };\n        }\n\n        function processInWebWorker(_function) {\n            var blob = URL.createObjectURL(new Blob([_function.toString(), 'this.onmessage =  function (e) {' + _function.name + '(e.data);}'], {\n                type: 'application/javascript'\n            }));\n\n            var worker = new Worker(blob);\n            URL.revokeObjectURL(blob);\n            return worker;\n        }\n    }\n\n    function handleRecordingDuration(counter) {\n        counter = counter || 0;\n\n        if (self.state === 'paused') {\n            setTimeout(function () {\n                handleRecordingDuration(counter);\n            }, 1000);\n            return;\n        }\n\n        if (self.state === 'stopped') {\n            return;\n        }\n\n        if (counter >= self.recordingDuration) {\n            stopRecording(self.onRecordingStopped);\n            return;\n        }\n\n        counter += 1000; // 1-second\n\n        setTimeout(function () {\n            handleRecordingDuration(counter);\n        }, 1000);\n    }\n\n    function setState(state) {\n        self.state = state;\n\n        if (typeof self.onStateChanged.call === 'function') {\n            self.onStateChanged.call(self, state);\n        } else {\n            self.onStateChanged(state);\n        }\n    }\n\n    var WARNING = 'It seems that \"startRecording\" is not invoked for ' + config.type + ' recorder.';\n\n    var mediaRecorder;\n\n    var returnObject = {\n        /**\n         * This method starts the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var recorder = RecordRTC(mediaStream, {\n         *     type: 'video'\n         * });\n         * recorder.startRecording();\n         */\n        startRecording: startRecording,\n\n        /**\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\n         * @param {function} callback - Callback to get the recorded blob.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     // use either \"this\" or \"recorder\" object; both are identical\n         *     video.src = this.toURL();\n         *     var blob = this.getBlob();\n         * });\n         */\n        stopRecording: stopRecording,\n\n        /**\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo Firefox is unable to pause the recording. Fix it.\n         * @example\n         * recorder.pauseRecording();  // pause the recording\n         * recorder.resumeRecording(); // resume again\n         */\n        pauseRecording: pauseRecording,\n\n        /**\n         * This method resumes the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.pauseRecording();  // first of all, pause the recording\n         * recorder.resumeRecording(); // now resume it\n         */\n        resumeRecording: resumeRecording,\n\n        /**\n         * This method initializes the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo This method should be deprecated.\n         * @example\n         * recorder.initRecorder();\n         */\n        initRecorder: initRecorder,\n\n        /**\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var fiveMinutes = 5 * 1000 * 60;\n         * recorder.setRecordingDuration(fiveMinutes, function() {\n         *    var blob = this.getBlob();\n         *    video.src = this.toURL();\n         * });\n         * \n         * // or otherwise\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\n         *    var blob = this.getBlob();\n         *    video.src = this.toURL();\n         * });\n         */\n        setRecordingDuration: function setRecordingDuration(recordingDuration, callback) {\n            if (typeof recordingDuration === 'undefined') {\n                throw 'recordingDuration is required.';\n            }\n\n            if (typeof recordingDuration !== 'number') {\n                throw 'recordingDuration must be a number.';\n            }\n\n            self.recordingDuration = recordingDuration;\n            self.onRecordingStopped = callback || function () {};\n\n            return {\n                onRecordingStopped: function onRecordingStopped(callback) {\n                    self.onRecordingStopped = callback;\n                }\n            };\n        },\n\n        /**\n         * This method can be used to clear/reset all the recorded data.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\n         * @example\n         * recorder.clearRecordedData();\n         */\n        clearRecordedData: function clearRecordedData() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            mediaRecorder.clearRecordedData();\n\n            if (!config.disableLogs) {\n                console.log('Cleared old recorded data.');\n            }\n        },\n\n        /**\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     var blob = this.getBlob();\n         *\n         *     var file = new File([blob], 'filename.webm', {\n         *         type: 'video/webm'\n         *     });\n         *\n         *     var formData = new FormData();\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\n         *     uploadToServer(formData);\n         * });\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\n         */\n        getBlob: function getBlob() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            return mediaRecorder.blob;\n        },\n\n        /**\n         * Get data-URI instead of Blob.\n         * @param {function} callback - Callback to get the Data-URI.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     recorder.getDataURL(function(dataURI) {\n         *         video.src = dataURI;\n         *     });\n         * });\n         */\n        getDataURL: getDataURL,\n\n        /**\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     video.src = this.toURL();\n         * });\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\n         */\n        toURL: function toURL() {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            return URL.createObjectURL(mediaRecorder.blob);\n        },\n\n        /**\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var internal = recorder.getInternalRecorder();\n         * if(internal instanceof MultiStreamRecorder) {\n         *     internal.addStreams([newAudioStream]);\n         *     internal.resetVideoStreams([screenStream]);\n         * }\n         * @returns {Object} Returns internal recording object.\n         */\n        getInternalRecorder: function getInternalRecorder() {\n            return mediaRecorder;\n        },\n\n        /**\n         * Invoke save-as dialog to save the recorded blob into your disk.\n         * @param {string} fileName - Set your own file name.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     this.save('file-name');\n         *\n         *     // or manually:\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\n         * });\n         */\n        save: function save(fileName) {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\n        },\n\n        /**\n         * This method gets a blob from indexed-DB storage.\n         * @param {function} callback - Callback to get the recorded blob.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.getFromDisk(function(dataURL) {\n         *     video.src = dataURL;\n         * });\n         */\n        getFromDisk: function getFromDisk(callback) {\n            if (!mediaRecorder) {\n                return console.warn(WARNING);\n            }\n\n            RecordRTC.getFromDisk(config.type, callback);\n        },\n\n        /**\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\n         * @type {Array.<Array>}\n         * @param {Array} arrayOfWebPImages - Array of webp images.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo This method should be deprecated.\n         * @example\n         * var arrayOfWebPImages = [];\n         * arrayOfWebPImages.push({\n         *     duration: index,\n         *     image: 'data:image/webp;base64,...'\n         * });\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\n         */\n        setAdvertisementArray: function setAdvertisementArray(arrayOfWebPImages) {\n            config.advertisement = [];\n\n            var length = arrayOfWebPImages.length;\n            for (var i = 0; i < length; i++) {\n                config.advertisement.push({\n                    duration: i,\n                    image: arrayOfWebPImages[i]\n                });\n            }\n        },\n\n        /**\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     var blob = this.blob;\n         *\n         *     // below one is recommended\n         *     var blob = this.getBlob();\n         * });\n         */\n        blob: null,\n\n        /**\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\n         * });\n         */\n        bufferSize: 0,\n\n        /**\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\n         * });\n         */\n        sampleRate: 0,\n\n        /**\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     var arrayBuffer = this.buffer;\n         *     alert(arrayBuffer.byteLength);\n         * });\n         */\n        buffer: null,\n\n        /**\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.reset();\n         * recorder.startRecording();\n         */\n        reset: function reset() {\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\n                mediaRecorder.clearRecordedData();\n            }\n            mediaRecorder = null;\n            setState('inactive');\n            self.blob = null;\n        },\n\n        /**\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.onStateChanged = function(state) {\n         *     console.log('Recorder state: ', state);\n         * };\n         */\n        onStateChanged: function onStateChanged(state) {\n            if (!config.disableLogs) {\n                console.log('Recorder state changed:', state);\n            }\n        },\n\n        /**\n         * A recorder can have inactive, recording, paused or stopped states.\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\n         * @memberof RecordRTC\n         * @static\n         * @readonly\n         * @example\n         * // this looper function will keep you updated about the recorder's states.\n         * (function looper() {\n         *     document.querySelector('h1').innerHTML = 'Recorder's state is: ' + recorder.state;\n         *     if(recorder.state === 'stopped') return; // ignore+stop\n         *     setTimeout(looper, 1000); // update after every 3-seconds\n         * })();\n         * recorder.startRecording();\n         */\n        state: 'inactive',\n\n        /**\n         * Get recorder's readonly state.\n         * @method\n         * @memberof RecordRTC\n         * @example\n         * var state = recorder.getState();\n         * @returns {String} Returns recording state.\n         */\n        getState: function getState() {\n            return self.state;\n        }\n    };\n\n    if (!this) {\n        self = returnObject;\n        return returnObject;\n    }\n\n    // if someone wants to use RecordRTC with the \"new\" keyword.\n    for (var prop in returnObject) {\n        this[prop] = returnObject[prop];\n    }\n\n    self = this;\n\n    return returnObject;\n}\n\n/**\n * This method can be used to get all recorded blobs from IndexedDB storage.\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\n * @param {function} callback - Callback function to get all stored blobs.\n * @method\n * @memberof RecordRTC\n * @example\n * RecordRTC.getFromDisk('all', function(dataURL, type){\n *     if(type === 'audio') { }\n *     if(type === 'video') { }\n *     if(type === 'gif')   { }\n * });\n */\nRecordRTC.getFromDisk = function (type, callback) {\n    if (!callback) {\n        throw 'callback is mandatory.';\n    }\n\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\n    DiskStorage.Fetch(function (dataURL, _type) {\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\n            callback(dataURL);\n        }\n\n        if (type === 'all' && callback) {\n            callback(dataURL, _type.replace('Blob', ''));\n        }\n    });\n};\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof RecordRTC\n * @example\n * RecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nRecordRTC.writeToDisk = function (options) {\n    console.log('Writing recorded blob(s) to disk!');\n    options = options || {};\n    if (options.audio && options.video && options.gif) {\n        options.audio.getDataURL(function (audioDataURL) {\n            options.video.getDataURL(function (videoDataURL) {\n                options.gif.getDataURL(function (gifDataURL) {\n                    DiskStorage.Store({\n                        audioBlob: audioDataURL,\n                        videoBlob: videoDataURL,\n                        gifBlob: gifDataURL\n                    });\n                });\n            });\n        });\n    } else if (options.audio && options.video) {\n        options.audio.getDataURL(function (audioDataURL) {\n            options.video.getDataURL(function (videoDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    videoBlob: videoDataURL\n                });\n            });\n        });\n    } else if (options.audio && options.gif) {\n        options.audio.getDataURL(function (audioDataURL) {\n            options.gif.getDataURL(function (gifDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.video && options.gif) {\n        options.video.getDataURL(function (videoDataURL) {\n            options.gif.getDataURL(function (gifDataURL) {\n                DiskStorage.Store({\n                    videoBlob: videoDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.audio) {\n        options.audio.getDataURL(function (audioDataURL) {\n            DiskStorage.Store({\n                audioBlob: audioDataURL\n            });\n        });\n    } else if (options.video) {\n        options.video.getDataURL(function (videoDataURL) {\n            DiskStorage.Store({\n                videoBlob: videoDataURL\n            });\n        });\n    } else if (options.gif) {\n        options.gif.getDataURL(function (gifDataURL) {\n            DiskStorage.Store({\n                gifBlob: gifDataURL\n            });\n        });\n    }\n};\n\nif (true /* && !!module.exports*/) {\n        module.exports = RecordRTC;\n    }\n\nif (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n        return RecordRTC;\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n// __________________________\n// RecordRTC-Configuration.js\n\n/**\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef RecordRTCConfiguration\n * @class\n * @example\n * var options = RecordRTCConfiguration(mediaStream, options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\n */\n\nfunction RecordRTCConfiguration(mediaStream, config) {\n    if (config.recorderType && !config.type) {\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder) {\n            config.type = 'video';\n        } else if (config.recorderType === GifRecorder) {\n            config.type = 'gif';\n        } else if (config.recorderType === StereoAudioRecorder) {\n            config.type = 'audio';\n        } else if (config.recorderType === MediaStreamRecorder) {\n            if (mediaStream.getAudioTracks().length && mediaStream.getVideoTracks().length) {\n                config.type = 'video';\n            } else if (mediaStream.getAudioTracks().length && !mediaStream.getVideoTracks().length) {\n                config.type = 'audio';\n            } else if (!mediaStream.getAudioTracks().length && mediaStream.getVideoTracks().length) {\n                config.type = 'audio';\n            } else {\n                // config.type = 'UnKnown';\n            }\n        }\n    }\n\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (!config.mimeType) {\n            config.mimeType = 'video/webm';\n        }\n\n        if (!config.type) {\n            config.type = config.mimeType.split('/')[0];\n        }\n\n        if (!config.bitsPerSecond) {\n            // config.bitsPerSecond = 128000;\n        }\n    }\n\n    // consider default type=audio\n    if (!config.type) {\n        if (config.mimeType) {\n            config.type = config.mimeType.split('/')[0];\n        }\n        if (!config.type) {\n            config.type = 'audio';\n        }\n    }\n\n    return config;\n}\n\n// __________________\n// GetRecorderType.js\n\n/**\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\n * @summary It returns best recorder-type available for your browser.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef GetRecorderType\n * @class\n * @example\n * var RecorderType = GetRecorderType(options);\n * var recorder = new RecorderType(options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n */\n\nfunction GetRecorderType(mediaStream, config) {\n    var recorder;\n\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\n    if (isChrome || isEdge || isOpera) {\n        // Media Stream Recording API has not been implemented in chrome yet;\n        // That's why using WebAudio API to record stereo audio in WAV format\n        recorder = StereoAudioRecorder;\n    }\n\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\n        recorder = MediaStreamRecorder;\n    }\n\n    // video recorder (in WebM format)\n    if (config.type === 'video' && (isChrome || isOpera)) {\n        recorder = WhammyRecorder;\n    }\n\n    // video recorder (in Gif format)\n    if (config.type === 'gif') {\n        recorder = GifRecorder;\n    }\n\n    // html2canvas recording!\n    if (config.type === 'canvas') {\n        recorder = CanvasRecorder;\n    }\n\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (mediaStream.getVideoTracks && mediaStream.getVideoTracks().length || mediaStream.getAudioTracks && mediaStream.getAudioTracks().length) {\n            // audio-only recording\n            if (config.type === 'audio') {\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\n                    recorder = MediaStreamRecorder;\n                }\n                // else recorder = StereoAudioRecorder;\n            } else {\n                // video or screen tracks\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\n                    recorder = MediaStreamRecorder;\n                }\n            }\n        }\n    }\n\n    if (config.recorderType) {\n        recorder = config.recorderType;\n    }\n\n    if (mediaStream instanceof Array && mediaStream.length) {\n        recorder = MultiStreamRecorder;\n    }\n\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\n    }\n\n    return recorder;\n}\n\n// _____________\n// MRecordRTC.js\n\n/**\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef MRecordRTC\n * @class\n * @example\n * var recorder = new MRecordRTC();\n * recorder.addStream(MediaStream);\n * recorder.mediaType = {\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\n *     video: true, // or WhammyRecorder or MediaStreamRecorder\n *     gif: true    // or GifRecorder\n * };\n * // mimeType is optional and should be set only in advance cases.\n * recorder.mimeType = {\n *     audio: 'audio/wav',\n *     video: 'video/webm',\n *     gif:   'image/gif'\n * };\n * recorder.startRecording();\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @requires {@link RecordRTC}\n */\n\nfunction MRecordRTC(mediaStream) {\n\n    /**\n     * This method attaches MediaStream object to {@link MRecordRTC}.\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.addStream(MediaStream);\n     */\n    this.addStream = function (_mediaStream) {\n        if (_mediaStream) {\n            mediaStream = _mediaStream;\n        }\n    };\n\n    /**\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\n     * @memberof MRecordRTC\n     * @example\n     * var recorder = new MRecordRTC();\n     * recorder.mediaType = {\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder\n     *     gif  : true  // TRUE or GifRecorder\n     * };\n     */\n    this.mediaType = {\n        audio: true,\n        video: true\n    };\n\n    /**\n     * This method starts recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.startRecording();\n     */\n    this.startRecording = function () {\n        var mediaType = this.mediaType;\n        var recorderType;\n        var mimeType = this.mimeType || {\n            audio: null,\n            video: null,\n            gif: null\n        };\n\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && mediaStream.getAudioTracks && !mediaStream.getAudioTracks().length) {\n            mediaType.audio = false;\n        }\n\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && mediaStream.getVideoTracks && !mediaStream.getVideoTracks().length) {\n            mediaType.video = false;\n        }\n\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && mediaStream.getVideoTracks && !mediaStream.getVideoTracks().length) {\n            mediaType.gif = false;\n        }\n\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\n            throw 'MediaStream must have either audio or video tracks.';\n        }\n\n        if (!!mediaType.audio) {\n            recorderType = null;\n            if (typeof mediaType.audio === 'function') {\n                recorderType = mediaType.audio;\n            }\n\n            this.audioRecorder = new RecordRTC(mediaStream, {\n                type: 'audio',\n                bufferSize: this.bufferSize,\n                sampleRate: this.sampleRate,\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.audio,\n                timeSlice: this.timeSlice,\n                onTimeStamp: this.onTimeStamp\n            });\n\n            if (!mediaType.video) {\n                this.audioRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.video) {\n            recorderType = null;\n            if (typeof mediaType.video === 'function') {\n                recorderType = mediaType.video;\n            }\n\n            var newStream = mediaStream;\n\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\n                var videoTrack = mediaStream.getVideoTracks()[0];\n\n                if (!!navigator.mozGetUserMedia) {\n                    newStream = new MediaStream();\n                    newStream.addTrack(videoTrack);\n\n                    if (recorderType && recorderType === WhammyRecorder) {\n                        // Firefox does NOT support webp-encoding yet\n                        recorderType = MediaStreamRecorder;\n                    }\n                } else {\n                    newStream = new MediaStream([videoTrack]);\n                }\n            }\n\n            this.videoRecorder = new RecordRTC(newStream, {\n                type: 'video',\n                video: this.video,\n                canvas: this.canvas,\n                frameInterval: this.frameInterval || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.video,\n                timeSlice: this.timeSlice,\n                onTimeStamp: this.onTimeStamp\n            });\n\n            if (!mediaType.audio) {\n                this.videoRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.audio && !!mediaType.video) {\n            var self = this;\n\n            // this line prevents StereoAudioRecorder\n            // todo: fix it\n            if (isMediaRecorderCompatible() /* && !this.audioRecorder */) {\n                    self.audioRecorder = null;\n                    self.videoRecorder.startRecording();\n                } else {\n                self.videoRecorder.initRecorder(function () {\n                    self.audioRecorder.initRecorder(function () {\n                        // Both recorders are ready to record things accurately\n                        self.videoRecorder.startRecording();\n                        self.audioRecorder.startRecording();\n                    });\n                });\n            }\n        }\n\n        if (!!mediaType.gif) {\n            recorderType = null;\n            if (typeof mediaType.gif === 'function') {\n                recorderType = mediaType.gif;\n            }\n            this.gifRecorder = new RecordRTC(mediaStream, {\n                type: 'gif',\n                frameRate: this.frameRate || 200,\n                quality: this.quality || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.gif\n            });\n            this.gifRecorder.startRecording();\n        }\n    };\n\n    /**\n     * This method stops recording.\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.stopRecording(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     */\n    this.stopRecording = function (callback) {\n        callback = callback || function () {};\n\n        if (this.audioRecorder) {\n            this.audioRecorder.stopRecording(function (blobURL) {\n                callback(blobURL, 'audio');\n            });\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.stopRecording(function (blobURL) {\n                callback(blobURL, 'video');\n            });\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.stopRecording(function (blobURL) {\n                callback(blobURL, 'gif');\n            });\n        }\n    };\n\n    /**\n     * This method pauses recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.pauseRecording();\n     */\n    this.pauseRecording = function () {\n        if (this.audioRecorder) {\n            this.audioRecorder.pauseRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.pauseRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.pauseRecording();\n        }\n    };\n\n    /**\n     * This method resumes recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.resumeRecording();\n     */\n    this.resumeRecording = function () {\n        if (this.audioRecorder) {\n            this.audioRecorder.resumeRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.resumeRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.resumeRecording();\n        }\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs.\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getBlob(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     * // or\n     * var audioBlob = recorder.getBlob().audio;\n     * var videoBlob = recorder.getBlob().video;\n     */\n    this.getBlob = function (callback) {\n        var output = {};\n\n        if (this.audioRecorder) {\n            output.audio = this.audioRecorder.getBlob();\n        }\n\n        if (this.videoRecorder) {\n            output.video = this.videoRecorder.getBlob();\n        }\n\n        if (this.gifRecorder) {\n            output.gif = this.gifRecorder.getBlob();\n        }\n\n        if (callback) {\n            callback(output);\n        }\n\n        return output;\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs' DataURLs.\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getDataURL(function(recording){\n     *     var audioDataURL = recording.audio;\n     *     var videoDataURL = recording.video;\n     *     var gifDataURL   = recording.gif;\n     * });\n     */\n    this.getDataURL = function (callback) {\n        this.getBlob(function (blob) {\n            if (blob.audio && blob.video) {\n                getDataURL(blob.audio, function (_audioDataURL) {\n                    getDataURL(blob.video, function (_videoDataURL) {\n                        callback({\n                            audio: _audioDataURL,\n                            video: _videoDataURL\n                        });\n                    });\n                });\n            } else if (blob.audio) {\n                getDataURL(blob.audio, function (_audioDataURL) {\n                    callback({\n                        audio: _audioDataURL\n                    });\n                });\n            } else if (blob.video) {\n                getDataURL(blob.video, function (_videoDataURL) {\n                    callback({\n                        video: _videoDataURL\n                    });\n                });\n            }\n        });\n\n        function getDataURL(blob, callback00) {\n            if (typeof Worker !== 'undefined') {\n                var webWorker = processInWebWorker(function readFile(_blob) {\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\n                });\n\n                webWorker.onmessage = function (event) {\n                    callback00(event.data);\n                };\n\n                webWorker.postMessage(blob);\n            } else {\n                var reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onload = function (event) {\n                    callback00(event.target.result);\n                };\n            }\n        }\n\n        function processInWebWorker(_function) {\n            var blob = URL.createObjectURL(new Blob([_function.toString(), 'this.onmessage =  function (e) {' + _function.name + '(e.data);}'], {\n                type: 'application/javascript'\n            }));\n\n            var worker = new Worker(blob);\n            var url;\n            if (typeof URL !== 'undefined') {\n                url = URL;\n            } else if (typeof webkitURL !== 'undefined') {\n                url = webkitURL;\n            } else {\n                throw 'Neither URL nor webkitURL detected.';\n            }\n            url.revokeObjectURL(blob);\n            return worker;\n        }\n    };\n\n    /**\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.writeToDisk();\n     */\n    this.writeToDisk = function () {\n        RecordRTC.writeToDisk({\n            audio: this.audioRecorder,\n            video: this.videoRecorder,\n            gif: this.gifRecorder\n        });\n    };\n\n    /**\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.save({\n     *     audio: 'audio-file-name',\n     *     video: 'video-file-name',\n     *     gif  : 'gif-file-name'\n     * });\n     */\n    this.save = function (args) {\n        args = args || {\n            audio: true,\n            video: true,\n            gif: true\n        };\n\n        if (!!args.audio && this.audioRecorder) {\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\n        }\n\n        if (!!args.video && this.videoRecorder) {\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\n        }\n        if (!!args.gif && this.gifRecorder) {\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\n        }\n    };\n}\n\n/**\n * This method can be used to get all recorded blobs from IndexedDB storage.\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\n * @param {function} callback - Callback function to get all stored blobs.\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\n *     if(type === 'audio') { }\n *     if(type === 'video') { }\n *     if(type === 'gif')   { }\n * });\n */\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MRecordRTC = MRecordRTC;\n}\n\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\n\n(function (that) {\n    if (!that) {\n        return;\n    }\n\n    if (typeof window !== 'undefined') {\n        return;\n    }\n\n    if (typeof global === 'undefined') {\n        return;\n    }\n\n    global.navigator = {\n        userAgent: browserFakeUserAgent,\n        getUserMedia: function getUserMedia() {}\n    };\n\n    if (!global.console) {\n        global.console = {};\n    }\n\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\n        global.console.error = global.console.log = global.console.log || function () {\n            console.log(arguments);\n        };\n    }\n\n    if (typeof document === 'undefined') {\n        /*global document:true */\n        that.document = {};\n\n        document.createElement = document.captureStream = document.mozCaptureStream = function () {\n            var obj = {\n                getContext: function getContext() {\n                    return obj;\n                },\n                play: function play() {},\n                pause: function pause() {},\n                drawImage: function drawImage() {},\n                toDataURL: function toDataURL() {\n                    return '';\n                }\n            };\n            return obj;\n        };\n\n        that.HTMLVideoElement = function () {};\n    }\n\n    if (typeof location === 'undefined') {\n        /*global location:true */\n        that.location = {\n            protocol: 'file:',\n            href: '',\n            hash: ''\n        };\n    }\n\n    if (typeof screen === 'undefined') {\n        /*global screen:true */\n        that.screen = {\n            width: 0,\n            height: 0\n        };\n    }\n\n    if (typeof URL === 'undefined') {\n        /*global screen:true */\n        that.URL = {\n            createObjectURL: function createObjectURL() {\n                return '';\n            },\n            revokeObjectURL: function revokeObjectURL() {\n                return '';\n            }\n        };\n    }\n\n    /*global window:true */\n    that.window = global;\n})(typeof global !== 'undefined' ? global : null);\n\n// _____________________________\n// Cross-Browser-Declarations.js\n\n// animation-frame used in WebM recording\n\n/*jshint -W079 */\nvar requestAnimationFrame = window.requestAnimationFrame;\nif (typeof requestAnimationFrame === 'undefined') {\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = webkitRequestAnimationFrame;\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = mozRequestAnimationFrame;\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = msRequestAnimationFrame;\n    } else if (typeof requestAnimationFrame === 'undefined') {\n        // via: https://gist.github.com/paulirish/1579671\n        var lastTime = 0;\n\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = function requestAnimationFrame(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = setTimeout(function () {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n}\n\n/*jshint -W079 */\nvar cancelAnimationFrame = window.cancelAnimationFrame;\nif (typeof cancelAnimationFrame === 'undefined') {\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = webkitCancelAnimationFrame;\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = mozCancelAnimationFrame;\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = msCancelAnimationFrame;\n    } else if (typeof cancelAnimationFrame === 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = function cancelAnimationFrame(id) {\n            clearTimeout(id);\n        };\n    }\n}\n\n// WebAudio API representer\nvar AudioContext = window.AudioContext;\n\nif (typeof AudioContext === 'undefined') {\n    if (typeof webkitAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = webkitAudioContext;\n    }\n\n    if (typeof mozAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = mozAudioContext;\n    }\n}\n\n/*jshint -W079 */\nvar URL = window.URL;\n\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n    /*global URL:true */\n    URL = webkitURL;\n}\n\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') {\n    // maybe window.navigator?\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\n    }\n\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.mozGetUserMedia;\n    }\n}\n\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\nvar isChrome = !isOpera && !isEdge && !!navigator.webkitGetUserMedia;\n\nvar MediaStream = window.MediaStream;\n\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n    MediaStream = webkitMediaStream;\n}\n\n/*global MediaStream:true */\nif (typeof MediaStream !== 'undefined') {\n    if (!('getVideoTracks' in MediaStream.prototype)) {\n        MediaStream.prototype.getVideoTracks = function () {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function (track) {\n                if (track.kind.toString().indexOf('video') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n\n        MediaStream.prototype.getAudioTracks = function () {\n            if (!this.getTracks) {\n                return [];\n            }\n\n            var tracks = [];\n            this.getTracks.forEach(function (track) {\n                if (track.kind.toString().indexOf('audio') !== -1) {\n                    tracks.push(track);\n                }\n            });\n            return tracks;\n        };\n    }\n\n    // override \"stop\" method for all browsers\n    MediaStream.prototype.__stop = MediaStream.prototype.stop;\n    MediaStream.prototype.stop = function () {\n        this.getAudioTracks().forEach(function (track) {\n            if (!!track.stop) {\n                track.stop();\n            }\n        });\n\n        this.getVideoTracks().forEach(function (track) {\n            if (!!track.stop) {\n                track.stop();\n            }\n        });\n\n        if (typeof this.__stop === 'function') {\n            this.__stop();\n        }\n    };\n}\n\n// below function via: http://goo.gl/B3ae8c\n/**\n * @param {number} bytes - Pass bytes and get formafted string.\n * @returns {string} - formafted string\n * @example\n * bytesToSize(1024*1024*5) === '5 GB'\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction bytesToSize(bytes) {\n    var k = 1000;\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n}\n\n/**\n * @param {Blob} file - File or Blob object. This parameter is required.\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\n * @example\n * invokeSaveAsDialog(blob or file, [optional] fileName);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction invokeSaveAsDialog(file, fileName) {\n    if (!file) {\n        throw 'Blob object is required.';\n    }\n\n    if (!file.type) {\n        try {\n            file.type = 'video/webm';\n        } catch (e) {}\n    }\n\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\n\n    if (fileName && fileName.indexOf('.') !== -1) {\n        var splitted = fileName.split('.');\n        fileName = splitted[0];\n        fileExtension = splitted[1];\n    }\n\n    var fileFullName = (fileName || Math.round(Math.random() * 9999999999) + 888888888) + '.' + fileExtension;\n\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\n        return navigator.msSaveBlob(file, fileFullName);\n    }\n\n    var hyperlink = document.createElement('a');\n    hyperlink.href = URL.createObjectURL(file);\n    hyperlink.download = fileFullName;\n\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\n    (document.body || document.documentElement).appendChild(hyperlink);\n\n    if (typeof hyperlink.click === 'function') {\n        hyperlink.click();\n    } else {\n        hyperlink.target = '_blank';\n        hyperlink.dispatchEvent(new MouseEvent('click', {\n            view: window,\n            bubbles: true,\n            cancelable: true\n        }));\n    }\n\n    URL.revokeObjectURL(hyperlink.href);\n}\n\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\n// Storage.js\n\n/**\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @example\n * Storage.AudioContext === webkitAudioContext\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Storage = {};\n\nif (typeof AudioContext !== 'undefined') {\n    Storage.AudioContext = AudioContext;\n} else if (typeof webkitAudioContext !== 'undefined') {\n    Storage.AudioContext = webkitAudioContext;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Storage = Storage;\n}\n\nfunction isMediaRecorderCompatible() {\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    var isChrome = !!window.chrome && !isOpera;\n    var isFirefox = typeof window.InstallTrigger !== 'undefined';\n\n    if (isFirefox) {\n        return true;\n    }\n\n    var nVer = navigator.appVersion;\n    var nAgt = navigator.userAgent;\n    var fullVersion = '' + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    if (isChrome || isOpera) {\n        verOffset = nAgt.indexOf('Chrome');\n        fullVersion = nAgt.substring(verOffset + 7);\n    }\n\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    majorVersion = parseInt('' + fullVersion, 10);\n\n    if (isNaN(majorVersion)) {\n        fullVersion = '' + parseFloat(navigator.appVersion);\n        majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    return majorVersion >= 49;\n}\n\n// ______________________\n// MediaStreamRecorder.js\n\n/**\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\n * @typedef MediaStreamRecorder\n * @class\n * @example\n * var config = {\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\n *     audioBitsPerSecond : 256 * 8 * 1024,\n *     videoBitsPerSecond : 256 * 8 * 1024,\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\n *     checkForInactiveTracks: true,\n *     timeSlice: 1000, // concatenate intervals based blobs\n *     ignoreMutedMedia: true\n * }\n * var recorder = new MediaStreamRecorder(mediaStream, config);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n *\n *     // or\n *     var blob = recorder.blob;\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\n */\n\nfunction MediaStreamRecorder(mediaStream, config) {\n    var self = this;\n\n    if (typeof mediaStream === 'undefined') {\n        throw 'First argument \"MediaStream\" is required.';\n    }\n\n    if (typeof MediaRecorder === 'undefined') {\n        throw 'Your browser does not supports Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\n    }\n\n    config = config || {\n        // bitsPerSecond: 256 * 8 * 1024,\n        mimeType: 'video/webm'\n    };\n\n    if (config.type === 'audio') {\n        if (mediaStream.getVideoTracks().length && mediaStream.getAudioTracks().length) {\n            var stream;\n            if (!!navigator.mozGetUserMedia) {\n                stream = new MediaStream();\n                stream.addTrack(mediaStream.getAudioTracks()[0]);\n            } else {\n                // webkitMediaStream\n                stream = new MediaStream(mediaStream.getAudioTracks());\n            }\n            mediaStream = stream;\n        }\n\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\n        }\n\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\n            // forcing better codecs on Firefox (via #166)\n            config.mimeType = 'audio/ogg';\n        }\n    }\n\n    var arrayOfBlobs = [];\n\n    /**\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\n     * @returns {Array} Returns array of recorded blobs.\n     */\n    this.getArrayOfBlobs = function () {\n        return arrayOfBlobs;\n    };\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        // set defaults\n        self.blob = null;\n        self.clearRecordedData();\n        self.timestamps = [];\n        allStates = [];\n        arrayOfBlobs = [];\n\n        var recorderHints = config;\n\n        if (!config.disableLogs) {\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\n        }\n\n        if (mediaRecorder) {\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\n            mediaRecorder = null;\n        }\n\n        if (isChrome && !isMediaRecorderCompatible()) {\n            // to support video-only recording on stable\n            recorderHints = 'video/vp8';\n        }\n\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\n                if (!config.disableLogs) {\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\n                }\n\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\n            }\n        }\n\n        // using MediaRecorder API here\n        try {\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\n\n            // reset\n            config.mimeType = recorderHints.mimeType;\n        } catch (e) {\n            // chrome-based fallback\n            mediaRecorder = new MediaRecorder(mediaStream);\n        }\n\n        // old hack?\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\n            if (!config.disableLogs) {\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\n            }\n        }\n\n        // ignore muted/disabled/inactive tracks\n        mediaRecorder.ignoreMutedMedia = config.ignoreMutedMedia === true;\n\n        // Dispatching OnDataAvailable Handler\n        mediaRecorder.ondataavailable = function (e) {\n            if (e.data) {\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\n            }\n\n            if (typeof config.timeSlice === 'number') {\n                if (e.data && e.data.size && e.data.size > 100) {\n                    arrayOfBlobs.push(e.data);\n                    updateTimeStamp();\n                }\n                return;\n            }\n\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\n                // make sure that stopRecording always getting fired\n                // even if there is invalid data\n                if (self.recordingCallback) {\n                    self.recordingCallback(new Blob([], {\n                        type: mediaRecorder.mimeType || recorderHints.mimeType || 'video/webm'\n                    }));\n                    self.recordingCallback = null;\n                }\n                return;\n            }\n\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\n                type: mediaRecorder.mimeType || recorderHints.mimeType || 'video/webm'\n            });\n\n            if (self.recordingCallback) {\n                self.recordingCallback(self.blob);\n                self.recordingCallback = null;\n            }\n        };\n\n        mediaRecorder.onstart = function () {\n            allStates.push('started');\n        };\n\n        mediaRecorder.onpause = function () {\n            allStates.push('paused');\n        };\n\n        mediaRecorder.onresume = function () {\n            allStates.push('resumed');\n        };\n\n        mediaRecorder.onstop = function () {\n            allStates.push('stopped');\n        };\n\n        mediaRecorder.onerror = function (error) {\n            allStates.push('error: ' + error);\n\n            if (!config.disableLogs) {\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\n                    console.error('MediaRecorder security error', error);\n                }\n\n                // older code below\n                else if (error.name === 'OutOfMemory') {\n                        console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                    } else if (error.name === 'IllegalStreamModification') {\n                        console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                    } else if (error.name === 'OtherRecordingError') {\n                        console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                    } else if (error.name === 'GenericError') {\n                        console.error('The UA cannot provide the codec or recording option that has been requested.', error);\n                    } else {\n                        console.error('MediaRecorder Error', error);\n                    }\n            }\n\n            (function (looper) {\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\n                    delete config.timeslice;\n\n                    // 10 minutes, enough?\n                    mediaRecorder.start(10 * 60 * 1000);\n                    return;\n                }\n\n                setTimeout(looper, 1000);\n            })();\n\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\n                mediaRecorder.stop();\n            }\n        };\n\n        if (typeof config.timeSlice === 'number') {\n            updateTimeStamp();\n            mediaRecorder.start(config.timeSlice);\n        } else {\n            // default is 60 minutes; enough?\n            // use config => {timeSlice: 1000} otherwise\n\n            mediaRecorder.start(3.6e+6);\n        }\n\n        if (config.initCallback) {\n            config.initCallback(); // old code\n        }\n    };\n\n    /**\n     * @property {Array} timestamps - Array of time stamps\n     * @memberof MediaStreamRecorder\n     * @example\n     * console.log(recorder.timestamps);\n     */\n    this.timestamps = [];\n\n    function updateTimeStamp() {\n        self.timestamps.push(new Date().getTime());\n\n        if (typeof config.onTimeStamp === 'function') {\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\n        }\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        this.recordingCallback = function (blob) {\n            if (callback) {\n                callback(blob);\n            }\n        };\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.stop();\n        }\n\n        if (typeof config.timeSlice === 'number') {\n            setTimeout(function () {\n                self.blob = new Blob(arrayOfBlobs, {\n                    type: mediaRecorder.mimeType || config.mimeType || 'video/webm'\n                });\n\n                self.recordingCallback(self.blob);\n            }, 100);\n        }\n    };\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.pause();\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'paused') {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        arrayOfBlobs = [];\n        mediaRecorder = null;\n        self.timestamps = [];\n    };\n\n    // Reference to \"MediaRecorder\" object\n    var mediaRecorder;\n\n    /**\n     * Access to native MediaRecorder API\n     * @method\n     * @memberof MediaStreamRecorder\n     * @instance\n     * @example\n     * var internal = recorder.getInternalRecorder();\n     * internal.ondataavailable = function() {}; // override\n     * internal.stream, internal.onpause, internal.onstop, etc.\n     * @returns {Object} Returns internal recording object.\n     */\n    this.getInternalRecorder = function () {\n        return mediaRecorder;\n    };\n\n    function isMediaStreamActive() {\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) {\n            // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function() {\n     *     var blob = recorder.blob;\n     * });\n     */\n    this.blob = null;\n\n    /**\n     * Get MediaRecorder readonly state.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var state = recorder.getState();\n     * @returns {String} Returns recording state.\n     */\n    this.getState = function () {\n        if (!mediaRecorder) {\n            return 'inactive';\n        }\n\n        return mediaRecorder.state || 'inactive';\n    };\n\n    // list of all recording states\n    var allStates = [];\n\n    /**\n     * Get MediaRecorder all recording states.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var state = recorder.getAllStates();\n     * @returns {Array} Returns all recording states\n     */\n    this.getAllStates = function () {\n        return allStates;\n    };\n\n    // if any Track within the MediaStream is muted or not enabled at any time, \n    // the browser will only record black frames \n    // or silence since that is the content produced by the Track\n    // so we need to stopRecording as soon as any single track ends.\n    if (typeof config.checkForInactiveTracks === 'undefined') {\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\n    }\n\n    var self = this;\n\n    // this method checks if media stream is stopped\n    // or if any track is ended.\n    (function looper() {\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            self.stop();\n            return;\n        }\n\n        setTimeout(looper, 1000); // check every second\n    })();\n\n    // for debugging\n    this.name = 'MediaStreamRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\n}\n\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\n// https://github.com/mattdiamond/Recorderjs#license-mit\n// ______________________\n// StereoAudioRecorder.js\n\n/**\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\n * @summary JavaScript standalone object for stereo audio recording.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef StereoAudioRecorder\n * @class\n * @example\n * var recorder = new StereoAudioRecorder(MediaStream, {\n *     sampleRate: 44100,\n *     bufferSize: 4096\n * });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\n */\n\nfunction StereoAudioRecorder(mediaStream, config) {\n    if (!mediaStream.getAudioTracks().length) {\n        throw 'Your stream has no audio tracks.';\n    }\n\n    config = config || {};\n\n    var self = this;\n\n    // variables\n    var leftchannel = [];\n    var rightchannel = [];\n    var recording = false;\n    var recordingLength = 0;\n    var jsAudioNode;\n\n    var numberOfAudioChannels = 2;\n\n    /**\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\n     * @memberof StereoAudioRecorder\n     * @instance\n     * @example\n     * var recorder = StereoAudioRecorder(mediaStream, {\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\n     * });\n     */\n    var desiredSampRate = config.desiredSampRate;\n\n    // backward compatibility\n    if (config.leftChannel === true) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (config.numberOfAudioChannels === 1) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (!config.disableLogs) {\n        console.log('StereoAudioRecorder is set to record number of channels: ', numberOfAudioChannels);\n    }\n\n    // if any Track within the MediaStream is muted or not enabled at any time, \n    // the browser will only record black frames \n    // or silence since that is the content produced by the Track\n    // so we need to stopRecording as soon as any single track ends.\n    if (typeof config.checkForInactiveTracks === 'undefined') {\n        config.checkForInactiveTracks = true;\n    }\n\n    function isMediaStreamActive() {\n        if (config.checkForInactiveTracks === false) {\n            // always return \"true\"\n            return true;\n        }\n\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) {\n            // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        // reset the buffers for the new recording\n        leftchannel.length = rightchannel.length = 0;\n        recordingLength = 0;\n\n        if (audioInput) {\n            audioInput.connect(jsAudioNode);\n        }\n\n        // to prevent self audio to be connected with speakers\n        // jsAudioNode.connect(context.destination);\n\n        isAudioProcessStarted = isPaused = false;\n        recording = true;\n    };\n\n    function mergeLeftRightBuffers(config, callback) {\n        function mergeAudioBuffers(config, cb) {\n            var numberOfAudioChannels = config.numberOfAudioChannels;\n\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\n            var leftBuffers = config.leftBuffers.slice(0);\n            var rightBuffers = config.rightBuffers.slice(0);\n            var sampleRate = config.sampleRate;\n            var internalInterleavedLength = config.internalInterleavedLength;\n            var desiredSampRate = config.desiredSampRate;\n\n            if (numberOfAudioChannels === 2) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\n                if (desiredSampRate) {\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\n                }\n            }\n\n            if (numberOfAudioChannels === 1) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n                if (desiredSampRate) {\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\n                }\n            }\n\n            // set sample rate as desired sample rate\n            if (desiredSampRate) {\n                sampleRate = desiredSampRate;\n            }\n\n            // for changing the sampling rate, reference:\n            // http://stackoverflow.com/a/28977136/552182\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\n                //var newData = new Array();\n                var newData = [];\n                //var springFactor = new Number((data.length - 1) / (fitCount - 1));\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\n                newData[0] = data[0]; // for new allocation\n                for (var i = 1; i < fitCount - 1; i++) {\n                    var tmp = i * springFactor;\n                    //var before = new Number(Math.floor(tmp)).toFixed();\n                    //var after = new Number(Math.ceil(tmp)).toFixed();\n                    var before = Number(Math.floor(tmp)).toFixed();\n                    var after = Number(Math.ceil(tmp)).toFixed();\n                    var atPoint = tmp - before;\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\n                }\n                newData[fitCount - 1] = data[data.length - 1]; // for new allocation\n                return newData;\n            }\n\n            function linearInterpolate(before, after, atPoint) {\n                return before + (after - before) * atPoint;\n            }\n\n            function mergeBuffers(channelBuffer, rLength) {\n                var result = new Float64Array(rLength);\n                var offset = 0;\n                var lng = channelBuffer.length;\n\n                for (var i = 0; i < lng; i++) {\n                    var buffer = channelBuffer[i];\n                    result.set(buffer, offset);\n                    offset += buffer.length;\n                }\n\n                return result;\n            }\n\n            function interleave(leftChannel, rightChannel) {\n                var length = leftChannel.length + rightChannel.length;\n\n                var result = new Float64Array(length);\n\n                var inputIndex = 0;\n\n                for (var index = 0; index < length;) {\n                    result[index++] = leftChannel[inputIndex];\n                    result[index++] = rightChannel[inputIndex];\n                    inputIndex++;\n                }\n                return result;\n            }\n\n            function writeUTFBytes(view, offset, string) {\n                var lng = string.length;\n                for (var i = 0; i < lng; i++) {\n                    view.setUint8(offset + i, string.charCodeAt(i));\n                }\n            }\n\n            // interleave both channels together\n            var interleaved;\n\n            if (numberOfAudioChannels === 2) {\n                interleaved = interleave(leftBuffers, rightBuffers);\n            }\n\n            if (numberOfAudioChannels === 1) {\n                interleaved = leftBuffers;\n            }\n\n            var interleavedLength = interleaved.length;\n\n            // create wav file\n            var resultingBufferLength = 44 + interleavedLength * 2;\n\n            var buffer = new ArrayBuffer(resultingBufferLength);\n\n            var view = new DataView(buffer);\n\n            // RIFF chunk descriptor/identifier \n            writeUTFBytes(view, 0, 'RIFF');\n\n            // RIFF chunk length\n            view.setUint32(4, 44 + interleavedLength * 2, true);\n\n            // RIFF type \n            writeUTFBytes(view, 8, 'WAVE');\n\n            // format chunk identifier \n            // FMT sub-chunk\n            writeUTFBytes(view, 12, 'fmt ');\n\n            // format chunk length \n            view.setUint32(16, 16, true);\n\n            // sample format (raw)\n            view.setUint16(20, 1, true);\n\n            // stereo (2 channels)\n            view.setUint16(22, numberOfAudioChannels, true);\n\n            // sample rate \n            view.setUint32(24, sampleRate, true);\n\n            // byte rate (sample rate * block align)\n            view.setUint32(28, sampleRate * 2, true);\n\n            // block align (channel count * bytes per sample) \n            view.setUint16(32, numberOfAudioChannels * 2, true);\n\n            // bits per sample \n            view.setUint16(34, 16, true);\n\n            // data sub-chunk\n            // data chunk identifier \n            writeUTFBytes(view, 36, 'data');\n\n            // data chunk length \n            view.setUint32(40, interleavedLength * 2, true);\n\n            // write the PCM samples\n            var lng = interleavedLength;\n            var index = 44;\n            var volume = 1;\n            for (var i = 0; i < lng; i++) {\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\n                index += 2;\n            }\n\n            if (cb) {\n                return cb({\n                    buffer: buffer,\n                    view: view\n                });\n            }\n\n            postMessage({\n                buffer: buffer,\n                view: view\n            });\n        }\n\n        if (!isChrome) {\n            // its Microsoft Edge\n            mergeAudioBuffers(config, function (data) {\n                callback(data.buffer, data.view);\n            });\n            return;\n        }\n\n        var webWorker = processInWebWorker(mergeAudioBuffers);\n\n        webWorker.onmessage = function (event) {\n            callback(event.data.buffer, event.data.view);\n\n            // release memory\n            URL.revokeObjectURL(webWorker.workerURL);\n        };\n\n        webWorker.postMessage(config);\n    }\n\n    function processInWebWorker(_function) {\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(), ';this.onmessage =  function (e) {' + _function.name + '(e.data);}'], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(workerURL);\n        worker.workerURL = workerURL;\n        return worker;\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        // stop recording\n        recording = false;\n\n        // to make sure onaudioprocess stops firing\n        // audioInput.disconnect();\n\n        mergeLeftRightBuffers({\n            desiredSampRate: desiredSampRate,\n            sampleRate: sampleRate,\n            numberOfAudioChannels: numberOfAudioChannels,\n            internalInterleavedLength: recordingLength,\n            leftBuffers: leftchannel,\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel\n        }, function (buffer, view) {\n            /**\n             * @property {Blob} blob - The recorded blob object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var blob = recorder.blob;\n             * });\n             */\n            self.blob = new Blob([view], {\n                type: 'audio/wav'\n            });\n\n            /**\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var buffer = recorder.buffer;\n             * });\n             */\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\n\n            /**\n             * @property {DataView} view - The recorded data-view object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var view = recorder.view;\n             * });\n             */\n            self.view = view;\n\n            self.sampleRate = desiredSampRate || sampleRate;\n            self.bufferSize = bufferSize;\n\n            // recorded audio length\n            self.length = recordingLength;\n\n            if (callback) {\n                callback(self.blob);\n            }\n\n            isAudioProcessStarted = false;\n        });\n    };\n\n    if (!Storage.AudioContextConstructor) {\n        Storage.AudioContextConstructor = new Storage.AudioContext();\n    }\n\n    var context = Storage.AudioContextConstructor;\n\n    // creates an audio node from the microphone incoming stream\n    var audioInput = context.createMediaStreamSource(mediaStream);\n\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\n\n    /**\n     * From the spec: This value controls how frequently the audioprocess event is\n     * dispatched and how many sample-frames need to be processed each call.\n     * Lower values for buffer size will result in a lower (better) latency.\n     * Higher values will be necessary to avoid audio breakup and glitches\n     * The size of the buffer (in sample-frames) which needs to\n     * be processed each time onprocessaudio is called.\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     bufferSize: 4096\n     * });\n     */\n\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\n\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\n        if (!config.disableLogs) {\n            console.warn('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\n        }\n    }\n\n    if (context.createJavaScriptNode) {\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else if (context.createScriptProcessor) {\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else {\n        throw 'WebAudio API has no support on this browser.';\n    }\n\n    // connect the stream to the gain node\n    audioInput.connect(jsAudioNode);\n\n    if (!config.bufferSize) {\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\n    }\n\n    /**\n     * The sample rate (in sample-frames per second) at which the\n     * AudioContext handles audio. It is assumed that all AudioNodes\n     * in the context run at this rate. In making this assumption,\n     * sample-rate converters or \"varispeed\" processors are not supported\n     * in real-time processing.\n     * The sampleRate parameter describes the sample-rate of the\n     * linear PCM audio data in the buffer in sample-frames per second.\n     * An implementation must support sample-rates in at least\n     * the range 22050 to 96000.\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     sampleRate: 44100\n     * });\n     */\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\n\n    if (sampleRate < 22050 || sampleRate > 96000) {\n        // Ref: http://stackoverflow.com/a/26303918/552182\n        if (!config.disableLogs) {\n            console.warn('sample-rate must be under range 22050 and 96000.');\n        }\n    }\n\n    if (!config.disableLogs) {\n        console.log('sample-rate', sampleRate);\n        console.log('buffer-size', bufferSize);\n\n        if (config.desiredSampRate) {\n            console.log('Desired sample-rate', config.desiredSampRate);\n        }\n    }\n\n    var isPaused = false;\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        isPaused = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        if (!recording) {\n            if (!config.disableLogs) {\n                console.log('Seems recording has been restarted.');\n            }\n            this.record();\n            return;\n        }\n\n        isPaused = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        this.pause();\n\n        leftchannel.length = rightchannel.length = 0;\n        recordingLength = 0;\n    };\n\n    // for debugging\n    this.name = 'StereoAudioRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n\n    var isAudioProcessStarted = false;\n\n    function onAudioProcessDataAvailable(e) {\n        if (isPaused) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            jsAudioNode.disconnect();\n            recording = false;\n        }\n\n        if (!recording) {\n            audioInput.disconnect();\n            return;\n        }\n\n        /**\n         * This method is called on \"onaudioprocess\" event's first invocation.\n         * @method {function} onAudioProcessStarted\n         * @memberof StereoAudioRecorder\n         * @example\n         * recorder.onAudioProcessStarted: function() { };\n         */\n        if (!isAudioProcessStarted) {\n            isAudioProcessStarted = true;\n            if (config.onAudioProcessStarted) {\n                config.onAudioProcessStarted();\n            }\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        }\n\n        var left = e.inputBuffer.getChannelData(0);\n\n        // we clone the samples\n        leftchannel.push(new Float32Array(left));\n\n        if (numberOfAudioChannels === 2) {\n            var right = e.inputBuffer.getChannelData(1);\n            rightchannel.push(new Float32Array(right));\n        }\n\n        recordingLength += bufferSize;\n\n        // export raw PCM\n        self.recordingLength = recordingLength;\n    }\n\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\n\n    // to prevent self audio to be connected with speakers\n    jsAudioNode.connect(context.destination);\n\n    // export raw PCM\n    this.leftchannel = leftchannel;\n    this.rightchannel = rightchannel;\n    this.numberOfAudioChannels = numberOfAudioChannels;\n    this.desiredSampRate = desiredSampRate;\n    this.sampleRate = sampleRate;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\n}\n\n// _________________\n// CanvasRecorder.js\n\n/**\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\n * @summary HTML2Canvas recording into video WebM.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef CanvasRecorder\n * @class\n * @example\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\n * @param {object} config - {disableLogs:true, initCallback: function}\n */\n\nfunction CanvasRecorder(htmlElement, config) {\n    if (typeof html2canvas === 'undefined' && htmlElement.nodeName.toLowerCase() !== 'canvas') {\n        throw 'Please link: https://cdn.webrtc-experiment.com/screenshot.js';\n    }\n\n    config = config || {};\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    // via DetectRTC.js\n    var isCanvasSupportsStreamCapturing = false;\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function (item) {\n        if (item in document.createElement('canvas')) {\n            isCanvasSupportsStreamCapturing = true;\n        }\n    });\n\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\n\n    var chromeVersion = 50;\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    if (_isChrome && matchArray && matchArray[2]) {\n        chromeVersion = parseInt(matchArray[2], 10);\n    }\n\n    if (_isChrome && chromeVersion < 52) {\n        isCanvasSupportsStreamCapturing = false;\n    }\n\n    var globalCanvas, mediaStreamRecorder;\n\n    if (isCanvasSupportsStreamCapturing) {\n        if (!config.disableLogs) {\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\n        }\n\n        if (htmlElement instanceof HTMLCanvasElement) {\n            globalCanvas = htmlElement;\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\n            globalCanvas = htmlElement.canvas;\n        } else {\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\n        }\n    } else if (!!navigator.mozGetUserMedia) {\n        if (!config.disableLogs) {\n            console.error('Canvas recording is NOT supported in Firefox.');\n        }\n    }\n\n    var isRecording;\n\n    /**\n     * This method records Canvas.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        isRecording = true;\n\n        if (isCanvasSupportsStreamCapturing) {\n            // CanvasCaptureMediaStream\n            var canvasMediaStream;\n            if ('captureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\n            } else if ('mozCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\n            } else if ('webkitCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\n            }\n\n            try {\n                var mdStream = new MediaStream();\n                mdStream.addTrack(canvasMediaStream.getVideoTracks()[0]);\n                canvasMediaStream = mdStream;\n            } catch (e) {}\n\n            if (!canvasMediaStream) {\n                throw 'captureStream API are NOT available.';\n            }\n\n            // Note: Jan 18, 2016 status is that, \n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\n                mimeType: 'video/webm'\n            });\n            mediaStreamRecorder.record();\n        } else {\n            whammy.frames = [];\n            lastTime = new Date().getTime();\n            drawCanvasFrame();\n        }\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    this.getWebPImages = function (callback) {\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\n            callback();\n            return;\n        }\n\n        var framesLength = whammy.frames.length;\n        whammy.frames.forEach(function (frame, idx) {\n            var framesRemaining = framesLength - idx;\n            if (!config.disableLogs) {\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\n            }\n\n            if (config.onEncodingCallback) {\n                config.onEncodingCallback(framesRemaining, framesLength);\n            }\n\n            var webp = frame.image.toDataURL('image/webp', 1);\n            whammy.frames[idx].image = webp;\n        });\n\n        if (!config.disableLogs) {\n            console.log('Generating WebM');\n        }\n\n        callback();\n    };\n\n    /**\n     * This method stops recording Canvas.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        isRecording = false;\n\n        var that = this;\n\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\n            mediaStreamRecorder.stop(callback);\n            return;\n        }\n\n        this.getWebPImages(function () {\n            /**\n             * @property {Blob} blob - Recorded frames in video/webm blob.\n             * @memberof CanvasRecorder\n             * @example\n             * recorder.stop(function() {\n             *     var blob = recorder.blob;\n             * });\n             */\n            whammy.compile(function (blob) {\n                if (!config.disableLogs) {\n                    console.log('Recording finished!');\n                }\n\n                that.blob = blob;\n\n                if (that.blob.forEach) {\n                    that.blob = new Blob([], {\n                        type: 'video/webm'\n                    });\n                }\n\n                if (callback) {\n                    callback(that.blob);\n                }\n\n                whammy.frames = [];\n            });\n        });\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        isPausedRecording = true;\n\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\n            mediaStreamRecorder.pause();\n            return;\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        isPausedRecording = false;\n\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\n            mediaStreamRecorder.resume();\n            return;\n        }\n\n        if (!isRecording) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        this.pause();\n        whammy.frames = [];\n    };\n\n    // for debugging\n    this.name = 'CanvasRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n\n    function cloneCanvas() {\n        //create a new canvas\n        var newCanvas = document.createElement('canvas');\n        var context = newCanvas.getContext('2d');\n\n        //set dimensions\n        newCanvas.width = htmlElement.width;\n        newCanvas.height = htmlElement.height;\n\n        //apply the old canvas to the new one\n        context.drawImage(htmlElement, 0, 0);\n\n        //return the new canvas\n        return newCanvas;\n    }\n\n    function drawCanvasFrame() {\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawCanvasFrame, 500);\n        }\n\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\n            var duration = new Date().getTime() - lastTime;\n            // via #206, by Jack i.e. @Seymourr\n            lastTime = new Date().getTime();\n\n            whammy.frames.push({\n                image: cloneCanvas(),\n                duration: duration\n            });\n\n            if (isRecording) {\n                setTimeout(drawCanvasFrame, config.frameInterval);\n            }\n            return;\n        }\n\n        html2canvas(htmlElement, {\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\n            onrendered: function onrendered(canvas) {\n                var duration = new Date().getTime() - lastTime;\n                if (!duration) {\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n\n                // via #206, by Jack i.e. @Seymourr\n                lastTime = new Date().getTime();\n\n                whammy.frames.push({\n                    image: canvas.toDataURL('image/webp', 1),\n                    duration: duration\n                });\n\n                if (isRecording) {\n                    setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n            }\n        });\n    }\n\n    var lastTime = new Date().getTime();\n\n    var whammy = new Whammy.Video(100);\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.CanvasRecorder = CanvasRecorder;\n}\n\n// _________________\n// WhammyRecorder.js\n\n/**\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\n * @summary Video recording feature in Chrome.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef WhammyRecorder\n * @class\n * @example\n * var recorder = new WhammyRecorder(mediaStream);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\n */\n\nfunction WhammyRecorder(mediaStream, config) {\n\n    config = config || {};\n\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    if (!config.disableLogs) {\n        console.log('Using frames-interval:', config.frameInterval);\n    }\n\n    /**\n     * This method records video.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        if (!config.width) {\n            config.width = 320;\n        }\n\n        if (!config.height) {\n            config.height = 240;\n        }\n\n        if (!config.video) {\n            config.video = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        if (!config.canvas) {\n            config.canvas = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        canvas.width = config.canvas.width || 320;\n        canvas.height = config.canvas.height || 240;\n\n        context = canvas.getContext('2d');\n\n        // setting defaults\n        if (config.video && config.video instanceof HTMLVideoElement) {\n            video = config.video.cloneNode();\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        } else {\n            video = document.createElement('video');\n\n            if (typeof video.srcObject !== 'undefined') {\n                video.srcObject = mediaStream;\n            } else {\n                video.src = URL.createObjectURL(mediaStream);\n            }\n\n            video.onloadedmetadata = function () {\n                // \"onloadedmetadata\" may NOT work in FF?\n                if (config.initCallback) {\n                    config.initCallback();\n                }\n            };\n\n            video.width = config.video.width;\n            video.height = config.video.height;\n        }\n\n        video.muted = true;\n        video.play();\n\n        lastTime = new Date().getTime();\n        whammy = new Whammy.Video();\n\n        if (!config.disableLogs) {\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\n        }\n\n        drawFrames(config.frameInterval);\n    };\n\n    /**\n     * Draw and push frames to Whammy\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\n     */\n    function drawFrames(frameInterval) {\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\n\n        var duration = new Date().getTime() - lastTime;\n        if (!duration) {\n            return setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawFrames, 100);\n        }\n\n        // via #206, by Jack i.e. @Seymourr\n        lastTime = new Date().getTime();\n\n        if (video.paused) {\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n            // Tweak for Android Chrome\n            video.play();\n        }\n\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        whammy.frames.push({\n            duration: duration,\n            image: canvas.toDataURL('image/webp')\n        });\n\n        if (!isStopDrawing) {\n            setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n    }\n\n    function asyncLoop(o) {\n        var i = -1,\n            length = o.length;\n\n        (function loop() {\n            i++;\n            if (i === length) {\n                o.callback();\n                return;\n            }\n\n            // \"setTimeout\" added by Jim McLeod\n            setTimeout(function () {\n                o.functionToLoop(loop, i);\n            }, 1);\n        })();\n    }\n\n    /**\n     * remove black frames from the beginning to the specified frame\n     * @param {Array} _frames - array of frames to be checked\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\n     * @returns {Array} - array of frames\n     */\n    // pull#293 by @volodalexey\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, _callback2) {\n        var localCanvas = document.createElement('canvas');\n        localCanvas.width = canvas.width;\n        localCanvas.height = canvas.height;\n        var context2d = localCanvas.getContext('2d');\n        var resultFrames = [];\n\n        var checkUntilNotBlack = _framesToCheck === -1;\n        var endCheckFrame = _framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length ? _framesToCheck : _frames.length;\n        var sampleColor = {\n            r: 0,\n            g: 0,\n            b: 0\n        };\n        var maxColorDifference = Math.sqrt(Math.pow(255, 2) + Math.pow(255, 2) + Math.pow(255, 2));\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\n        var doNotCheckNext = false;\n\n        asyncLoop({\n            length: endCheckFrame,\n            functionToLoop: function functionToLoop(loop, f) {\n                var matchPixCount, endPixCheck, maxPixCount;\n\n                var finishImage = function finishImage() {\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\n                    } else {\n                        // console.log('frame is passed : ' + f);\n                        if (checkUntilNotBlack) {\n                            doNotCheckNext = true;\n                        }\n                        resultFrames.push(_frames[f]);\n                    }\n                    loop();\n                };\n\n                if (!doNotCheckNext) {\n                    var image = new Image();\n                    image.onload = function () {\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\n                        matchPixCount = 0;\n                        endPixCheck = imageData.data.length;\n                        maxPixCount = imageData.data.length / 4;\n\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\n                            var currentColor = {\n                                r: imageData.data[pix],\n                                g: imageData.data[pix + 1],\n                                b: imageData.data[pix + 2]\n                            };\n                            var colorDifference = Math.sqrt(Math.pow(currentColor.r - sampleColor.r, 2) + Math.pow(currentColor.g - sampleColor.g, 2) + Math.pow(currentColor.b - sampleColor.b, 2));\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\n                                matchPixCount++;\n                            }\n                        }\n                        finishImage();\n                    };\n                    image.src = _frames[f].image;\n                } else {\n                    finishImage();\n                }\n            },\n            callback: function callback() {\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\n\n                if (resultFrames.length <= 0) {\n                    // at least one last frame should be available for next manipulation\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\n                    resultFrames.push(_frames[_frames.length - 1]);\n                }\n                _callback2(resultFrames);\n            }\n        });\n    }\n\n    var isStopDrawing = false;\n\n    /**\n     * This method stops recording video.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        isStopDrawing = true;\n\n        var _this = this;\n        // analyse of all frames takes some time!\n        setTimeout(function () {\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\n            dropBlackFrames(whammy.frames, -1, null, null, function (frames) {\n                whammy.frames = frames;\n\n                // to display advertisement images!\n                if (config.advertisement && config.advertisement.length) {\n                    whammy.frames = config.advertisement.concat(whammy.frames);\n                }\n\n                /**\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\n                 * @memberof WhammyRecorder\n                 * @example\n                 * recorder.stop(function() {\n                 *     var blob = recorder.blob;\n                 * });\n                 */\n                whammy.compile(function (blob) {\n                    _this.blob = blob;\n\n                    if (_this.blob.forEach) {\n                        _this.blob = new Blob([], {\n                            type: 'video/webm'\n                        });\n                    }\n\n                    if (callback) {\n                        callback(_this.blob);\n                    }\n                });\n            });\n        }, 10);\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        isPausedRecording = false;\n\n        if (isStopDrawing) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        this.pause();\n        whammy.frames = [];\n    };\n\n    // for debugging\n    this.name = 'WhammyRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    var video;\n    var lastTime;\n    var whammy;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.WhammyRecorder = WhammyRecorder;\n}\n\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\n// _________\n// Whammy.js\n\n// todo: Firefox now supports webp for webm containers!\n// their MediaRecorder implementation works well!\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\n\n/**\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\n * @summary A real time javascript webm encoder based on a canvas hack.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef Whammy\n * @class\n * @example\n * var recorder = new Whammy().Video(15);\n * recorder.add(context || canvas || dataURL);\n * var output = recorder.compile();\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Whammy = function () {\n    // a more abstract-ish API\n\n    function WhammyVideo(duration) {\n        this.frames = [];\n        this.duration = duration || 1;\n        this.quality = 0.8;\n    }\n\n    /**\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.add(canvas || context || 'image/webp');\n     * @param {string} frame - Canvas || Context || image/webp\n     * @param {number} duration - Stick a duration (in milliseconds)\n     */\n    WhammyVideo.prototype.add = function (frame, duration) {\n        if ('canvas' in frame) {\n            //CanvasRenderingContext2D\n            frame = frame.canvas;\n        }\n\n        if ('toDataURL' in frame) {\n            frame = frame.toDataURL('image/webp', this.quality);\n        }\n\n        if (!/^data:image\\/webp;base64,/ig.test(frame)) {\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\n        }\n        this.frames.push({\n            image: frame,\n            duration: duration || this.duration\n        });\n    };\n\n    function processInWebWorker(_function) {\n        var blob = URL.createObjectURL(new Blob([_function.toString(), 'this.onmessage =  function (e) {' + _function.name + '(e.data);}'], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(blob);\n        URL.revokeObjectURL(blob);\n        return worker;\n    }\n\n    function whammyInWebWorker(frames) {\n        function ArrayToWebM(frames) {\n            var info = checkFrames(frames);\n            if (!info) {\n                return [];\n            }\n\n            var clusterMaxDuration = 30000;\n\n            var EBML = [{\n                'id': 0x1a45dfa3, // EBML\n                'data': [{\n                    'data': 1,\n                    'id': 0x4286 // EBMLVersion\n                }, {\n                    'data': 1,\n                    'id': 0x42f7 // EBMLReadVersion\n                }, {\n                    'data': 4,\n                    'id': 0x42f2 // EBMLMaxIDLength\n                }, {\n                    'data': 8,\n                    'id': 0x42f3 // EBMLMaxSizeLength\n                }, {\n                    'data': 'webm',\n                    'id': 0x4282 // DocType\n                }, {\n                    'data': 2,\n                    'id': 0x4287 // DocTypeVersion\n                }, {\n                    'data': 2,\n                    'id': 0x4285 // DocTypeReadVersion\n                }]\n            }, {\n                'id': 0x18538067, // Segment\n                'data': [{\n                    'id': 0x1549a966, // Info\n                    'data': [{\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\n                        'id': 0x2ad7b1 // TimecodeScale\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x4d80 // MuxingApp\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x5741 // WritingApp\n                    }, {\n                        'data': doubleToString(info.duration),\n                        'id': 0x4489 // Duration\n                    }]\n                }, {\n                    'id': 0x1654ae6b, // Tracks\n                    'data': [{\n                        'id': 0xae, // TrackEntry\n                        'data': [{\n                            'data': 1,\n                            'id': 0xd7 // TrackNumber\n                        }, {\n                            'data': 1,\n                            'id': 0x73c5 // TrackUID\n                        }, {\n                            'data': 0,\n                            'id': 0x9c // FlagLacing\n                        }, {\n                            'data': 'und',\n                            'id': 0x22b59c // Language\n                        }, {\n                            'data': 'V_VP8',\n                            'id': 0x86 // CodecID\n                        }, {\n                            'data': 'VP8',\n                            'id': 0x258688 // CodecName\n                        }, {\n                            'data': 1,\n                            'id': 0x83 // TrackType\n                        }, {\n                            'id': 0xe0, // Video\n                            'data': [{\n                                'data': info.width,\n                                'id': 0xb0 // PixelWidth\n                            }, {\n                                'data': info.height,\n                                'id': 0xba // PixelHeight\n                            }]\n                        }]\n                    }]\n                }]\n            }];\n\n            //Generate clusters (max duration)\n            var frameNumber = 0;\n            var clusterTimecode = 0;\n            while (frameNumber < frames.length) {\n\n                var clusterFrames = [];\n                var clusterDuration = 0;\n                do {\n                    clusterFrames.push(frames[frameNumber]);\n                    clusterDuration += frames[frameNumber].duration;\n                    frameNumber++;\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\n\n                var clusterCounter = 0;\n                var cluster = {\n                    'id': 0x1f43b675, // Cluster\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\n                }; //Add cluster to segment\n                EBML[1].data.push(cluster);\n                clusterTimecode += clusterDuration;\n            }\n\n            return generateEBML(EBML);\n        }\n\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\n            return [{\n                'data': clusterTimecode,\n                'id': 0xe7 // Timecode\n            }].concat(clusterFrames.map(function (webp) {\n                var block = makeSimpleBlock({\n                    discardable: 0,\n                    frame: webp.data.slice(4),\n                    invisible: 0,\n                    keyframe: 1,\n                    lacing: 0,\n                    trackNum: 1,\n                    timecode: Math.round(clusterCounter)\n                });\n                clusterCounter += webp.duration;\n                return {\n                    data: block,\n                    id: 0xa3\n                };\n            }));\n        }\n\n        // sums the lengths of all the frames and gets the duration\n\n        function checkFrames(frames) {\n            if (!frames[0]) {\n                postMessage({\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\n                });\n                return;\n            }\n\n            var width = frames[0].width,\n                height = frames[0].height,\n                duration = frames[0].duration;\n\n            for (var i = 1; i < frames.length; i++) {\n                duration += frames[i].duration;\n            }\n            return {\n                duration: duration,\n                width: width,\n                height: height\n            };\n        }\n\n        function numToBuffer(num) {\n            var parts = [];\n            while (num > 0) {\n                parts.push(num & 0xff);\n                num = num >> 8;\n            }\n            return new Uint8Array(parts.reverse());\n        }\n\n        function strToBuffer(str) {\n            return new Uint8Array(str.split('').map(function (e) {\n                return e.charCodeAt(0);\n            }));\n        }\n\n        function bitsToBuffer(bits) {\n            var data = [];\n            var pad = bits.length % 8 ? new Array(1 + 8 - bits.length % 8).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data.push(parseInt(bits.substr(i, 8), 2));\n            }\n            return new Uint8Array(data);\n        }\n\n        function generateEBML(json) {\n            var ebml = [];\n            for (var i = 0; i < json.length; i++) {\n                var data = json[i].data;\n\n                if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n                    data = generateEBML(data);\n                }\n\n                if (typeof data === 'number') {\n                    data = bitsToBuffer(data.toString(2));\n                }\n\n                if (typeof data === 'string') {\n                    data = strToBuffer(data);\n                }\n\n                var len = data.size || data.byteLength || data.length;\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\n                var sizeToString = len.toString(2);\n                var padded = new Array(zeroes * 7 + 7 + 1 - sizeToString.length).join('0') + sizeToString;\n                var size = new Array(zeroes).join('0') + '1' + padded;\n\n                ebml.push(numToBuffer(json[i].id));\n                ebml.push(bitsToBuffer(size));\n                ebml.push(data);\n            }\n\n            return new Blob(ebml, {\n                type: 'video/webm'\n            });\n        }\n\n        function toBinStrOld(bits) {\n            var data = '';\n            var pad = bits.length % 8 ? new Array(1 + 8 - bits.length % 8).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\n            }\n            return data;\n        }\n\n        function makeSimpleBlock(data) {\n            var flags = 0;\n\n            if (data.keyframe) {\n                flags |= 128;\n            }\n\n            if (data.invisible) {\n                flags |= 8;\n            }\n\n            if (data.lacing) {\n                flags |= data.lacing << 1;\n            }\n\n            if (data.discardable) {\n                flags |= 1;\n            }\n\n            if (data.trackNum > 127) {\n                throw 'TrackNumber > 127 not supported';\n            }\n\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function (e) {\n                return String.fromCharCode(e);\n            }).join('') + data.frame;\n\n            return out;\n        }\n\n        function parseWebP(riff) {\n            var VP8 = riff.RIFF[0].WEBP[0];\n\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\n            for (var i = 0, c = []; i < 4; i++) {\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\n            }\n\n            var width, height, tmp;\n\n            //the code below is literally copied verbatim from the bitstream spec\n            tmp = c[1] << 8 | c[0];\n            width = tmp & 0x3FFF;\n            tmp = c[3] << 8 | c[2];\n            height = tmp & 0x3FFF;\n            return {\n                width: width,\n                height: height,\n                data: VP8,\n                riff: riff\n            };\n        }\n\n        function getStrLength(string, offset) {\n            return parseInt(string.substr(offset + 4, 4).split('').map(function (i) {\n                var unpadded = i.charCodeAt(0).toString(2);\n                return new Array(8 - unpadded.length + 1).join('0') + unpadded;\n            }).join(''), 2);\n        }\n\n        function parseRIFF(string) {\n            var offset = 0;\n            var chunks = {};\n\n            while (offset < string.length) {\n                var id = string.substr(offset, 4);\n                var len = getStrLength(string, offset);\n                var data = string.substr(offset + 4 + 4, len);\n                offset += 4 + 4 + len;\n                chunks[id] = chunks[id] || [];\n\n                if (id === 'RIFF' || id === 'LIST') {\n                    chunks[id].push(parseRIFF(data));\n                } else {\n                    chunks[id].push(data);\n                }\n            }\n            return chunks;\n        }\n\n        function doubleToString(num) {\n            return [].slice.call(new Uint8Array(new Float64Array([num]).buffer), 0).map(function (e) {\n                return String.fromCharCode(e);\n            }).reverse().join('');\n        }\n\n        var webm = new ArrayToWebM(frames.map(function (frame) {\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n            webp.duration = frame.duration;\n            return webp;\n        }));\n\n        postMessage(webm);\n    }\n\n    /**\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.compile(function(blob) {\n     *    // blob.size - blob.type\n     * });\n     */\n    WhammyVideo.prototype.compile = function (callback) {\n        var webWorker = processInWebWorker(whammyInWebWorker);\n\n        webWorker.onmessage = function (event) {\n            if (event.data.error) {\n                console.error(event.data.error);\n                return;\n            }\n            callback(event.data);\n        };\n\n        webWorker.postMessage(this.frames);\n    };\n\n    return {\n        /**\n         * A more abstract-ish API.\n         * @method\n         * @memberof Whammy\n         * @example\n         * recorder = new Whammy().Video(0.8, 100);\n         * @param {?number} speed - 0.8\n         * @param {?number} quality - 100\n         */\n        Video: WhammyVideo\n    };\n}();\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Whammy = Whammy;\n}\n\n// ______________ (indexed-db)\n// DiskStorage.js\n\n/**\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\n * @summary Writing blobs into IndexedDB.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @example\n * DiskStorage.Store({\n *     audioBlob: yourAudioBlob,\n *     videoBlob: yourVideoBlob,\n *     gifBlob  : yourGifBlob\n * });\n * DiskStorage.Fetch(function(dataURL, type) {\n *     if(type === 'audioBlob') { }\n *     if(type === 'videoBlob') { }\n *     if(type === 'gifBlob')   { }\n * });\n * // DiskStorage.dataStoreName = 'recordRTC';\n * // DiskStorage.onError = function(error) { };\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\n * @property {function} Store - This method stores blobs in IndexedDB.\n * @property {function} onError - This function is invoked for any known/unknown error.\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar DiskStorage = {\n    /**\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.init();\n     */\n    init: function init() {\n        var self = this;\n\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\n            console.error('IndexedDB API are not available in this browser.');\n            return;\n        }\n\n        var dbVersion = 1;\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\n            db;\n        var request = indexedDB.open(dbName, dbVersion);\n\n        function createObjectStore(dataBase) {\n            dataBase.createObjectStore(self.dataStoreName);\n        }\n\n        function putInDB() {\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\n\n            if (self.videoBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\n            }\n\n            if (self.gifBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\n            }\n\n            if (self.audioBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\n            }\n\n            function getFromStore(portionName) {\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function (event) {\n                    if (self.callback) {\n                        self.callback(event.target.result, portionName);\n                    }\n                };\n            }\n\n            getFromStore('audioBlob');\n            getFromStore('videoBlob');\n            getFromStore('gifBlob');\n        }\n\n        request.onerror = self.onError;\n\n        request.onsuccess = function () {\n            db = request.result;\n            db.onerror = self.onError;\n\n            if (db.setVersion) {\n                if (db.version !== dbVersion) {\n                    var setVersion = db.setVersion(dbVersion);\n                    setVersion.onsuccess = function () {\n                        createObjectStore(db);\n                        putInDB();\n                    };\n                } else {\n                    putInDB();\n                }\n            } else {\n                putInDB();\n            }\n        };\n        request.onupgradeneeded = function (event) {\n            createObjectStore(event.target.result);\n        };\n    },\n    /**\n     * This method fetches stored blobs from IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Fetch(function(dataURL, type) {\n     *     if(type === 'audioBlob') { }\n     *     if(type === 'videoBlob') { }\n     *     if(type === 'gifBlob')   { }\n     * });\n     */\n    Fetch: function Fetch(callback) {\n        this.callback = callback;\n        this.init();\n\n        return this;\n    },\n    /**\n     * This method stores blobs in IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Store({\n     *     audioBlob: yourAudioBlob,\n     *     videoBlob: yourVideoBlob,\n     *     gifBlob  : yourGifBlob\n     * });\n     */\n    Store: function Store(config) {\n        this.audioBlob = config.audioBlob;\n        this.videoBlob = config.videoBlob;\n        this.gifBlob = config.gifBlob;\n\n        this.init();\n\n        return this;\n    },\n    /**\n     * This function is invoked for any known/unknown error.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.onError = function(error){\n     *     alerot( JSON.stringify(error) );\n     * };\n     */\n    onError: function onError(error) {\n        console.error(JSON.stringify(error, null, '\\t'));\n    },\n\n    /**\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.dataStoreName = 'recordRTC';\n     */\n    dataStoreName: 'recordRTC',\n    dbName: null\n};\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.DiskStorage = DiskStorage;\n}\n\n// ______________\n// GifRecorder.js\n\n/**\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef GifRecorder\n * @class\n * @example\n * var recorder = new GifRecorder(mediaStream || canvas || context, { width: 1280, height: 720, frameRate: 200, quality: 10 });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     img.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\n */\n\nfunction GifRecorder(mediaStream, config) {\n    if (typeof GIFEncoder === 'undefined') {\n        throw 'Please link: https://cdn.webrtc-experiment.com/gif-recorder.js';\n    }\n\n    config = config || {};\n\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        if (!isHTMLObject) {\n            if (!config.width) {\n                config.width = video.offsetWidth || 320;\n            }\n\n            if (!this.height) {\n                config.height = video.offsetHeight || 240;\n            }\n\n            if (!config.video) {\n                config.video = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            if (!config.canvas) {\n                config.canvas = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            canvas.width = config.canvas.width || 320;\n            canvas.height = config.canvas.height || 240;\n\n            video.width = config.video.width || 320;\n            video.height = config.video.height || 240;\n        }\n\n        // external library to record as GIF images\n        gifEncoder = new GIFEncoder();\n\n        // void setRepeat(int iter) \n        // Sets the number of times the set of GIF frames should be played. \n        // Default is 1; 0 means play indefinitely.\n        gifEncoder.setRepeat(0);\n\n        // void setFrameRate(Number fps) \n        // Sets frame rate in frames per second. \n        // Equivalent to setDelay(1000/fps).\n        // Using \"setDelay\" instead of \"setFrameRate\"\n        gifEncoder.setDelay(config.frameRate || 200);\n\n        // void setQuality(int quality) \n        // Sets quality of color quantization (conversion of images to the \n        // maximum 256 colors allowed by the GIF specification). \n        // Lower values (minimum = 1) produce better colors, \n        // but slow processing significantly. 10 is the default, \n        // and produces good color mapping at reasonable speeds. \n        // Values greater than 20 do not yield significant improvements in speed.\n        gifEncoder.setQuality(config.quality || 10);\n\n        // Boolean start() \n        // This writes the GIF Header and returns false if it fails.\n        gifEncoder.start();\n\n        startTime = Date.now();\n\n        var self = this;\n\n        function drawVideoFrame(time) {\n            if (isPausedRecording) {\n                return setTimeout(function () {\n                    drawVideoFrame(time);\n                }, 100);\n            }\n\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n            if ((typeof lastFrameTime === 'undefined' ? 'undefined' : _typeof(lastFrameTime)) === undefined) {\n                lastFrameTime = time;\n            }\n\n            // ~10 fps\n            if (time - lastFrameTime < 90) {\n                return;\n            }\n\n            if (!isHTMLObject && video.paused) {\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n                // Tweak for Android Chrome\n                video.play();\n            }\n\n            if (!isHTMLObject) {\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n            }\n\n            if (config.onGifPreview) {\n                config.onGifPreview(canvas.toDataURL('image/png'));\n            }\n\n            gifEncoder.addFrame(context);\n            lastFrameTime = time;\n        }\n\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     img.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function () {\n        if (lastAnimationFrame) {\n            cancelAnimationFrame(lastAnimationFrame);\n        }\n\n        endTime = Date.now();\n\n        /**\n         * @property {Blob} blob - The recorded blob object.\n         * @memberof GifRecorder\n         * @example\n         * recorder.stop(function(){\n         *     var blob = recorder.blob;\n         * });\n         */\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\n            type: 'image/gif'\n        });\n\n        // bug: find a way to clear old recorded blobs\n        gifEncoder.stream().bin = [];\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        isPausedRecording = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        if (!gifEncoder) {\n            return;\n        }\n\n        this.pause();\n\n        gifEncoder.stream().bin = [];\n    };\n\n    // for debugging\n    this.name = 'GifRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    if (isHTMLObject) {\n        if (mediaStream instanceof CanvasRenderingContext2D) {\n            context = mediaStream;\n            canvas = context.canvas;\n        } else if (mediaStream instanceof HTMLCanvasElement) {\n            context = mediaStream.getContext('2d');\n            canvas = mediaStream;\n        }\n    }\n\n    if (!isHTMLObject) {\n        var video = document.createElement('video');\n        video.muted = true;\n        video.autoplay = true;\n\n        if (typeof video.srcObject !== 'undefined') {\n            video.srcObject = mediaStream;\n        } else {\n            video.src = URL.createObjectURL(mediaStream);\n        }\n\n        video.play();\n    }\n\n    var lastAnimationFrame = null;\n    var startTime, endTime, lastFrameTime;\n\n    var gifEncoder;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.GifRecorder = GifRecorder;\n}\n\n// ______________________\n// MultiStreamRecorder.js\n\n/*\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\n */\n\n/**\n * MultiStreamRecorder can record multiple videos in single container.\n * @summary Multi-videos recorder.\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef MultiStreamRecorder\n * @class\n * @example\n * var options = {\n *     mimeType: 'video/webm'\n * }\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n *\n *     // or\n *     var blob = recorder.blob;\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\n */\n\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\n    var self = this;\n\n    options = options || {\n        mimeType: 'video/webm',\n        video: {\n            width: 360,\n            height: 240\n        }\n    };\n\n    if (!options.frameInterval) {\n        options.frameInterval = 10;\n    }\n\n    if (!options.video) {\n        options.video = {};\n    }\n\n    if (!options.video.width) {\n        options.video.width = 360;\n    }\n\n    if (!options.video.height) {\n        options.video.height = 240;\n    }\n\n    /**\n     * This method records all MediaStreams.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function () {\n        isStoppedRecording = false;\n        var mixedVideoStream = getMixedVideoStream();\n\n        var mixedAudioStream = getMixedAudioStream();\n        if (mixedAudioStream) {\n            mixedAudioStream.getAudioTracks().forEach(function (track) {\n                mixedVideoStream.addTrack(track);\n            });\n        }\n\n        if (options.previewStream && typeof options.previewStream === 'function') {\n            options.previewStream(mixedVideoStream);\n        }\n\n        mediaRecorder = new MediaStreamRecorder(mixedVideoStream, options);\n\n        drawVideosToCanvas();\n\n        mediaRecorder.record();\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function (callback) {\n        isStoppedRecording = true;\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.stop(function (blob) {\n            self.blob = blob;\n\n            callback(blob);\n\n            self.clearRecordedData();\n        });\n    };\n\n    function getMixedAudioStream() {\n        // via: @pehrsons\n        if (!Storage.AudioContextConstructor) {\n            Storage.AudioContextConstructor = new Storage.AudioContext();\n        }\n\n        self.audioContext = Storage.AudioContextConstructor;\n\n        self.audioSources = [];\n\n        self.gainNode = self.audioContext.createGain();\n        self.gainNode.connect(self.audioContext.destination);\n        self.gainNode.gain.value = 0; // don't hear self\n\n        var audioTracksLength = 0;\n        arrayOfMediaStreams.forEach(function (stream) {\n            if (!stream.getAudioTracks().length) {\n                return;\n            }\n\n            audioTracksLength++;\n\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\n            audioSource.connect(self.gainNode);\n            self.audioSources.push(audioSource);\n        });\n\n        if (!audioTracksLength) {\n            return;\n        }\n\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\n        self.audioSources.forEach(function (audioSource) {\n            audioSource.connect(self.audioDestination);\n        });\n        return self.audioDestination.stream;\n    }\n\n    var videos = [];\n    var mediaRecorder;\n\n    function resetVideoStreams(streams) {\n        videos = [];\n        streams = streams || arrayOfMediaStreams;\n\n        // via: @adrian-ber\n        streams.forEach(function (stream) {\n            if (!stream.getVideoTracks().length) {\n                return;\n            }\n\n            var video = getVideo(stream);\n            video.width = options.video.width;\n            video.height = options.video.height;\n            video.stream = stream;\n            videos.push(video);\n        });\n    }\n\n    function getMixedVideoStream() {\n        resetVideoStreams();\n\n        var capturedStream;\n\n        if ('captureStream' in canvas) {\n            capturedStream = canvas.captureStream();\n        } else if ('mozCaptureStream' in canvas) {\n            capturedStream = canvas.mozCaptureStream();\n        } else if (!options.disableLogs) {\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\n        }\n\n        var videoStream = new MediaStream();\n\n        // via streamproc/MediaStreamRecorder#126\n        capturedStream.getVideoTracks().forEach(function (track) {\n            videoStream.addTrack(track);\n        });\n\n        canvas.stream = videoStream;\n\n        return videoStream;\n    }\n\n    function getVideo(stream) {\n        var video = document.createElement('video');\n        video.src = URL.createObjectURL(stream);\n        video.muted = true;\n        video.volume = 0;\n        video.play();\n        return video;\n    }\n\n    var isStoppedRecording = false;\n\n    function drawVideosToCanvas() {\n        if (isStoppedRecording) {\n            return;\n        }\n\n        var videosLength = videos.length;\n\n        var fullcanvas = false;\n        videos.forEach(function (video) {\n            if (!video.stream) {\n                video.stream = {};\n            }\n\n            if (video.stream.fullcanvas) {\n                fullcanvas = video.stream;\n            }\n        });\n\n        if (fullcanvas) {\n            canvas.width = fullcanvas.width;\n            canvas.height = fullcanvas.height;\n        } else {\n            canvas.width = videosLength > 1 ? videos[0].width * 2 : videos[0].width;\n            canvas.height = videosLength > 2 ? videos[0].height * 2 : videos[0].height;\n        }\n\n        videos.forEach(drawImage);\n\n        setTimeout(drawVideosToCanvas, options.frameInterval);\n    }\n\n    function drawImage(video, idx) {\n        if (isStoppedRecording) {\n            return;\n        }\n\n        var x = 0;\n        var y = 0;\n        var width = video.width;\n        var height = video.height;\n\n        if (idx === 1) {\n            x = video.width;\n        }\n\n        if (idx === 2) {\n            y = video.height;\n        }\n\n        if (idx === 3) {\n            x = video.width;\n            y = video.height;\n        }\n\n        if (typeof video.stream.left !== 'undefined') {\n            x = video.stream.left;\n        }\n\n        if (typeof video.stream.top !== 'undefined') {\n            y = video.stream.top;\n        }\n\n        if (typeof video.stream.width !== 'undefined') {\n            width = video.stream.width;\n        }\n\n        if (typeof video.stream.height !== 'undefined') {\n            height = video.stream.height;\n        }\n\n        context.drawImage(video, x, y, width, height);\n\n        if (typeof video.stream.onRender === 'function') {\n            video.stream.onRender(context, x, y, width, height, idx);\n        }\n    }\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    canvas.style = 'opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000;';\n\n    (document.body || document.documentElement).appendChild(canvas);\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function () {\n        if (mediaRecorder) {\n            mediaRecorder.pause();\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function () {\n        if (mediaRecorder) {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function () {\n        videos = [];\n        isStoppedRecording = true;\n\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n        }\n\n        mediaRecorder = null;\n\n        if (self.gainNode) {\n            self.gainNode.disconnect();\n            self.gainNode = null;\n        }\n\n        if (self.audioSources.length) {\n            self.audioSources.forEach(function (source) {\n                source.disconnect();\n            });\n            self.audioSources = [];\n        }\n\n        if (self.audioDestination) {\n            self.audioDestination.disconnect();\n            self.audioDestination = null;\n        }\n\n        self.audioContext = null;\n\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (canvas.stream) {\n            canvas.stream.stop();\n            canvas.stream = null;\n        }\n    };\n\n    /**\n     * Add extra media-streams to existing recordings.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\n     * @example\n     * recorder.addStreams([newAudioStream, newVideoStream]);\n     */\n    this.addStreams = function (streams) {\n        if (!streams) {\n            throw 'First parameter is required.';\n        }\n\n        if (!(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        arrayOfMediaStreams.concat(streams);\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        streams.forEach(function (stream) {\n            if (stream.getVideoTracks().length) {\n                var video = getVideo(stream);\n                video.width = options.video.width;\n                video.height = options.video.height;\n                video.stream = stream;\n                videos.push(video);\n            }\n\n            if (stream.getAudioTracks().length && self.audioContext) {\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\n                audioSource.connect(self.audioDestination);\n                self.audioSources.push(audioSource);\n            }\n        });\n    };\n\n    /**\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\n     * @example\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\n     */\n    this.resetVideoStreams = function (streams) {\n        if (streams && !(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        resetVideoStreams(streams);\n    };\n\n    // for debugging\n    this.name = 'MultiStreamRecorder';\n    this.toString = function () {\n        return this.name;\n    };\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\n}\n\n// _____________________\n// RecordRTC.promises.js\n\n/**\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\n * @summary Promises for {@link RecordRTC}\n * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}\n * @author {@link http://www.MuazKhan.com|Muaz Khan}\n * @typedef RecordRTCPromisesHandler\n * @class\n * @example\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\n * recorder.startRecording()\n *         .then(successCB)\n *         .catch(errorCB);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\n * @requires {@link RecordRTC}\n */\n\nfunction RecordRTCPromisesHandler(mediaStream, options) {\n    if (!this) {\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\n    }\n\n    if (typeof mediaStream === 'undefined') {\n        throw 'First argument \"MediaStream\" is required.';\n    }\n\n    var self = this;\n\n    /**\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * var internal = recorder.recordRTC.getInternalRecorder();\n     * alert(internal instanceof MediaStreamRecorder);\n     */\n    self.recordRTC = new RecordRTC(mediaStream, options);\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.startRecording()\n     *         .then(successCB)\n     *         .catch(errorCB);\n     */\n    this.startRecording = function () {\n        return new Promise(function (resolve, reject) {\n            try {\n                self.recordRTC.startRecording();\n                resolve();\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method stops the recording.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     var blob = recorder.getBlob();\n     * }).catch(errorCB);\n     */\n    this.stopRecording = function () {\n        return new Promise(function (resolve, reject) {\n            try {\n                self.recordRTC.stopRecording(function (url) {\n                    self.blob = self.recordRTC.getBlob();\n                    resolve(url);\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method returns data-url for the recorded blob.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     recorder.getDataURL().then(function(dataURL) {\n     *         window.open(dataURL);\n     *     }).catch(errorCB);;\n     * }).catch(errorCB);\n     */\n    this.getDataURL = function (callback) {\n        return new Promise(function (resolve, reject) {\n            try {\n                self.recordRTC.getDataURL(function (dataURL) {\n                    resolve(dataURL);\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method returns the recorded blob.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     var blob = recorder.getBlob();\n     * }).catch(errorCB);\n     */\n    this.getBlob = function () {\n        return self.recordRTC.getBlob();\n    };\n\n    /**\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     var blob = recorder.getBlob();\n     * }).catch(errorCB);\n     */\n    this.blob = null;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvUmVjb3JkUlRDLmpzP2ViOGYiXSwibmFtZXMiOlsiUmVjb3JkUlRDIiwibWVkaWFTdHJlYW0iLCJjb25maWciLCJ0eXBlIiwiUmVjb3JkUlRDQ29uZmlndXJhdGlvbiIsInNlbGYiLCJzdGFydFJlY29yZGluZyIsImRpc2FibGVMb2dzIiwiY29uc29sZSIsImxvZyIsIm1lZGlhUmVjb3JkZXIiLCJjbGVhclJlY29yZGVkRGF0YSIsInJlY29yZCIsInNldFN0YXRlIiwicmVjb3JkaW5nRHVyYXRpb24iLCJoYW5kbGVSZWNvcmRpbmdEdXJhdGlvbiIsImluaXRSZWNvcmRlciIsImluaXRDYWxsYmFjayIsIlJlY29yZGVyIiwiR2V0UmVjb3JkZXJUeXBlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwic3RvcFJlY29yZGluZyIsImNhbGxiYWNrIiwid2FybiIsIldBUk5JTkciLCJzdGF0ZSIsInJlc3VtZVJlY29yZGluZyIsInNldFRpbWVvdXQiLCJzdG9wIiwiX2NhbGxiYWNrIiwiX19ibG9iIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJibG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiY2FsbCIsImJ5dGVzVG9TaXplIiwic2l6ZSIsImF1dG9Xcml0ZVRvRGlzayIsImdldERhdGFVUkwiLCJkYXRhVVJMIiwicGFyYW1ldGVyIiwiRGlza1N0b3JhZ2UiLCJTdG9yZSIsInBhdXNlUmVjb3JkaW5nIiwicGF1c2UiLCJyZXN1bWUiLCJyZWFkRmlsZSIsIl9ibG9iIiwicG9zdE1lc3NhZ2UiLCJGaWxlUmVhZGVyU3luYyIsInJlYWRBc0RhdGFVUkwiLCJfbWVkaWFSZWNvcmRlciIsIldvcmtlciIsIm5hdmlnYXRvciIsIm1vekdldFVzZXJNZWRpYSIsIndlYldvcmtlciIsInByb2Nlc3NJbldlYldvcmtlciIsIm9ubWVzc2FnZSIsImV2ZW50IiwiZGF0YSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJ0YXJnZXQiLCJyZXN1bHQiLCJfZnVuY3Rpb24iLCJCbG9iIiwidG9TdHJpbmciLCJ3b3JrZXIiLCJyZXZva2VPYmplY3RVUkwiLCJjb3VudGVyIiwib25SZWNvcmRpbmdTdG9wcGVkIiwib25TdGF0ZUNoYW5nZWQiLCJyZXR1cm5PYmplY3QiLCJzZXRSZWNvcmRpbmdEdXJhdGlvbiIsImdldEJsb2IiLCJ0b1VSTCIsImdldEludGVybmFsUmVjb3JkZXIiLCJzYXZlIiwiZmlsZU5hbWUiLCJpbnZva2VTYXZlQXNEaWFsb2ciLCJnZXRGcm9tRGlzayIsInNldEFkdmVydGlzZW1lbnRBcnJheSIsImFycmF5T2ZXZWJQSW1hZ2VzIiwiYWR2ZXJ0aXNlbWVudCIsImxlbmd0aCIsImkiLCJwdXNoIiwiZHVyYXRpb24iLCJpbWFnZSIsImJ1ZmZlclNpemUiLCJzYW1wbGVSYXRlIiwiYnVmZmVyIiwicmVzZXQiLCJnZXRTdGF0ZSIsInByb3AiLCJGZXRjaCIsIl90eXBlIiwicmVwbGFjZSIsIndyaXRlVG9EaXNrIiwib3B0aW9ucyIsImF1ZGlvIiwidmlkZW8iLCJnaWYiLCJhdWRpb0RhdGFVUkwiLCJ2aWRlb0RhdGFVUkwiLCJnaWZEYXRhVVJMIiwiYXVkaW9CbG9iIiwidmlkZW9CbG9iIiwiZ2lmQmxvYiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZpbmUiLCJyZWNvcmRlclR5cGUiLCJXaGFtbXlSZWNvcmRlciIsIkNhbnZhc1JlY29yZGVyIiwiR2lmUmVjb3JkZXIiLCJTdGVyZW9BdWRpb1JlY29yZGVyIiwiTWVkaWFTdHJlYW1SZWNvcmRlciIsImdldEF1ZGlvVHJhY2tzIiwiZ2V0VmlkZW9UcmFja3MiLCJNZWRpYVJlY29yZGVyIiwicHJvdG90eXBlIiwibWltZVR5cGUiLCJzcGxpdCIsImJpdHNQZXJTZWNvbmQiLCJyZWNvcmRlciIsImlzQ2hyb21lIiwiaXNFZGdlIiwiaXNPcGVyYSIsImlzTWVkaWFSZWNvcmRlckNvbXBhdGlibGUiLCJpc1R5cGVTdXBwb3J0ZWQiLCJBcnJheSIsIk11bHRpU3RyZWFtUmVjb3JkZXIiLCJNUmVjb3JkUlRDIiwiYWRkU3RyZWFtIiwiX21lZGlhU3RyZWFtIiwibWVkaWFUeXBlIiwiYXVkaW9SZWNvcmRlciIsIm51bWJlck9mQXVkaW9DaGFubmVscyIsInRpbWVTbGljZSIsIm9uVGltZVN0YW1wIiwibmV3U3RyZWFtIiwidmlkZW9UcmFjayIsIk1lZGlhU3RyZWFtIiwiYWRkVHJhY2siLCJ2aWRlb1JlY29yZGVyIiwiY2FudmFzIiwiZnJhbWVJbnRlcnZhbCIsImdpZlJlY29yZGVyIiwiZnJhbWVSYXRlIiwicXVhbGl0eSIsImJsb2JVUkwiLCJvdXRwdXQiLCJfYXVkaW9EYXRhVVJMIiwiX3ZpZGVvRGF0YVVSTCIsImNhbGxiYWNrMDAiLCJ3ZWJraXRVUkwiLCJhcmdzIiwiYnJvd3NlckZha2VVc2VyQWdlbnQiLCJ0aGF0Iiwid2luZG93IiwiZ2xvYmFsIiwidXNlckFnZW50IiwiZ2V0VXNlck1lZGlhIiwiZXJyb3IiLCJhcmd1bWVudHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYXB0dXJlU3RyZWFtIiwibW96Q2FwdHVyZVN0cmVhbSIsIm9iaiIsImdldENvbnRleHQiLCJwbGF5IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwiSFRNTFZpZGVvRWxlbWVudCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJocmVmIiwiaGFzaCIsInNjcmVlbiIsIndpZHRoIiwiaGVpZ2h0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsYXN0VGltZSIsImVsZW1lbnQiLCJjdXJyVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwidGltZVRvQ2FsbCIsIk1hdGgiLCJtYXgiLCJpZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhclRpbWVvdXQiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJtb3pBdWRpb0NvbnRleHQiLCJ3ZWJraXRHZXRVc2VyTWVkaWEiLCJpbmRleE9mIiwibXNTYXZlQmxvYiIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJvcGVyYSIsIndlYmtpdE1lZGlhU3RyZWFtIiwiZ2V0VHJhY2tzIiwidHJhY2tzIiwidHJhY2siLCJraW5kIiwiX19zdG9wIiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJwYXJzZUludCIsImZsb29yIiwicG93IiwidG9QcmVjaXNpb24iLCJmaWxlIiwiZSIsImZpbGVFeHRlbnNpb24iLCJzcGxpdHRlZCIsImZpbGVGdWxsTmFtZSIsInJvdW5kIiwicmFuZG9tIiwiaHlwZXJsaW5rIiwiZG93bmxvYWQiLCJzdHlsZSIsImJvZHkiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwiZGlzcGF0Y2hFdmVudCIsIk1vdXNlRXZlbnQiLCJ2aWV3IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJTdG9yYWdlIiwiY2hyb21lIiwiaXNGaXJlZm94IiwiSW5zdGFsbFRyaWdnZXIiLCJuVmVyIiwiYXBwVmVyc2lvbiIsIm5BZ3QiLCJmdWxsVmVyc2lvbiIsInBhcnNlRmxvYXQiLCJtYWpvclZlcnNpb24iLCJuYW1lT2Zmc2V0IiwidmVyT2Zmc2V0IiwiaXgiLCJzdWJzdHJpbmciLCJpc05hTiIsInN0cmVhbSIsInRvTG93ZXJDYXNlIiwiYXJyYXlPZkJsb2JzIiwiZ2V0QXJyYXlPZkJsb2JzIiwidGltZXN0YW1wcyIsImFsbFN0YXRlcyIsInJlY29yZGVySGludHMiLCJjYW5SZWNvcmRNaW1lVHlwZSIsImlnbm9yZU11dGVkTWVkaWEiLCJvbmRhdGFhdmFpbGFibGUiLCJ1cGRhdGVUaW1lU3RhbXAiLCJyZWNvcmRpbmdDYWxsYmFjayIsImdldE5hdGl2ZUJsb2IiLCJvbnN0YXJ0Iiwib25wYXVzZSIsIm9ucmVzdW1lIiwib25zdG9wIiwib25lcnJvciIsImxvb3BlciIsIm1hbnVhbGx5U3RvcHBlZCIsInRpbWVzbGljZSIsInN0YXJ0IiwiaXNNZWRpYVN0cmVhbUFjdGl2ZSIsImFjdGl2ZSIsImVuZGVkIiwiZ2V0QWxsU3RhdGVzIiwiY2hlY2tGb3JJbmFjdGl2ZVRyYWNrcyIsImxlZnRjaGFubmVsIiwicmlnaHRjaGFubmVsIiwicmVjb3JkaW5nIiwicmVjb3JkaW5nTGVuZ3RoIiwianNBdWRpb05vZGUiLCJkZXNpcmVkU2FtcFJhdGUiLCJsZWZ0Q2hhbm5lbCIsImF1ZGlvSW5wdXQiLCJjb25uZWN0IiwiaXNBdWRpb1Byb2Nlc3NTdGFydGVkIiwiaXNQYXVzZWQiLCJtZXJnZUxlZnRSaWdodEJ1ZmZlcnMiLCJtZXJnZUF1ZGlvQnVmZmVycyIsImNiIiwibGVmdEJ1ZmZlcnMiLCJzbGljZSIsInJpZ2h0QnVmZmVycyIsImludGVybmFsSW50ZXJsZWF2ZWRMZW5ndGgiLCJtZXJnZUJ1ZmZlcnMiLCJpbnRlcnBvbGF0ZUFycmF5IiwibmV3U2FtcGxlUmF0ZSIsIm9sZFNhbXBsZVJhdGUiLCJmaXRDb3VudCIsIm5ld0RhdGEiLCJzcHJpbmdGYWN0b3IiLCJOdW1iZXIiLCJ0bXAiLCJiZWZvcmUiLCJ0b0ZpeGVkIiwiYWZ0ZXIiLCJjZWlsIiwiYXRQb2ludCIsImxpbmVhckludGVycG9sYXRlIiwiY2hhbm5lbEJ1ZmZlciIsInJMZW5ndGgiLCJGbG9hdDY0QXJyYXkiLCJvZmZzZXQiLCJsbmciLCJzZXQiLCJpbnRlcmxlYXZlIiwicmlnaHRDaGFubmVsIiwiaW5wdXRJbmRleCIsImluZGV4Iiwid3JpdGVVVEZCeXRlcyIsInN0cmluZyIsInNldFVpbnQ4IiwiY2hhckNvZGVBdCIsImludGVybGVhdmVkIiwiaW50ZXJsZWF2ZWRMZW5ndGgiLCJyZXN1bHRpbmdCdWZmZXJMZW5ndGgiLCJBcnJheUJ1ZmZlciIsIkRhdGFWaWV3Iiwic2V0VWludDMyIiwic2V0VWludDE2Iiwidm9sdW1lIiwic2V0SW50MTYiLCJ3b3JrZXJVUkwiLCJieXRlTGVuZ3RoIiwiQXVkaW9Db250ZXh0Q29uc3RydWN0b3IiLCJjb250ZXh0IiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJsZWdhbEJ1ZmZlclZhbHVlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVKYXZhU2NyaXB0Tm9kZSIsImNyZWF0ZVNjcmlwdFByb2Nlc3NvciIsIm9uQXVkaW9Qcm9jZXNzRGF0YUF2YWlsYWJsZSIsImRpc2Nvbm5lY3QiLCJvbkF1ZGlvUHJvY2Vzc1N0YXJ0ZWQiLCJsZWZ0IiwiaW5wdXRCdWZmZXIiLCJnZXRDaGFubmVsRGF0YSIsIkZsb2F0MzJBcnJheSIsInJpZ2h0Iiwib25hdWRpb3Byb2Nlc3MiLCJkZXN0aW5hdGlvbiIsImh0bWxFbGVtZW50IiwiaHRtbDJjYW52YXMiLCJub2RlTmFtZSIsImlzQ2FudmFzU3VwcG9ydHNTdHJlYW1DYXB0dXJpbmciLCJpdGVtIiwiX2lzQ2hyb21lIiwid2Via2l0UlRDUGVlckNvbm5lY3Rpb24iLCJjaHJvbWVWZXJzaW9uIiwibWF0Y2hBcnJheSIsIm1hdGNoIiwiZ2xvYmFsQ2FudmFzIiwibWVkaWFTdHJlYW1SZWNvcmRlciIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiaXNSZWNvcmRpbmciLCJjYW52YXNNZWRpYVN0cmVhbSIsIndlYmtpdENhcHR1cmVTdHJlYW0iLCJtZFN0cmVhbSIsIndoYW1teSIsImZyYW1lcyIsImRyYXdDYW52YXNGcmFtZSIsImdldFdlYlBJbWFnZXMiLCJmcmFtZXNMZW5ndGgiLCJmcmFtZSIsImlkeCIsImZyYW1lc1JlbWFpbmluZyIsIm9uRW5jb2RpbmdDYWxsYmFjayIsIndlYnAiLCJjb21waWxlIiwiaXNQYXVzZWRSZWNvcmRpbmciLCJjbG9uZUNhbnZhcyIsIm5ld0NhbnZhcyIsImdyYWJNb3VzZSIsInNob3dNb3VzZVBvaW50ZXIiLCJvbnJlbmRlcmVkIiwiV2hhbW15IiwiVmlkZW8iLCJjbG9uZU5vZGUiLCJzcmNPYmplY3QiLCJzcmMiLCJvbmxvYWRlZG1ldGFkYXRhIiwibXV0ZWQiLCJkcmF3RnJhbWVzIiwicGF1c2VkIiwiaXNTdG9wRHJhd2luZyIsImFzeW5jTG9vcCIsIm8iLCJsb29wIiwiZnVuY3Rpb25Ub0xvb3AiLCJkcm9wQmxhY2tGcmFtZXMiLCJfZnJhbWVzIiwiX2ZyYW1lc1RvQ2hlY2siLCJfcGl4VG9sZXJhbmNlIiwiX2ZyYW1lVG9sZXJhbmNlIiwibG9jYWxDYW52YXMiLCJjb250ZXh0MmQiLCJyZXN1bHRGcmFtZXMiLCJjaGVja1VudGlsTm90QmxhY2siLCJlbmRDaGVja0ZyYW1lIiwic2FtcGxlQ29sb3IiLCJyIiwiZyIsImIiLCJtYXhDb2xvckRpZmZlcmVuY2UiLCJzcXJ0IiwicGl4VG9sZXJhbmNlIiwiZnJhbWVUb2xlcmFuY2UiLCJkb05vdENoZWNrTmV4dCIsImYiLCJtYXRjaFBpeENvdW50IiwiZW5kUGl4Q2hlY2siLCJtYXhQaXhDb3VudCIsImZpbmlzaEltYWdlIiwiSW1hZ2UiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJwaXgiLCJjdXJyZW50Q29sb3IiLCJjb2xvckRpZmZlcmVuY2UiLCJjb25jYXQiLCJfdGhpcyIsIldoYW1teVZpZGVvIiwiYWRkIiwidGVzdCIsIndoYW1teUluV2ViV29ya2VyIiwiQXJyYXlUb1dlYk0iLCJpbmZvIiwiY2hlY2tGcmFtZXMiLCJjbHVzdGVyTWF4RHVyYXRpb24iLCJFQk1MIiwiZG91YmxlVG9TdHJpbmciLCJmcmFtZU51bWJlciIsImNsdXN0ZXJUaW1lY29kZSIsImNsdXN0ZXJGcmFtZXMiLCJjbHVzdGVyRHVyYXRpb24iLCJjbHVzdGVyQ291bnRlciIsImNsdXN0ZXIiLCJnZXRDbHVzdGVyRGF0YSIsImdlbmVyYXRlRUJNTCIsIm1hcCIsImJsb2NrIiwibWFrZVNpbXBsZUJsb2NrIiwiZGlzY2FyZGFibGUiLCJpbnZpc2libGUiLCJrZXlmcmFtZSIsImxhY2luZyIsInRyYWNrTnVtIiwidGltZWNvZGUiLCJudW1Ub0J1ZmZlciIsIm51bSIsInBhcnRzIiwiVWludDhBcnJheSIsInJldmVyc2UiLCJzdHJUb0J1ZmZlciIsInN0ciIsImJpdHNUb0J1ZmZlciIsImJpdHMiLCJwYWQiLCJqb2luIiwic3Vic3RyIiwianNvbiIsImVibWwiLCJsZW4iLCJ6ZXJvZXMiLCJzaXplVG9TdHJpbmciLCJwYWRkZWQiLCJ0b0JpblN0ck9sZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImZsYWdzIiwib3V0IiwicGFyc2VXZWJQIiwicmlmZiIsIlZQOCIsIlJJRkYiLCJXRUJQIiwiZnJhbWVTdGFydCIsImMiLCJnZXRTdHJMZW5ndGgiLCJ1bnBhZGRlZCIsInBhcnNlUklGRiIsImNodW5rcyIsIndlYm0iLCJhdG9iIiwiaW5pdCIsImluZGV4ZWREQiIsIm9wZW4iLCJkYlZlcnNpb24iLCJkYk5hbWUiLCJkYiIsInJlcXVlc3QiLCJjcmVhdGVPYmplY3RTdG9yZSIsImRhdGFCYXNlIiwiZGF0YVN0b3JlTmFtZSIsInB1dEluREIiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwicHV0IiwiZ2V0RnJvbVN0b3JlIiwicG9ydGlvbk5hbWUiLCJnZXQiLCJvbnN1Y2Nlc3MiLCJvbkVycm9yIiwic2V0VmVyc2lvbiIsInZlcnNpb24iLCJvbnVwZ3JhZGVuZWVkZWQiLCJHSUZFbmNvZGVyIiwiaXNIVE1MT2JqZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJnaWZFbmNvZGVyIiwic2V0UmVwZWF0Iiwic2V0RGVsYXkiLCJzZXRRdWFsaXR5Iiwic3RhcnRUaW1lIiwibm93IiwiZHJhd1ZpZGVvRnJhbWUiLCJ0aW1lIiwibGFzdEFuaW1hdGlvbkZyYW1lIiwibGFzdEZyYW1lVGltZSIsInVuZGVmaW5lZCIsIm9uR2lmUHJldmlldyIsImFkZEZyYW1lIiwiZW5kVGltZSIsImJpbiIsImF1dG9wbGF5IiwiYXJyYXlPZk1lZGlhU3RyZWFtcyIsImlzU3RvcHBlZFJlY29yZGluZyIsIm1peGVkVmlkZW9TdHJlYW0iLCJnZXRNaXhlZFZpZGVvU3RyZWFtIiwibWl4ZWRBdWRpb1N0cmVhbSIsImdldE1peGVkQXVkaW9TdHJlYW0iLCJwcmV2aWV3U3RyZWFtIiwiZHJhd1ZpZGVvc1RvQ2FudmFzIiwiYXVkaW9Db250ZXh0IiwiYXVkaW9Tb3VyY2VzIiwiZ2Fpbk5vZGUiLCJjcmVhdGVHYWluIiwiZ2FpbiIsInZhbHVlIiwiYXVkaW9UcmFja3NMZW5ndGgiLCJhdWRpb1NvdXJjZSIsImF1ZGlvRGVzdGluYXRpb24iLCJjcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uIiwidmlkZW9zIiwicmVzZXRWaWRlb1N0cmVhbXMiLCJzdHJlYW1zIiwiZ2V0VmlkZW8iLCJjYXB0dXJlZFN0cmVhbSIsInZpZGVvU3RyZWFtIiwidmlkZW9zTGVuZ3RoIiwiZnVsbGNhbnZhcyIsIngiLCJ5IiwidG9wIiwib25SZW5kZXIiLCJzb3VyY2UiLCJjbGVhclJlY3QiLCJhZGRTdHJlYW1zIiwiUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyIiwicmVjb3JkUlRDIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiXSwibWFwcGluZ3MiOiI4R0FBQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxTQUFTQSxTQUFULENBQW1CQyxXQUFuQixFQUFnQ0MsTUFBaEMsRUFBd0M7QUFDcEMsUUFBSSxDQUFDRCxXQUFMLEVBQWtCO0FBQ2QsY0FBTSw4QkFBTjtBQUNIOztBQUVEQyxhQUFTQSxVQUFVO0FBQ2ZDLGNBQU07QUFEUyxLQUFuQjs7QUFJQUQsYUFBUyxJQUFJRSxzQkFBSixDQUEyQkgsV0FBM0IsRUFBd0NDLE1BQXhDLENBQVQ7O0FBRUE7QUFDQSxRQUFJRyxPQUFPLElBQVg7O0FBRUEsYUFBU0MsY0FBVCxHQUEwQjtBQUN0QixZQUFJLENBQUNKLE9BQU9LLFdBQVosRUFBeUI7QUFDckJDLG9CQUFRQyxHQUFSLENBQVksdUJBQXVCUCxPQUFPQyxJQUE5QixHQUFxQyxVQUFqRDtBQUNIOztB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QUFRL2hCLE9BQVI7QUFDSCxpQkFGRDtBQUdILGFBSkQsQ0FJRSxPQUFPeUwsQ0FBUCxFQUFVO0FBQ1J1Vyx1QkFBT3ZXLENBQVA7QUFDSDtBQUNKLFNBUk0sQ0FBUDtBQVNILEtBVkQ7O0FBWUE7Ozs7Ozs7OztBQVNBLFNBQUtySixPQUFMLEdBQWUsWUFBVztBQUN0QixlQUFPNUUsS0FBS3FrQixTQUFMLENBQWV6ZixPQUFmLEVBQVA7QUFDSCxLQUZEOztBQUlBOzs7Ozs7OztBQVFBLFNBQUs3QyxJQUFMLEdBQVksSUFBWjtBQUNIOztBQUVELElBQUksT0FBT3BDLFNBQVAsS0FBcUIsV0FBekIsRUFBc0M7QUFDbENBLGNBQVV5a0Isd0JBQVYsR0FBcUNBLHdCQUFyQztBQUNILEMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gTGFzdCB0aW1lIHVwZGF0ZWQ6IDIwMTctMDctMjMgNTozMTo1MyBBTSBVVENcblxuLy8gX19fX19fX19fX19fX19fX1xuLy8gUmVjb3JkUlRDIHY1LjQuM1xuXG4vLyBPcGVuLVNvdXJjZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNdWF6IEtoYW4gICAgIC0gd3d3Lk11YXpLaGFuLmNvbVxuLy8gTUlUIExpY2Vuc2UgICAtIHd3dy5XZWJSVEMtRXhwZXJpbWVudC5jb20vbGljZW5jZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gX19fX19fX19fX19fXG4vLyBSZWNvcmRSVEMuanNcblxuLyoqXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEN8UmVjb3JkUlRDfSBpcyBhIFdlYlJUQyBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGF1ZGlvL3ZpZGVvIGFzIHdlbGwgYXMgc2NyZWVuIGFjdGl2aXR5IHJlY29yZGluZy4gSXQgc3VwcG9ydHMgQ2hyb21lLCBGaXJlZm94LCBPcGVyYSwgQW5kcm9pZCwgYW5kIE1pY3Jvc29mdCBFZGdlLiBQbGF0Zm9ybXM6IExpbnV4LCBNYWMgYW5kIFdpbmRvd3MuIFxuICogQHN1bW1hcnkgUmVjb3JkIGF1ZGlvLCB2aWRlbyBvciBzY3JlZW4gaW5zaWRlIHRoZSBicm93c2VyLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgUmVjb3JkUlRDXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgcmVjb3JkZXIgPSBSZWNvcmRSVEMobWVkaWFTdHJlYW0gb3IgW2FycmF5T2ZNZWRpYVN0cmVhbV0sIHtcbiAqICAgICB0eXBlOiAndmlkZW8nLCAvLyBhdWRpbyBvciB2aWRlbyBvciBnaWYgb3IgY2FudmFzXG4gKiAgICAgcmVjb3JkZXJUeXBlOiBNZWRpYVN0cmVhbVJlY29yZGVyIHx8IENhbnZhc1JlY29yZGVyIHx8IFN0ZXJlb0F1ZGlvUmVjb3JkZXIgfHwgRXRjXG4gKiB9KTtcbiAqIHJlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKCk7XG4gKiBAc2VlIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uOlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEN8UmVjb3JkUlRDIFNvdXJjZSBDb2RlfVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gbWVkaWFTdHJlYW0gLSBTaW5nbGUgbWVkaWEtc3RyZWFtIG9iamVjdCwgYXJyYXkgb2YgbWVkaWEtc3RyZWFtcywgaHRtbC1jYW52YXMtZWxlbWVudCwgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIHt0eXBlOlwidmlkZW9cIiwgcmVjb3JkZXJUeXBlOiBNZWRpYVN0cmVhbVJlY29yZGVyLCBkaXNhYmxlTG9nczogdHJ1ZSwgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzOiAxLCBidWZmZXJTaXplOiAwLCBzYW1wbGVSYXRlOiAwLCBkZXNpcmVkU2FtcFJhdGU6IDE2MDAwLCB2aWRlbzogSFRNTFZpZGVvRWxlbWVudCwgZXRjLn1cbiAqL1xuXG5mdW5jdGlvbiBSZWNvcmRSVEMobWVkaWFTdHJlYW0sIGNvbmZpZykge1xuICAgIGlmICghbWVkaWFTdHJlYW0pIHtcbiAgICAgICAgdGhyb3cgJ0ZpcnN0IHBhcmFtZXRlciBpcyByZXF1aXJlZC4nO1xuICAgIH1cblxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7XG4gICAgICAgIHR5cGU6ICd2aWRlbydcbiAgICB9O1xuXG4gICAgY29uZmlnID0gbmV3IFJlY29yZFJUQ0NvbmZpZ3VyYXRpb24obWVkaWFTdHJlYW0sIGNvbmZpZyk7XG5cbiAgICAvLyBhIHJlZmVyZW5jZSB0byB1c2VyJ3MgcmVjb3JkUlRDIG9iamVjdFxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0ZWQgcmVjb3JkaW5nICcgKyBjb25maWcudHlwZSArICcgc3RyZWFtLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIucmVjb3JkKCk7XG5cbiAgICAgICAgICAgIHNldFN0YXRlKCdyZWNvcmRpbmcnKTtcblxuICAgICAgICAgICAgaWYgKHNlbGYucmVjb3JkaW5nRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVSZWNvcmRpbmdEdXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICBpbml0UmVjb3JkZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5yZWNvcmRpbmdEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVJlY29yZGluZ0R1cmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRSZWNvcmRlcihpbml0Q2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgY29uZmlnLmluaXRDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGluaXRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGluaXRDYWxsYmFjayA9IGNvbmZpZy5pbml0Q2FsbGJhY2sgPSBudWxsOyAvLyByZWNvcmRlci5pbml0UmVjb3JkZXIgc2hvdWxkIGJlIGNhbGwtYmFja2VkIG9uY2UuXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIFJlY29yZGVyID0gbmV3IEdldFJlY29yZGVyVHlwZShtZWRpYVN0cmVhbSwgY29uZmlnKTtcblxuICAgICAgICBtZWRpYVJlY29yZGVyID0gbmV3IFJlY29yZGVyKG1lZGlhU3RyZWFtLCBjb25maWcpO1xuICAgICAgICBtZWRpYVJlY29yZGVyLnJlY29yZCgpO1xuXG4gICAgICAgIHNldFN0YXRlKCdyZWNvcmRpbmcnKTtcblxuICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemVkIHJlY29yZGVyVHlwZTonLCBtZWRpYVJlY29yZGVyLmNvbnN0cnVjdG9yLm5hbWUsICdmb3Igb3V0cHV0LXR5cGU6JywgY29uZmlnLnR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcFJlY29yZGluZyhjYWxsYmFjaykge1xuICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oV0FSTklORyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgICAgICAgIHNlbGYucmVzdW1lUmVjb3JkaW5nKCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc3RvcFJlY29yZGluZyhjYWxsYmFjayk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLnN0YXRlICE9PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBzdG9wIHRoZSByZWNvcmRpbmcuIFJlY29yZGluZyBzdGF0ZTogJywgc2VsZi5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTdG9wcGVkIHJlY29yZGluZyAnICsgY29uZmlnLnR5cGUgKyAnIHN0cmVhbS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcudHlwZSAhPT0gJ2dpZicpIHtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuc3RvcChfY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICBfY2FsbGJhY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN0YXRlKCdzdG9wcGVkJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gX2NhbGxiYWNrKF9fYmxvYikge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobWVkaWFSZWNvcmRlcikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lZGlhUmVjb3JkZXJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZltrZXldID0gbWVkaWFSZWNvcmRlcltrZXldO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBibG9iID0gbWVkaWFSZWNvcmRlci5ibG9iO1xuXG4gICAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoX19ibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuYmxvYiA9IGJsb2IgPSBfX2Jsb2I7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1JlY29yZGluZyBmYWlsZWQuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjay5jYWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZiwgdXJsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJsb2IgJiYgIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJsb2IudHlwZSwgJy0+JywgYnl0ZXNUb1NpemUoYmxvYi5zaXplKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmF1dG9Xcml0ZVRvRGlzaykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0RGF0YVVSTChmdW5jdGlvbihkYXRhVVJMKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcltjb25maWcudHlwZSArICdCbG9iJ10gPSBkYXRhVVJMO1xuICAgICAgICAgICAgICAgIERpc2tTdG9yYWdlLlN0b3JlKHBhcmFtZXRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhdXNlUmVjb3JkaW5nKCkge1xuICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oV0FSTklORyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gJ3JlY29yZGluZycpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gcGF1c2UgdGhlIHJlY29yZGluZy4gUmVjb3JkaW5nIHN0YXRlOiAnLCBzZWxmLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN0YXRlKCdwYXVzZWQnKTtcblxuICAgICAgICBtZWRpYVJlY29yZGVyLnBhdXNlKCk7XG5cbiAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXVzZWQgcmVjb3JkaW5nLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdW1lUmVjb3JkaW5nKCkge1xuICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oV0FSTklORyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gJ3BhdXNlZCcpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gcmVzdW1lIHRoZSByZWNvcmRpbmcuIFJlY29yZGluZyBzdGF0ZTogJywgc2VsZi5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdGF0ZSgncmVjb3JkaW5nJyk7XG5cbiAgICAgICAgLy8gbm90IGFsbCBsaWJzIGhhdmUgdGhpcyBtZXRob2QgeWV0XG4gICAgICAgIG1lZGlhUmVjb3JkZXIucmVzdW1lKCk7XG5cbiAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXN1bWVkIHJlY29yZGluZy4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWRGaWxlKF9ibG9iKSB7XG4gICAgICAgIHBvc3RNZXNzYWdlKG5ldyBGaWxlUmVhZGVyU3luYygpLnJlYWRBc0RhdGFVUkwoX2Jsb2IpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRhVVJMKGNhbGxiYWNrLCBfbWVkaWFSZWNvcmRlcikge1xuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aHJvdyAnUGFzcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIG92ZXIgZ2V0RGF0YVVSTC4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2IgPSBfbWVkaWFSZWNvcmRlciA/IF9tZWRpYVJlY29yZGVyLmJsb2IgOiAobWVkaWFSZWNvcmRlciB8fCB7fSkuYmxvYjtcblxuICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdCbG9iIGVuY29kZXIgZGlkIG5vdCBmaW5pc2ggaXRzIGpvYiB5ZXQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZ2V0RGF0YVVSTChjYWxsYmFjaywgX21lZGlhUmVjb3JkZXIpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICAgIHZhciB3ZWJXb3JrZXIgPSBwcm9jZXNzSW5XZWJXb3JrZXIocmVhZEZpbGUpO1xuXG4gICAgICAgICAgICB3ZWJXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudC5kYXRhKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHdlYldvcmtlci5wb3N0TWVzc2FnZShibG9iKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzSW5XZWJXb3JrZXIoX2Z1bmN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYmxvYiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW19mdW5jdGlvbi50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICd0aGlzLm9ubWVzc2FnZSA9ICBmdW5jdGlvbiAoZSkgeycgKyBfZnVuY3Rpb24ubmFtZSArICcoZS5kYXRhKTt9J1xuICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihibG9iKTtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlUmVjb3JkaW5nRHVyYXRpb24oY291bnRlcikge1xuICAgICAgICBjb3VudGVyID0gY291bnRlciB8fCAwO1xuXG4gICAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncGF1c2VkJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVSZWNvcmRpbmdEdXJhdGlvbihjb3VudGVyKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdzdG9wcGVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvdW50ZXIgPj0gc2VsZi5yZWNvcmRpbmdEdXJhdGlvbikge1xuICAgICAgICAgICAgc3RvcFJlY29yZGluZyhzZWxmLm9uUmVjb3JkaW5nU3RvcHBlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3VudGVyICs9IDEwMDA7IC8vIDEtc2Vjb25kXG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlY29yZGluZ0R1cmF0aW9uKGNvdW50ZXIpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICBzZWxmLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLm9uU3RhdGVDaGFuZ2VkLmNhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNlbGYub25TdGF0ZUNoYW5nZWQuY2FsbChzZWxmLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLm9uU3RhdGVDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBXQVJOSU5HID0gJ0l0IHNlZW1zIHRoYXQgXCJzdGFydFJlY29yZGluZ1wiIGlzIG5vdCBpbnZva2VkIGZvciAnICsgY29uZmlnLnR5cGUgKyAnIHJlY29yZGVyLic7XG5cbiAgICB2YXIgbWVkaWFSZWNvcmRlcjtcblxuICAgIHZhciByZXR1cm5PYmplY3QgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBzdGFydHMgdGhlIHJlY29yZGluZy5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgcmVjb3JkZXIgPSBSZWNvcmRSVEMobWVkaWFTdHJlYW0sIHtcbiAgICAgICAgICogICAgIHR5cGU6ICd2aWRlbydcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIHJlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAqL1xuICAgICAgICBzdGFydFJlY29yZGluZzogc3RhcnRSZWNvcmRpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHRoZSByZWNvcmRpbmcuIEl0IGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkIHRvIGdldCBcImJsb2JcIiBvciBcIlVSSVwiIGluc2lkZSB0aGUgY2FsbGJhY2sgdG8gbWFrZSBzdXJlIGFsbCByZWNvcmRlcnMgZmluaXNoZWQgdGhlaXIgam9iLlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHRvIGdldCB0aGUgcmVjb3JkZWQgYmxvYi5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgLy8gdXNlIGVpdGhlciBcInRoaXNcIiBvciBcInJlY29yZGVyXCIgb2JqZWN0OyBib3RoIGFyZSBpZGVudGljYWxcbiAgICAgICAgICogICAgIHZpZGVvLnNyYyA9IHRoaXMudG9VUkwoKTtcbiAgICAgICAgICogICAgIHZhciBibG9iID0gdGhpcy5nZXRCbG9iKCk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgc3RvcFJlY29yZGluZzogc3RvcFJlY29yZGluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcuIFlvdSBjYW4gcmVzdW1lIHJlY29yZGluZyB1c2luZyBcInJlc3VtZVJlY29yZGluZ1wiIG1ldGhvZC5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdG9kbyBGaXJlZm94IGlzIHVuYWJsZSB0byBwYXVzZSB0aGUgcmVjb3JkaW5nLiBGaXggaXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyLnBhdXNlUmVjb3JkaW5nKCk7ICAvLyBwYXVzZSB0aGUgcmVjb3JkaW5nXG4gICAgICAgICAqIHJlY29yZGVyLnJlc3VtZVJlY29yZGluZygpOyAvLyByZXN1bWUgYWdhaW5cbiAgICAgICAgICovXG4gICAgICAgIHBhdXNlUmVjb3JkaW5nOiBwYXVzZVJlY29yZGluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBtZXRob2QgcmVzdW1lcyB0aGUgcmVjb3JkaW5nLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyLnBhdXNlUmVjb3JkaW5nKCk7ICAvLyBmaXJzdCBvZiBhbGwsIHBhdXNlIHRoZSByZWNvcmRpbmdcbiAgICAgICAgICogcmVjb3JkZXIucmVzdW1lUmVjb3JkaW5nKCk7IC8vIG5vdyByZXN1bWUgaXRcbiAgICAgICAgICovXG4gICAgICAgIHJlc3VtZVJlY29yZGluZzogcmVzdW1lUmVjb3JkaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpbml0aWFsaXplcyB0aGUgcmVjb3JkaW5nLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0b2RvIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBkZXByZWNhdGVkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5pbml0UmVjb3JkZXIoKTtcbiAgICAgICAgICovXG4gICAgICAgIGluaXRSZWNvcmRlcjogaW5pdFJlY29yZGVyLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc2sgUmVjb3JkUlRDIHRvIGF1dG8tc3RvcCB0aGUgcmVjb3JkaW5nIGFmdGVyIDUgbWludXRlcy5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgZml2ZU1pbnV0ZXMgPSA1ICogMTAwMCAqIDYwO1xuICAgICAgICAgKiByZWNvcmRlci5zZXRSZWNvcmRpbmdEdXJhdGlvbihmaXZlTWludXRlcywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgIHZhciBibG9iID0gdGhpcy5nZXRCbG9iKCk7XG4gICAgICAgICAqICAgIHZpZGVvLnNyYyA9IHRoaXMudG9VUkwoKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIFxuICAgICAgICAgKiAvLyBvciBvdGhlcndpc2VcbiAgICAgICAgICogcmVjb3JkZXIuc2V0UmVjb3JkaW5nRHVyYXRpb24oZml2ZU1pbnV0ZXMpLm9uUmVjb3JkaW5nU3RvcHBlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgdmFyIGJsb2IgPSB0aGlzLmdldEJsb2IoKTtcbiAgICAgICAgICogICAgdmlkZW8uc3JjID0gdGhpcy50b1VSTCgpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHNldFJlY29yZGluZ0R1cmF0aW9uOiBmdW5jdGlvbihyZWNvcmRpbmdEdXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjb3JkaW5nRHVyYXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ3JlY29yZGluZ0R1cmF0aW9uIGlzIHJlcXVpcmVkLic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjb3JkaW5nRHVyYXRpb24gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ3JlY29yZGluZ0R1cmF0aW9uIG11c3QgYmUgYSBudW1iZXIuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5yZWNvcmRpbmdEdXJhdGlvbiA9IHJlY29yZGluZ0R1cmF0aW9uO1xuICAgICAgICAgICAgc2VsZi5vblJlY29yZGluZ1N0b3BwZWQgPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uUmVjb3JkaW5nU3RvcHBlZDogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblJlY29yZGluZ1N0b3BwZWQgPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBjbGVhci9yZXNldCBhbGwgdGhlIHJlY29yZGVkIGRhdGEuXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHRvZG8gRmlndXJlIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFwicmVzZXRcIiBhbmQgXCJjbGVhclJlY29yZGVkRGF0YVwiIG1ldGhvZHMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyLmNsZWFyUmVjb3JkZWREYXRhKCk7XG4gICAgICAgICAqL1xuICAgICAgICBjbGVhclJlY29yZGVkRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKFdBUk5JTkcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZWRpYVJlY29yZGVyLmNsZWFyUmVjb3JkZWREYXRhKCk7XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NsZWFyZWQgb2xkIHJlY29yZGVkIGRhdGEuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcmVjb3JkZWQgYmxvYi4gVXNlIHRoaXMgbWV0aG9kIGluc2lkZSB0aGUgXCJzdG9wUmVjb3JkaW5nXCIgY2FsbGJhY2suXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIuc3RvcFJlY29yZGluZyhmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgIHZhciBibG9iID0gdGhpcy5nZXRCbG9iKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgJ2ZpbGVuYW1lLndlYm0nLCB7XG4gICAgICAgICAqICAgICAgICAgdHlwZTogJ3ZpZGVvL3dlYm0nXG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgKiAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7IC8vIHVwbG9hZCBcIkZpbGVcIiBvYmplY3QgcmF0aGVyIHRoYW4gYSBcIkJsb2JcIlxuICAgICAgICAgKiAgICAgdXBsb2FkVG9TZXJ2ZXIoZm9ybURhdGEpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICogQHJldHVybnMge0Jsb2J9IFJldHVybnMgcmVjb3JkZWQgZGF0YSBhcyBcIkJsb2JcIiBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCbG9iOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oV0FSTklORyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtZWRpYVJlY29yZGVyLmJsb2I7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBkYXRhLVVSSSBpbnN0ZWFkIG9mIEJsb2IuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdG8gZ2V0IHRoZSBEYXRhLVVSSS5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgcmVjb3JkZXIuZ2V0RGF0YVVSTChmdW5jdGlvbihkYXRhVVJJKSB7XG4gICAgICAgICAqICAgICAgICAgdmlkZW8uc3JjID0gZGF0YVVSSTtcbiAgICAgICAgICogICAgIH0pO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIGdldERhdGFVUkw6IGdldERhdGFVUkwsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB2aXJ0dWFsL3RlbXBvcmFyeSBVUkwuIFVzYWdlIG9mIHRoaXMgVVJMIGlzIGxpbWl0ZWQgdG8gY3VycmVudCB0YWIuXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIuc3RvcFJlY29yZGluZyhmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgIHZpZGVvLnNyYyA9IHRoaXMudG9VUkwoKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFJldHVybnMgYSB2aXJ0dWFsL3RlbXBvcmFyeSBVUkwgZm9yIHRoZSByZWNvcmRlZCBcIkJsb2JcIi5cbiAgICAgICAgICovXG4gICAgICAgIHRvVVJMOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oV0FSTklORyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG1lZGlhUmVjb3JkZXIuYmxvYik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBpbnRlcm5hbCByZWNvcmRpbmcgb2JqZWN0IChpLmUuIGludGVybmFsIG1vZHVsZSkgZS5nLiBNdXRsaVN0cmVhbVJlY29yZGVyLCBNZWRpYVN0cmVhbVJlY29yZGVyLCBTdGVyZW9BdWRpb1JlY29yZGVyIG9yIFdoYW1teVJlY29yZGVyIGV0Yy5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgaW50ZXJuYWwgPSByZWNvcmRlci5nZXRJbnRlcm5hbFJlY29yZGVyKCk7XG4gICAgICAgICAqIGlmKGludGVybmFsIGluc3RhbmNlb2YgTXVsdGlTdHJlYW1SZWNvcmRlcikge1xuICAgICAgICAgKiAgICAgaW50ZXJuYWwuYWRkU3RyZWFtcyhbbmV3QXVkaW9TdHJlYW1dKTtcbiAgICAgICAgICogICAgIGludGVybmFsLnJlc2V0VmlkZW9TdHJlYW1zKFtzY3JlZW5TdHJlYW1dKTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGludGVybmFsIHJlY29yZGluZyBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRJbnRlcm5hbFJlY29yZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtZWRpYVJlY29yZGVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2Ugc2F2ZS1hcyBkaWFsb2cgdG8gc2F2ZSB0aGUgcmVjb3JkZWQgYmxvYiBpbnRvIHlvdXIgZGlzay5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVOYW1lIC0gU2V0IHlvdXIgb3duIGZpbGUgbmFtZS5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgdGhpcy5zYXZlKCdmaWxlLW5hbWUnKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG9yIG1hbnVhbGx5OlxuICAgICAgICAgKiAgICAgaW52b2tlU2F2ZUFzRGlhbG9nKHRoaXMuZ2V0QmxvYigpLCAnZmlsZW5hbWUud2VibScpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uKGZpbGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuKFdBUk5JTkcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnZva2VTYXZlQXNEaWFsb2cobWVkaWFSZWNvcmRlci5ibG9iLCBmaWxlTmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGdldHMgYSBibG9iIGZyb20gaW5kZXhlZC1EQiBzdG9yYWdlLlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHRvIGdldCB0aGUgcmVjb3JkZWQgYmxvYi5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5nZXRGcm9tRGlzayhmdW5jdGlvbihkYXRhVVJMKSB7XG4gICAgICAgICAqICAgICB2aWRlby5zcmMgPSBkYXRhVVJMO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIGdldEZyb21EaXNrOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKCFtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihXQVJOSU5HKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgUmVjb3JkUlRDLmdldEZyb21EaXNrKGNvbmZpZy50eXBlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGFwcGVuZHMgYW4gYXJyYXkgb2Ygd2VicCBpbWFnZXMgdG8gdGhlIHJlY29yZGVkIHZpZGVvLWJsb2IuIEl0IHRha2VzIGFuIFwiYXJyYXlcIiBvYmplY3QuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheS48QXJyYXk+fVxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheU9mV2ViUEltYWdlcyAtIEFycmF5IG9mIHdlYnAgaW1hZ2VzLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0b2RvIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBkZXByZWNhdGVkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiB2YXIgYXJyYXlPZldlYlBJbWFnZXMgPSBbXTtcbiAgICAgICAgICogYXJyYXlPZldlYlBJbWFnZXMucHVzaCh7XG4gICAgICAgICAqICAgICBkdXJhdGlvbjogaW5kZXgsXG4gICAgICAgICAqICAgICBpbWFnZTogJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsLi4uJ1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICogcmVjb3JkZXIuc2V0QWR2ZXJ0aXNlbWVudEFycmF5KGFycmF5T2ZXZWJQSW1hZ2VzKTtcbiAgICAgICAgICovXG4gICAgICAgIHNldEFkdmVydGlzZW1lbnRBcnJheTogZnVuY3Rpb24oYXJyYXlPZldlYlBJbWFnZXMpIHtcbiAgICAgICAgICAgIGNvbmZpZy5hZHZlcnRpc2VtZW50ID0gW107XG5cbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBhcnJheU9mV2ViUEltYWdlcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmFkdmVydGlzZW1lbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogYXJyYXlPZldlYlBJbWFnZXNbaV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXQgaXMgZXF1aXZhbGVudCB0byA8Y29kZSBjbGFzcz1cInN0clwiPlwicmVjb3JkZXIuZ2V0QmxvYigpXCI8L2NvZGU+IG1ldGhvZC4gVXNhZ2Ugb2YgXCJnZXRCbG9iXCIgaXMgcmVjb21tZW5kZWQsIHRob3VnaC5cbiAgICAgICAgICogQHByb3BlcnR5IHtCbG9ifSBibG9iIC0gUmVjb3JkZWQgQmxvYiBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICB2YXIgYmxvYiA9IHRoaXMuYmxvYjtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGJlbG93IG9uZSBpcyByZWNvbW1lbmRlZFxuICAgICAgICAgKiAgICAgdmFyIGJsb2IgPSB0aGlzLmdldEJsb2IoKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBibG9iOiBudWxsLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdvcmtzIG9ubHkgd2l0aCB7cmVjb3JkZXJUeXBlOlN0ZXJlb0F1ZGlvUmVjb3JkZXJ9LiBVc2UgdGhpcyBwcm9wZXJ0eSBvbiBcInN0b3BSZWNvcmRpbmdcIiB0byB2ZXJpZnkgdGhlIGVuY29kZXIncyBzYW1wbGUtcmF0ZXMuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBidWZmZXJTaXplIC0gQnVmZmVyLXNpemUgdXNlZCB0byBlbmNvZGUgdGhlIFdBViBjb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICBhbGVydCgnUmVjb3JkZXIgdXNlZCB0aGlzIGJ1ZmZlci1zaXplOiAnICsgdGhpcy5idWZmZXJTaXplKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBidWZmZXJTaXplOiAwLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdvcmtzIG9ubHkgd2l0aCB7cmVjb3JkZXJUeXBlOlN0ZXJlb0F1ZGlvUmVjb3JkZXJ9LiBVc2UgdGhpcyBwcm9wZXJ0eSBvbiBcInN0b3BSZWNvcmRpbmdcIiB0byB2ZXJpZnkgdGhlIGVuY29kZXIncyBzYW1wbGUtcmF0ZXMuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzYW1wbGVSYXRlIC0gU2FtcGxlLXJhdGVzIHVzZWQgdG8gZW5jb2RlIHRoZSBXQVYgY29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgYWxlcnQoJ1JlY29yZGVyIHVzZWQgdGhlc2Ugc2FtcGxlLXJhdGVzOiAnICsgdGhpcy5zYW1wbGVSYXRlKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICBzYW1wbGVSYXRlOiAwLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB7cmVjb3JkZXJUeXBlOlN0ZXJlb0F1ZGlvUmVjb3JkZXJ9IHJldHVybnMgQXJyYXlCdWZmZXIgb2JqZWN0LlxuICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5QnVmZmVyfSBidWZmZXIgLSBBdWRpbyBBcnJheUJ1ZmZlciwgc3VwcG9ydGVkIG9ubHkgaW4gQ2hyb21lLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIuc3RvcFJlY29yZGluZyhmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgIHZhciBhcnJheUJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICAgKiAgICAgYWxlcnQoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgYnVmZmVyOiBudWxsLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCByZXNldHMgdGhlIHJlY29yZGVyLiBTbyB0aGF0IHlvdSBjYW4gcmV1c2Ugc2luZ2xlIHJlY29yZGVyIGluc3RhbmNlIG1hbnkgdGltZXMuXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIucmVzZXQoKTtcbiAgICAgICAgICogcmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICovXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYVJlY29yZGVyICYmIHR5cGVvZiBtZWRpYVJlY29yZGVyLmNsZWFyUmVjb3JkZWREYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5jbGVhclJlY29yZGVkRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVkaWFSZWNvcmRlciA9IG51bGw7XG4gICAgICAgICAgICBzZXRTdGF0ZSgnaW5hY3RpdmUnKTtcbiAgICAgICAgICAgIHNlbGYuYmxvYiA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuZXZlciByZWNvcmRlcidzIHN0YXRlIGNoYW5nZXMuIFVzZSB0aGlzIGFzIGFuIFwiZXZlbnRcIi5cbiAgICAgICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHN0YXRlIC0gQSByZWNvcmRlcidzIHN0YXRlIGNhbiBiZTogcmVjb3JkaW5nLCBwYXVzZWQsIHN0b3BwZWQgb3IgaW5hY3RpdmUuXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIub25TdGF0ZUNoYW5nZWQgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICAgKiAgICAgY29uc29sZS5sb2coJ1JlY29yZGVyIHN0YXRlOiAnLCBzdGF0ZSk7XG4gICAgICAgICAqIH07XG4gICAgICAgICAqL1xuICAgICAgICBvblN0YXRlQ2hhbmdlZDogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY29yZGVyIHN0YXRlIGNoYW5nZWQ6Jywgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlY29yZGVyIGNhbiBoYXZlIGluYWN0aXZlLCByZWNvcmRpbmcsIHBhdXNlZCBvciBzdG9wcGVkIHN0YXRlcy5cbiAgICAgICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHN0YXRlIC0gQSByZWNvcmRlcidzIHN0YXRlIGNhbiBiZTogcmVjb3JkaW5nLCBwYXVzZWQsIHN0b3BwZWQgb3IgaW5hY3RpdmUuXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gdGhpcyBsb29wZXIgZnVuY3Rpb24gd2lsbCBrZWVwIHlvdSB1cGRhdGVkIGFib3V0IHRoZSByZWNvcmRlcidzIHN0YXRlcy5cbiAgICAgICAgICogKGZ1bmN0aW9uIGxvb3BlcigpIHtcbiAgICAgICAgICogICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2gxJykuaW5uZXJIVE1MID0gJ1JlY29yZGVyJ3Mgc3RhdGUgaXM6ICcgKyByZWNvcmRlci5zdGF0ZTtcbiAgICAgICAgICogICAgIGlmKHJlY29yZGVyLnN0YXRlID09PSAnc3RvcHBlZCcpIHJldHVybjsgLy8gaWdub3JlK3N0b3BcbiAgICAgICAgICogICAgIHNldFRpbWVvdXQobG9vcGVyLCAxMDAwKTsgLy8gdXBkYXRlIGFmdGVyIGV2ZXJ5IDMtc2Vjb25kc1xuICAgICAgICAgKiB9KSgpO1xuICAgICAgICAgKiByZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGU6ICdpbmFjdGl2ZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCByZWNvcmRlcidzIHJlYWRvbmx5IHN0YXRlLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogdmFyIHN0YXRlID0gcmVjb3JkZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gUmV0dXJucyByZWNvcmRpbmcgc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zdGF0ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIXRoaXMpIHtcbiAgICAgICAgc2VsZiA9IHJldHVybk9iamVjdDtcbiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdDtcbiAgICB9XG5cbiAgICAvLyBpZiBzb21lb25lIHdhbnRzIHRvIHVzZSBSZWNvcmRSVEMgd2l0aCB0aGUgXCJuZXdcIiBrZXl3b3JkLlxuICAgIGZvciAodmFyIHByb3AgaW4gcmV0dXJuT2JqZWN0KSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSByZXR1cm5PYmplY3RbcHJvcF07XG4gICAgfVxuXG4gICAgc2VsZiA9IHRoaXM7XG5cbiAgICByZXR1cm4gcmV0dXJuT2JqZWN0O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGdldCBhbGwgcmVjb3JkZWQgYmxvYnMgZnJvbSBJbmRleGVkREIgc3RvcmFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gJ2FsbCcgb3IgJ2F1ZGlvJyBvciAndmlkZW8nIG9yICdnaWYnXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGdldCBhbGwgc3RvcmVkIGJsb2JzLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFJlY29yZFJUQ1xuICogQGV4YW1wbGVcbiAqIFJlY29yZFJUQy5nZXRGcm9tRGlzaygnYWxsJywgZnVuY3Rpb24oZGF0YVVSTCwgdHlwZSl7XG4gKiAgICAgaWYodHlwZSA9PT0gJ2F1ZGlvJykgeyB9XG4gKiAgICAgaWYodHlwZSA9PT0gJ3ZpZGVvJykgeyB9XG4gKiAgICAgaWYodHlwZSA9PT0gJ2dpZicpICAgeyB9XG4gKiB9KTtcbiAqL1xuUmVjb3JkUlRDLmdldEZyb21EaXNrID0gZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHRocm93ICdjYWxsYmFjayBpcyBtYW5kYXRvcnkuJztcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnR2V0dGluZyByZWNvcmRlZCAnICsgKHR5cGUgPT09ICdhbGwnID8gJ2Jsb2JzJyA6IHR5cGUgKyAnIGJsb2IgJykgKyAnIGZyb20gZGlzayEnKTtcbiAgICBEaXNrU3RvcmFnZS5GZXRjaChmdW5jdGlvbihkYXRhVVJMLCBfdHlwZSkge1xuICAgICAgICBpZiAodHlwZSAhPT0gJ2FsbCcgJiYgX3R5cGUgPT09IHR5cGUgKyAnQmxvYicgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdhbGwnICYmIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMLCBfdHlwZS5yZXBsYWNlKCdCbG9iJywgJycpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBzdG9yZSByZWNvcmRlZCBibG9icyBpbnRvIEluZGV4ZWREQiBzdG9yYWdlLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSB7YXVkaW86IEJsb2IsIHZpZGVvOiBCbG9iLCBnaWY6IEJsb2J9XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUmVjb3JkUlRDXG4gKiBAZXhhbXBsZVxuICogUmVjb3JkUlRDLndyaXRlVG9EaXNrKHtcbiAqICAgICBhdWRpbzogYXVkaW9CbG9iLFxuICogICAgIHZpZGVvOiB2aWRlb0Jsb2IsXG4gKiAgICAgZ2lmICA6IGdpZkJsb2JcbiAqIH0pO1xuICovXG5SZWNvcmRSVEMud3JpdGVUb0Rpc2sgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgY29uc29sZS5sb2coJ1dyaXRpbmcgcmVjb3JkZWQgYmxvYihzKSB0byBkaXNrIScpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmIChvcHRpb25zLmF1ZGlvICYmIG9wdGlvbnMudmlkZW8gJiYgb3B0aW9ucy5naWYpIHtcbiAgICAgICAgb3B0aW9ucy5hdWRpby5nZXREYXRhVVJMKGZ1bmN0aW9uKGF1ZGlvRGF0YVVSTCkge1xuICAgICAgICAgICAgb3B0aW9ucy52aWRlby5nZXREYXRhVVJMKGZ1bmN0aW9uKHZpZGVvRGF0YVVSTCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2lmLmdldERhdGFVUkwoZnVuY3Rpb24oZ2lmRGF0YVVSTCkge1xuICAgICAgICAgICAgICAgICAgICBEaXNrU3RvcmFnZS5TdG9yZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0Jsb2I6IGF1ZGlvRGF0YVVSTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQmxvYjogdmlkZW9EYXRhVVJMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2lmQmxvYjogZ2lmRGF0YVVSTFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYXVkaW8gJiYgb3B0aW9ucy52aWRlbykge1xuICAgICAgICBvcHRpb25zLmF1ZGlvLmdldERhdGFVUkwoZnVuY3Rpb24oYXVkaW9EYXRhVVJMKSB7XG4gICAgICAgICAgICBvcHRpb25zLnZpZGVvLmdldERhdGFVUkwoZnVuY3Rpb24odmlkZW9EYXRhVVJMKSB7XG4gICAgICAgICAgICAgICAgRGlza1N0b3JhZ2UuU3RvcmUoe1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0Jsb2I6IGF1ZGlvRGF0YVVSTCxcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9CbG9iOiB2aWRlb0RhdGFVUkxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYXVkaW8gJiYgb3B0aW9ucy5naWYpIHtcbiAgICAgICAgb3B0aW9ucy5hdWRpby5nZXREYXRhVVJMKGZ1bmN0aW9uKGF1ZGlvRGF0YVVSTCkge1xuICAgICAgICAgICAgb3B0aW9ucy5naWYuZ2V0RGF0YVVSTChmdW5jdGlvbihnaWZEYXRhVVJMKSB7XG4gICAgICAgICAgICAgICAgRGlza1N0b3JhZ2UuU3RvcmUoe1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0Jsb2I6IGF1ZGlvRGF0YVVSTCxcbiAgICAgICAgICAgICAgICAgICAgZ2lmQmxvYjogZ2lmRGF0YVVSTFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy52aWRlbyAmJiBvcHRpb25zLmdpZikge1xuICAgICAgICBvcHRpb25zLnZpZGVvLmdldERhdGFVUkwoZnVuY3Rpb24odmlkZW9EYXRhVVJMKSB7XG4gICAgICAgICAgICBvcHRpb25zLmdpZi5nZXREYXRhVVJMKGZ1bmN0aW9uKGdpZkRhdGFVUkwpIHtcbiAgICAgICAgICAgICAgICBEaXNrU3RvcmFnZS5TdG9yZSh7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvQmxvYjogdmlkZW9EYXRhVVJMLFxuICAgICAgICAgICAgICAgICAgICBnaWZCbG9iOiBnaWZEYXRhVVJMXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmF1ZGlvKSB7XG4gICAgICAgIG9wdGlvbnMuYXVkaW8uZ2V0RGF0YVVSTChmdW5jdGlvbihhdWRpb0RhdGFVUkwpIHtcbiAgICAgICAgICAgIERpc2tTdG9yYWdlLlN0b3JlKHtcbiAgICAgICAgICAgICAgICBhdWRpb0Jsb2I6IGF1ZGlvRGF0YVVSTFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy52aWRlbykge1xuICAgICAgICBvcHRpb25zLnZpZGVvLmdldERhdGFVUkwoZnVuY3Rpb24odmlkZW9EYXRhVVJMKSB7XG4gICAgICAgICAgICBEaXNrU3RvcmFnZS5TdG9yZSh7XG4gICAgICAgICAgICAgICAgdmlkZW9CbG9iOiB2aWRlb0RhdGFVUkxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZ2lmKSB7XG4gICAgICAgIG9wdGlvbnMuZ2lmLmdldERhdGFVUkwoZnVuY3Rpb24oZ2lmRGF0YVVSTCkge1xuICAgICAgICAgICAgRGlza1N0b3JhZ2UuU3RvcmUoe1xuICAgICAgICAgICAgICAgIGdpZkJsb2I6IGdpZkRhdGFVUkxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgLyogJiYgISFtb2R1bGUuZXhwb3J0cyovICkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gUmVjb3JkUlRDO1xufVxuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCdSZWNvcmRSVEMnLCBbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSZWNvcmRSVEM7XG4gICAgfSk7XG59XG5cbi8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fXG4vLyBSZWNvcmRSVEMtQ29uZmlndXJhdGlvbi5qc1xuXG4vKipcbiAqIHtAbGluayBSZWNvcmRSVENDb25maWd1cmF0aW9ufSBpcyBhbiBpbm5lci9wcml2YXRlIGhlbHBlciBmb3Ige0BsaW5rIFJlY29yZFJUQ30uXG4gKiBAc3VtbWFyeSBJdCBjb25maWd1cmVzIHRoZSAybmQgcGFyYW1ldGVyIHBhc3NlZCBvdmVyIHtAbGluayBSZWNvcmRSVEN9IGFuZCByZXR1cm5zIGEgdmFsaWQgXCJjb25maWdcIiBvYmplY3QuXG4gKiBAbGljZW5zZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEMjbGljZW5zZXxNSVR9XG4gKiBAYXV0aG9yIHtAbGluayBodHRwOi8vd3d3Lk11YXpLaGFuLmNvbXxNdWF6IEtoYW59XG4gKiBAdHlwZWRlZiBSZWNvcmRSVENDb25maWd1cmF0aW9uXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgb3B0aW9ucyA9IFJlY29yZFJUQ0NvbmZpZ3VyYXRpb24obWVkaWFTdHJlYW0sIG9wdGlvbnMpO1xuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEN8UmVjb3JkUlRDIFNvdXJjZSBDb2RlfVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gbWVkaWFTdHJlYW0gLSBNZWRpYVN0cmVhbSBvYmplY3QgZmV0Y2hlZCB1c2luZyBnZXRVc2VyTWVkaWEgQVBJIG9yIGdlbmVyYXRlZCB1c2luZyBjYXB0dXJlU3RyZWFtVW50aWxFbmRlZCBvciBXZWJBdWRpbyBBUEkuXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0ge3R5cGU6XCJ2aWRlb1wiLCBkaXNhYmxlTG9nczogdHJ1ZSwgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzOiAxLCBidWZmZXJTaXplOiAwLCBzYW1wbGVSYXRlOiAwLCB2aWRlbzogSFRNTFZpZGVvRWxlbWVudCwgZ2V0TmF0aXZlQmxvYjp0cnVlLCBldGMufVxuICovXG5cbmZ1bmN0aW9uIFJlY29yZFJUQ0NvbmZpZ3VyYXRpb24obWVkaWFTdHJlYW0sIGNvbmZpZykge1xuICAgIGlmIChjb25maWcucmVjb3JkZXJUeXBlICYmICFjb25maWcudHlwZSkge1xuICAgICAgICBpZiAoY29uZmlnLnJlY29yZGVyVHlwZSA9PT0gV2hhbW15UmVjb3JkZXIgfHwgY29uZmlnLnJlY29yZGVyVHlwZSA9PT0gQ2FudmFzUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbmZpZy50eXBlID0gJ3ZpZGVvJztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucmVjb3JkZXJUeXBlID09PSBHaWZSZWNvcmRlcikge1xuICAgICAgICAgICAgY29uZmlnLnR5cGUgPSAnZ2lmJztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucmVjb3JkZXJUeXBlID09PSBTdGVyZW9BdWRpb1JlY29yZGVyKSB7XG4gICAgICAgICAgICBjb25maWcudHlwZSA9ICdhdWRpbyc7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnJlY29yZGVyVHlwZSA9PT0gTWVkaWFTdHJlYW1SZWNvcmRlcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoICYmIG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCAmJiAhbWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25maWcudHlwZSA9ICdhdWRpbyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCAmJiBtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50eXBlID0gJ2F1ZGlvJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY29uZmlnLnR5cGUgPSAnVW5Lbm93bic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIE1lZGlhU3RyZWFtUmVjb3JkZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBNZWRpYVJlY29yZGVyICE9PSAndW5kZWZpbmVkJyAmJiAncmVxdWVzdERhdGEnIGluIE1lZGlhUmVjb3JkZXIucHJvdG90eXBlKSB7XG4gICAgICAgIGlmICghY29uZmlnLm1pbWVUeXBlKSB7XG4gICAgICAgICAgICBjb25maWcubWltZVR5cGUgPSAndmlkZW8vd2VibSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy50eXBlKSB7XG4gICAgICAgICAgICBjb25maWcudHlwZSA9IGNvbmZpZy5taW1lVHlwZS5zcGxpdCgnLycpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb25maWcuYml0c1BlclNlY29uZCkge1xuICAgICAgICAgICAgLy8gY29uZmlnLmJpdHNQZXJTZWNvbmQgPSAxMjgwMDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb25zaWRlciBkZWZhdWx0IHR5cGU9YXVkaW9cbiAgICBpZiAoIWNvbmZpZy50eXBlKSB7XG4gICAgICAgIGlmIChjb25maWcubWltZVR5cGUpIHtcbiAgICAgICAgICAgIGNvbmZpZy50eXBlID0gY29uZmlnLm1pbWVUeXBlLnNwbGl0KCcvJylbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25maWcudHlwZSkge1xuICAgICAgICAgICAgY29uZmlnLnR5cGUgPSAnYXVkaW8nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbn1cblxuLy8gX19fX19fX19fX19fX19fX19fXG4vLyBHZXRSZWNvcmRlclR5cGUuanNcblxuLyoqXG4gKiB7QGxpbmsgR2V0UmVjb3JkZXJUeXBlfSBpcyBhbiBpbm5lci9wcml2YXRlIGhlbHBlciBmb3Ige0BsaW5rIFJlY29yZFJUQ30uXG4gKiBAc3VtbWFyeSBJdCByZXR1cm5zIGJlc3QgcmVjb3JkZXItdHlwZSBhdmFpbGFibGUgZm9yIHlvdXIgYnJvd3Nlci5cbiAqIEBsaWNlbnNlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQyNsaWNlbnNlfE1JVH1cbiAqIEBhdXRob3Ige0BsaW5rIGh0dHA6Ly93d3cuTXVhektoYW4uY29tfE11YXogS2hhbn1cbiAqIEB0eXBlZGVmIEdldFJlY29yZGVyVHlwZVxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIFJlY29yZGVyVHlwZSA9IEdldFJlY29yZGVyVHlwZShvcHRpb25zKTtcbiAqIHZhciByZWNvcmRlciA9IG5ldyBSZWNvcmRlclR5cGUob3B0aW9ucyk7XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQ3xSZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBtZWRpYVN0cmVhbSAtIE1lZGlhU3RyZWFtIG9iamVjdCBmZXRjaGVkIHVzaW5nIGdldFVzZXJNZWRpYSBBUEkgb3IgZ2VuZXJhdGVkIHVzaW5nIGNhcHR1cmVTdHJlYW1VbnRpbEVuZGVkIG9yIFdlYkF1ZGlvIEFQSS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSB7dHlwZTpcInZpZGVvXCIsIGRpc2FibGVMb2dzOiB0cnVlLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHM6IDEsIGJ1ZmZlclNpemU6IDAsIHNhbXBsZVJhdGU6IDAsIHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50LCBldGMufVxuICovXG5cbmZ1bmN0aW9uIEdldFJlY29yZGVyVHlwZShtZWRpYVN0cmVhbSwgY29uZmlnKSB7XG4gICAgdmFyIHJlY29yZGVyO1xuXG4gICAgLy8gU3RlcmVvQXVkaW9SZWNvcmRlciBjYW4gd29yayB3aXRoIGFsbCB0aHJlZTogRWRnZSwgRmlyZWZveCBhbmQgQ2hyb21lXG4gICAgLy8gdG9kbzogZGV0ZWN0IGlmIGl0IGlzIEVkZ2UsIHRoZW4gYXV0byB1c2U6IFN0ZXJlb0F1ZGlvUmVjb3JkZXJcbiAgICBpZiAoaXNDaHJvbWUgfHwgaXNFZGdlIHx8IGlzT3BlcmEpIHtcbiAgICAgICAgLy8gTWVkaWEgU3RyZWFtIFJlY29yZGluZyBBUEkgaGFzIG5vdCBiZWVuIGltcGxlbWVudGVkIGluIGNocm9tZSB5ZXQ7XG4gICAgICAgIC8vIFRoYXQncyB3aHkgdXNpbmcgV2ViQXVkaW8gQVBJIHRvIHJlY29yZCBzdGVyZW8gYXVkaW8gaW4gV0FWIGZvcm1hdFxuICAgICAgICByZWNvcmRlciA9IFN0ZXJlb0F1ZGlvUmVjb3JkZXI7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBNZWRpYVJlY29yZGVyICE9PSAndW5kZWZpbmVkJyAmJiAncmVxdWVzdERhdGEnIGluIE1lZGlhUmVjb3JkZXIucHJvdG90eXBlICYmICFpc0Nocm9tZSkge1xuICAgICAgICByZWNvcmRlciA9IE1lZGlhU3RyZWFtUmVjb3JkZXI7XG4gICAgfVxuXG4gICAgLy8gdmlkZW8gcmVjb3JkZXIgKGluIFdlYk0gZm9ybWF0KVxuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ3ZpZGVvJyAmJiAoaXNDaHJvbWUgfHwgaXNPcGVyYSkpIHtcbiAgICAgICAgcmVjb3JkZXIgPSBXaGFtbXlSZWNvcmRlcjtcbiAgICB9XG5cbiAgICAvLyB2aWRlbyByZWNvcmRlciAoaW4gR2lmIGZvcm1hdClcbiAgICBpZiAoY29uZmlnLnR5cGUgPT09ICdnaWYnKSB7XG4gICAgICAgIHJlY29yZGVyID0gR2lmUmVjb3JkZXI7XG4gICAgfVxuXG4gICAgLy8gaHRtbDJjYW52YXMgcmVjb3JkaW5nIVxuICAgIGlmIChjb25maWcudHlwZSA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgcmVjb3JkZXIgPSBDYW52YXNSZWNvcmRlcjtcbiAgICB9XG5cbiAgICBpZiAoaXNNZWRpYVJlY29yZGVyQ29tcGF0aWJsZSgpICYmIHJlY29yZGVyICE9PSBDYW52YXNSZWNvcmRlciAmJiByZWNvcmRlciAhPT0gR2lmUmVjb3JkZXIgJiYgdHlwZW9mIE1lZGlhUmVjb3JkZXIgIT09ICd1bmRlZmluZWQnICYmICdyZXF1ZXN0RGF0YScgaW4gTWVkaWFSZWNvcmRlci5wcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKChtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcyAmJiBtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkgfHwgKG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzICYmIG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKSkge1xuICAgICAgICAgICAgLy8gYXVkaW8tb25seSByZWNvcmRpbmdcbiAgICAgICAgICAgIGlmIChjb25maWcudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgTWVkaWFSZWNvcmRlci5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiYgTWVkaWFSZWNvcmRlci5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL3dlYm0nKSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRlciA9IE1lZGlhU3RyZWFtUmVjb3JkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVsc2UgcmVjb3JkZXIgPSBTdGVyZW9BdWRpb1JlY29yZGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB2aWRlbyBvciBzY3JlZW4gdHJhY2tzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZCA9PT0gJ2Z1bmN0aW9uJyAmJiBNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vd2VibScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZGVyID0gTWVkaWFTdHJlYW1SZWNvcmRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnJlY29yZGVyVHlwZSkge1xuICAgICAgICByZWNvcmRlciA9IGNvbmZpZy5yZWNvcmRlclR5cGU7XG4gICAgfVxuXG4gICAgaWYgKG1lZGlhU3RyZWFtIGluc3RhbmNlb2YgQXJyYXkgJiYgbWVkaWFTdHJlYW0ubGVuZ3RoKSB7XG4gICAgICAgIHJlY29yZGVyID0gTXVsdGlTdHJlYW1SZWNvcmRlcjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncyAmJiAhIXJlY29yZGVyICYmICEhcmVjb3JkZXIubmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgcmVjb3JkZXJUeXBlOicsIHJlY29yZGVyLm5hbWUgfHwgcmVjb3JkZXIuY29uc3RydWN0b3IubmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY29yZGVyO1xufVxuXG4vLyBfX19fX19fX19fX19fXG4vLyBNUmVjb3JkUlRDLmpzXG5cbi8qKlxuICogTVJlY29yZFJUQyBydW5zIG9uIHRvcCBvZiB7QGxpbmsgUmVjb3JkUlRDfSB0byBicmluZyBtdWx0aXBsZSByZWNvcmRpbmdzIGluIGEgc2luZ2xlIHBsYWNlLCBieSBwcm92aWRpbmcgc2ltcGxlIEFQSS5cbiAqIEBzdW1tYXJ5IE1SZWNvcmRSVEMgc3RhbmRzIGZvciBcIk11bHRpcGxlLVJlY29yZFJUQ1wiLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgTVJlY29yZFJUQ1xuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIHJlY29yZGVyID0gbmV3IE1SZWNvcmRSVEMoKTtcbiAqIHJlY29yZGVyLmFkZFN0cmVhbShNZWRpYVN0cmVhbSk7XG4gKiByZWNvcmRlci5tZWRpYVR5cGUgPSB7XG4gKiAgICAgYXVkaW86IHRydWUsIC8vIG9yIFN0ZXJlb0F1ZGlvUmVjb3JkZXIgb3IgTWVkaWFTdHJlYW1SZWNvcmRlclxuICogICAgIHZpZGVvOiB0cnVlLCAvLyBvciBXaGFtbXlSZWNvcmRlciBvciBNZWRpYVN0cmVhbVJlY29yZGVyXG4gKiAgICAgZ2lmOiB0cnVlICAgIC8vIG9yIEdpZlJlY29yZGVyXG4gKiB9O1xuICogLy8gbWltZVR5cGUgaXMgb3B0aW9uYWwgYW5kIHNob3VsZCBiZSBzZXQgb25seSBpbiBhZHZhbmNlIGNhc2VzLlxuICogcmVjb3JkZXIubWltZVR5cGUgPSB7XG4gKiAgICAgYXVkaW86ICdhdWRpby93YXYnLFxuICogICAgIHZpZGVvOiAndmlkZW8vd2VibScsXG4gKiAgICAgZ2lmOiAgICdpbWFnZS9naWYnXG4gKiB9O1xuICogcmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKTtcbiAqIEBzZWUgRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb246XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQy90cmVlL21hc3Rlci9NUmVjb3JkUlRDfE1SZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBtZWRpYVN0cmVhbSAtIE1lZGlhU3RyZWFtIG9iamVjdCBmZXRjaGVkIHVzaW5nIGdldFVzZXJNZWRpYSBBUEkgb3IgZ2VuZXJhdGVkIHVzaW5nIGNhcHR1cmVTdHJlYW1VbnRpbEVuZGVkIG9yIFdlYkF1ZGlvIEFQSS5cbiAqIEByZXF1aXJlcyB7QGxpbmsgUmVjb3JkUlRDfVxuICovXG5cbmZ1bmN0aW9uIE1SZWNvcmRSVEMobWVkaWFTdHJlYW0pIHtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGF0dGFjaGVzIE1lZGlhU3RyZWFtIG9iamVjdCB0byB7QGxpbmsgTVJlY29yZFJUQ30uXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gbWVkaWFTdHJlYW0gLSBBIE1lZGlhU3RyZWFtIG9iamVjdCwgZWl0aGVyIGZldGNoZWQgdXNpbmcgZ2V0VXNlck1lZGlhIEFQSSwgb3IgZ2VuZXJhdGVkIHVzaW5nIGNhcHR1cmVTdHJlYW1VbnRpbEVuZGVkIG9yIFdlYkF1ZGlvIEFQSS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLmFkZFN0cmVhbShNZWRpYVN0cmVhbSk7XG4gICAgICovXG4gICAgdGhpcy5hZGRTdHJlYW0gPSBmdW5jdGlvbihfbWVkaWFTdHJlYW0pIHtcbiAgICAgICAgaWYgKF9tZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgbWVkaWFTdHJlYW0gPSBfbWVkaWFTdHJlYW07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBwcm9wZXJ0eSBjYW4gYmUgdXNlZCB0byBzZXQgdGhlIHJlY29yZGluZyB0eXBlIGUuZy4gYXVkaW8sIG9yIHZpZGVvLCBvciBnaWYsIG9yIGNhbnZhcy5cbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gbWVkaWFUeXBlIC0ge2F1ZGlvOiB0cnVlLCB2aWRlbzogdHJ1ZSwgZ2lmOiB0cnVlfVxuICAgICAqIEBtZW1iZXJvZiBNUmVjb3JkUlRDXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcmVjb3JkZXIgPSBuZXcgTVJlY29yZFJUQygpO1xuICAgICAqIHJlY29yZGVyLm1lZGlhVHlwZSA9IHtcbiAgICAgKiAgICAgYXVkaW86IHRydWUsIC8vIFRSVUUgb3IgU3RlcmVvQXVkaW9SZWNvcmRlciBvciBNZWRpYVN0cmVhbVJlY29yZGVyXG4gICAgICogICAgIHZpZGVvOiB0cnVlLCAvLyBUUlVFIG9yIFdoYW1teVJlY29yZGVyIG9yIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiAgICAgZ2lmICA6IHRydWUgIC8vIFRSVUUgb3IgR2lmUmVjb3JkZXJcbiAgICAgKiB9O1xuICAgICAqL1xuICAgIHRoaXMubWVkaWFUeXBlID0ge1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgdmlkZW86IHRydWVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc3RhcnRzIHJlY29yZGluZy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICovXG4gICAgdGhpcy5zdGFydFJlY29yZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWVkaWFUeXBlID0gdGhpcy5tZWRpYVR5cGU7XG4gICAgICAgIHZhciByZWNvcmRlclR5cGU7XG4gICAgICAgIHZhciBtaW1lVHlwZSA9IHRoaXMubWltZVR5cGUgfHwge1xuICAgICAgICAgICAgYXVkaW86IG51bGwsXG4gICAgICAgICAgICB2aWRlbzogbnVsbCxcbiAgICAgICAgICAgIGdpZjogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgbWVkaWFUeXBlLmF1ZGlvICE9PSAnZnVuY3Rpb24nICYmIGlzTWVkaWFSZWNvcmRlckNvbXBhdGlibGUoKSAmJiBtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcyAmJiAhbWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZS5hdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYVR5cGUudmlkZW8gIT09ICdmdW5jdGlvbicgJiYgaXNNZWRpYVJlY29yZGVyQ29tcGF0aWJsZSgpICYmIG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzICYmICFtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgbWVkaWFUeXBlLnZpZGVvID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG1lZGlhVHlwZS5naWYgIT09ICdmdW5jdGlvbicgJiYgaXNNZWRpYVJlY29yZGVyQ29tcGF0aWJsZSgpICYmIG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzICYmICFtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgbWVkaWFUeXBlLmdpZiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtZWRpYVR5cGUuYXVkaW8gJiYgIW1lZGlhVHlwZS52aWRlbyAmJiAhbWVkaWFUeXBlLmdpZikge1xuICAgICAgICAgICAgdGhyb3cgJ01lZGlhU3RyZWFtIG11c3QgaGF2ZSBlaXRoZXIgYXVkaW8gb3IgdmlkZW8gdHJhY2tzLic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISFtZWRpYVR5cGUuYXVkaW8pIHtcbiAgICAgICAgICAgIHJlY29yZGVyVHlwZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lZGlhVHlwZS5hdWRpbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJlY29yZGVyVHlwZSA9IG1lZGlhVHlwZS5hdWRpbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyID0gbmV3IFJlY29yZFJUQyhtZWRpYVN0cmVhbSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICAgICAgYnVmZmVyU2l6ZTogdGhpcy5idWZmZXJTaXplLFxuICAgICAgICAgICAgICAgIHNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICBudW1iZXJPZkF1ZGlvQ2hhbm5lbHM6IHRoaXMubnVtYmVyT2ZBdWRpb0NoYW5uZWxzIHx8IDIsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUxvZ3M6IHRoaXMuZGlzYWJsZUxvZ3MsXG4gICAgICAgICAgICAgICAgcmVjb3JkZXJUeXBlOiByZWNvcmRlclR5cGUsXG4gICAgICAgICAgICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLmF1ZGlvLFxuICAgICAgICAgICAgICAgIHRpbWVTbGljZTogdGhpcy50aW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgb25UaW1lU3RhbXA6IHRoaXMub25UaW1lU3RhbXBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIW1lZGlhVHlwZS52aWRlbykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEhbWVkaWFUeXBlLnZpZGVvKSB7XG4gICAgICAgICAgICByZWNvcmRlclR5cGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZWRpYVR5cGUudmlkZW8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZWNvcmRlclR5cGUgPSBtZWRpYVR5cGUudmlkZW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXdTdHJlYW0gPSBtZWRpYVN0cmVhbTtcblxuICAgICAgICAgICAgaWYgKGlzTWVkaWFSZWNvcmRlckNvbXBhdGlibGUoKSAmJiAhIW1lZGlhVHlwZS5hdWRpbyAmJiB0eXBlb2YgbWVkaWFUeXBlLmF1ZGlvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvVHJhY2sgPSBtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RyZWFtLmFkZFRyYWNrKHZpZGVvVHJhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmRlclR5cGUgJiYgcmVjb3JkZXJUeXBlID09PSBXaGFtbXlSZWNvcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveCBkb2VzIE5PVCBzdXBwb3J0IHdlYnAtZW5jb2RpbmcgeWV0XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRlclR5cGUgPSBNZWRpYVN0cmVhbVJlY29yZGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKFt2aWRlb1RyYWNrXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZGVvUmVjb3JkZXIgPSBuZXcgUmVjb3JkUlRDKG5ld1N0cmVhbSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgdmlkZW86IHRoaXMudmlkZW8sXG4gICAgICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgICAgICBmcmFtZUludGVydmFsOiB0aGlzLmZyYW1lSW50ZXJ2YWwgfHwgMTAsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUxvZ3M6IHRoaXMuZGlzYWJsZUxvZ3MsXG4gICAgICAgICAgICAgICAgcmVjb3JkZXJUeXBlOiByZWNvcmRlclR5cGUsXG4gICAgICAgICAgICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLnZpZGVvLFxuICAgICAgICAgICAgICAgIHRpbWVTbGljZTogdGhpcy50aW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgb25UaW1lU3RhbXA6IHRoaXMub25UaW1lU3RhbXBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIW1lZGlhVHlwZS5hdWRpbykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEhbWVkaWFUeXBlLmF1ZGlvICYmICEhbWVkaWFUeXBlLnZpZGVvKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgbGluZSBwcmV2ZW50cyBTdGVyZW9BdWRpb1JlY29yZGVyXG4gICAgICAgICAgICAvLyB0b2RvOiBmaXggaXRcbiAgICAgICAgICAgIGlmIChpc01lZGlhUmVjb3JkZXJDb21wYXRpYmxlKCkgLyogJiYgIXRoaXMuYXVkaW9SZWNvcmRlciAqLyApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvUmVjb3JkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNlbGYudmlkZW9SZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLnZpZGVvUmVjb3JkZXIuaW5pdFJlY29yZGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvUmVjb3JkZXIuaW5pdFJlY29yZGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm90aCByZWNvcmRlcnMgYXJlIHJlYWR5IHRvIHJlY29yZCB0aGluZ3MgYWNjdXJhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi52aWRlb1JlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvUmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISFtZWRpYVR5cGUuZ2lmKSB7XG4gICAgICAgICAgICByZWNvcmRlclR5cGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZWRpYVR5cGUuZ2lmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkZXJUeXBlID0gbWVkaWFUeXBlLmdpZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2lmUmVjb3JkZXIgPSBuZXcgUmVjb3JkUlRDKG1lZGlhU3RyZWFtLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2dpZicsXG4gICAgICAgICAgICAgICAgZnJhbWVSYXRlOiB0aGlzLmZyYW1lUmF0ZSB8fCAyMDAsXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogdGhpcy5xdWFsaXR5IHx8IDEwLFxuICAgICAgICAgICAgICAgIGRpc2FibGVMb2dzOiB0aGlzLmRpc2FibGVMb2dzLFxuICAgICAgICAgICAgICAgIHJlY29yZGVyVHlwZTogcmVjb3JkZXJUeXBlLFxuICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBtaW1lVHlwZS5naWZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5naWZSZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHJlY29yZGluZy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2hlbiBhbGwgZW5jb2RlcnMgZmluaXNoZWQgdGhlaXIgam9icy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoZnVuY3Rpb24ocmVjb3JkaW5nKXtcbiAgICAgKiAgICAgdmFyIGF1ZGlvQmxvYiA9IHJlY29yZGluZy5hdWRpbztcbiAgICAgKiAgICAgdmFyIHZpZGVvQmxvYiA9IHJlY29yZGluZy52aWRlbztcbiAgICAgKiAgICAgdmFyIGdpZkJsb2IgICA9IHJlY29yZGluZy5naWY7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5zdG9wUmVjb3JkaW5nID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKGJsb2JVUkwpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhibG9iVVJMLCAnYXVkaW8nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlkZW9SZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlY29yZGVyLnN0b3BSZWNvcmRpbmcoZnVuY3Rpb24oYmxvYlVSTCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGJsb2JVUkwsICd2aWRlbycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5naWZSZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5naWZSZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKGJsb2JVUkwpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhibG9iVVJMLCAnZ2lmJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBwYXVzZXMgcmVjb3JkaW5nLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTVJlY29yZFJUQ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucGF1c2VSZWNvcmRpbmcoKTtcbiAgICAgKi9cbiAgICB0aGlzLnBhdXNlUmVjb3JkaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5wYXVzZVJlY29yZGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlkZW9SZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlY29yZGVyLnBhdXNlUmVjb3JkaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5naWZSZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5naWZSZWNvcmRlci5wYXVzZVJlY29yZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlc3VtZXMgcmVjb3JkaW5nLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTVJlY29yZFJUQ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVzdW1lUmVjb3JkaW5nKCk7XG4gICAgICovXG4gICAgdGhpcy5yZXN1bWVSZWNvcmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9SZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5hdWRpb1JlY29yZGVyLnJlc3VtZVJlY29yZGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlkZW9SZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlY29yZGVyLnJlc3VtZVJlY29yZGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2lmUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2lmUmVjb3JkZXIucmVzdW1lUmVjb3JkaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gbWFudWFsbHkgZ2V0IGFsbCByZWNvcmRlZCBibG9icy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEFsbCByZWNvcmRlZCBibG9icyBhcmUgcGFzc2VkIGJhY2sgdG8gdGhlIFwiY2FsbGJhY2tcIiBmdW5jdGlvbi5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLmdldEJsb2IoZnVuY3Rpb24ocmVjb3JkaW5nKXtcbiAgICAgKiAgICAgdmFyIGF1ZGlvQmxvYiA9IHJlY29yZGluZy5hdWRpbztcbiAgICAgKiAgICAgdmFyIHZpZGVvQmxvYiA9IHJlY29yZGluZy52aWRlbztcbiAgICAgKiAgICAgdmFyIGdpZkJsb2IgICA9IHJlY29yZGluZy5naWY7XG4gICAgICogfSk7XG4gICAgICogLy8gb3JcbiAgICAgKiB2YXIgYXVkaW9CbG9iID0gcmVjb3JkZXIuZ2V0QmxvYigpLmF1ZGlvO1xuICAgICAqIHZhciB2aWRlb0Jsb2IgPSByZWNvcmRlci5nZXRCbG9iKCkudmlkZW87XG4gICAgICovXG4gICAgdGhpcy5nZXRCbG9iID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHt9O1xuXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIG91dHB1dC5hdWRpbyA9IHRoaXMuYXVkaW9SZWNvcmRlci5nZXRCbG9iKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aWRlb1JlY29yZGVyKSB7XG4gICAgICAgICAgICBvdXRwdXQudmlkZW8gPSB0aGlzLnZpZGVvUmVjb3JkZXIuZ2V0QmxvYigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2lmUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIG91dHB1dC5naWYgPSB0aGlzLmdpZlJlY29yZGVyLmdldEJsb2IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sob3V0cHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIG1hbnVhbGx5IGdldCBhbGwgcmVjb3JkZWQgYmxvYnMnIERhdGFVUkxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQWxsIHJlY29yZGVkIGJsb2JzJyBEYXRhVVJMcyBhcmUgcGFzc2VkIGJhY2sgdG8gdGhlIFwiY2FsbGJhY2tcIiBmdW5jdGlvbi5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLmdldERhdGFVUkwoZnVuY3Rpb24ocmVjb3JkaW5nKXtcbiAgICAgKiAgICAgdmFyIGF1ZGlvRGF0YVVSTCA9IHJlY29yZGluZy5hdWRpbztcbiAgICAgKiAgICAgdmFyIHZpZGVvRGF0YVVSTCA9IHJlY29yZGluZy52aWRlbztcbiAgICAgKiAgICAgdmFyIGdpZkRhdGFVUkwgICA9IHJlY29yZGluZy5naWY7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5nZXREYXRhVVJMID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5nZXRCbG9iKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgICAgIGlmIChibG9iLmF1ZGlvICYmIGJsb2IudmlkZW8pIHtcbiAgICAgICAgICAgICAgICBnZXREYXRhVVJMKGJsb2IuYXVkaW8sIGZ1bmN0aW9uKF9hdWRpb0RhdGFVUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGF0YVVSTChibG9iLnZpZGVvLCBmdW5jdGlvbihfdmlkZW9EYXRhVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IF9hdWRpb0RhdGFVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86IF92aWRlb0RhdGFVUkxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvYi5hdWRpbykge1xuICAgICAgICAgICAgICAgIGdldERhdGFVUkwoYmxvYi5hdWRpbywgZnVuY3Rpb24oX2F1ZGlvRGF0YVVSTCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogX2F1ZGlvRGF0YVVSTFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvYi52aWRlbykge1xuICAgICAgICAgICAgICAgIGdldERhdGFVUkwoYmxvYi52aWRlbywgZnVuY3Rpb24oX3ZpZGVvRGF0YVVSTCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbzogX3ZpZGVvRGF0YVVSTFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0YVVSTChibG9iLCBjYWxsYmFjazAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2ViV29ya2VyID0gcHJvY2Vzc0luV2ViV29ya2VyKGZ1bmN0aW9uIHJlYWRGaWxlKF9ibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKG5ldyBGaWxlUmVhZGVyU3luYygpLnJlYWRBc0RhdGFVUkwoX2Jsb2IpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHdlYldvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazAwKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB3ZWJXb3JrZXIucG9zdE1lc3NhZ2UoYmxvYik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazAwKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzSW5XZWJXb3JrZXIoX2Z1bmN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYmxvYiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW19mdW5jdGlvbi50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICd0aGlzLm9ubWVzc2FnZSA9ICBmdW5jdGlvbiAoZSkgeycgKyBfZnVuY3Rpb24ubmFtZSArICcoZS5kYXRhKTt9J1xuICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihibG9iKTtcbiAgICAgICAgICAgIHZhciB1cmw7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFVSTCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBVUkw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWJraXRVUkwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gd2Via2l0VVJMO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnTmVpdGhlciBVUkwgbm9yIHdlYmtpdFVSTCBkZXRlY3RlZC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsLnJldm9rZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gYXNrIHtAbGluayBNUmVjb3JkUlRDfSB0byB3cml0ZSBhbGwgcmVjb3JkZWQgYmxvYnMgaW50byBJbmRleGVkREIgc3RvcmFnZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1SZWNvcmRSVENcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLndyaXRlVG9EaXNrKCk7XG4gICAgICovXG4gICAgdGhpcy53cml0ZVRvRGlzayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBSZWNvcmRSVEMud3JpdGVUb0Rpc2soe1xuICAgICAgICAgICAgYXVkaW86IHRoaXMuYXVkaW9SZWNvcmRlcixcbiAgICAgICAgICAgIHZpZGVvOiB0aGlzLnZpZGVvUmVjb3JkZXIsXG4gICAgICAgICAgICBnaWY6IHRoaXMuZ2lmUmVjb3JkZXJcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGludm9rZSBhIHNhdmUtYXMgZGlhbG9nIGZvciBhbGwgcmVjb3JkZWQgYmxvYnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGFyZ3MgLSB7YXVkaW86ICdhdWRpby1uYW1lJywgdmlkZW86ICd2aWRlby1uYW1lJywgZ2lmOiAnZ2lmLW5hbWUnfVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTVJlY29yZFJUQ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuc2F2ZSh7XG4gICAgICogICAgIGF1ZGlvOiAnYXVkaW8tZmlsZS1uYW1lJyxcbiAgICAgKiAgICAgdmlkZW86ICd2aWRlby1maWxlLW5hbWUnLFxuICAgICAqICAgICBnaWYgIDogJ2dpZi1maWxlLW5hbWUnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5zYXZlID0gZnVuY3Rpb24oYXJncykge1xuICAgICAgICBhcmdzID0gYXJncyB8fCB7XG4gICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgICAgICAgZ2lmOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCEhYXJncy5hdWRpbyAmJiB0aGlzLmF1ZGlvUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9SZWNvcmRlci5zYXZlKHR5cGVvZiBhcmdzLmF1ZGlvID09PSAnc3RyaW5nJyA/IGFyZ3MuYXVkaW8gOiAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISFhcmdzLnZpZGVvICYmIHRoaXMudmlkZW9SZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlY29yZGVyLnNhdmUodHlwZW9mIGFyZ3MudmlkZW8gPT09ICdzdHJpbmcnID8gYXJncy52aWRlbyA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISFhcmdzLmdpZiAmJiB0aGlzLmdpZlJlY29yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmdpZlJlY29yZGVyLnNhdmUodHlwZW9mIGFyZ3MuZ2lmID09PSAnc3RyaW5nJyA/IGFyZ3MuZ2lmIDogJycpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBnZXQgYWxsIHJlY29yZGVkIGJsb2JzIGZyb20gSW5kZXhlZERCIHN0b3JhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtICdhbGwnIG9yICdhdWRpbycgb3IgJ3ZpZGVvJyBvciAnZ2lmJ1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiB0byBnZXQgYWxsIHN0b3JlZCBibG9icy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBNUmVjb3JkUlRDXG4gKiBAZXhhbXBsZVxuICogTVJlY29yZFJUQy5nZXRGcm9tRGlzaygnYWxsJywgZnVuY3Rpb24oZGF0YVVSTCwgdHlwZSl7XG4gKiAgICAgaWYodHlwZSA9PT0gJ2F1ZGlvJykgeyB9XG4gKiAgICAgaWYodHlwZSA9PT0gJ3ZpZGVvJykgeyB9XG4gKiAgICAgaWYodHlwZSA9PT0gJ2dpZicpICAgeyB9XG4gKiB9KTtcbiAqL1xuTVJlY29yZFJUQy5nZXRGcm9tRGlzayA9IFJlY29yZFJUQy5nZXRGcm9tRGlzaztcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBzdG9yZSByZWNvcmRlZCBibG9icyBpbnRvIEluZGV4ZWREQiBzdG9yYWdlLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSB7YXVkaW86IEJsb2IsIHZpZGVvOiBCbG9iLCBnaWY6IEJsb2J9XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgTVJlY29yZFJUQ1xuICogQGV4YW1wbGVcbiAqIE1SZWNvcmRSVEMud3JpdGVUb0Rpc2soe1xuICogICAgIGF1ZGlvOiBhdWRpb0Jsb2IsXG4gKiAgICAgdmlkZW86IHZpZGVvQmxvYixcbiAqICAgICBnaWYgIDogZ2lmQmxvYlxuICogfSk7XG4gKi9cbk1SZWNvcmRSVEMud3JpdGVUb0Rpc2sgPSBSZWNvcmRSVEMud3JpdGVUb0Rpc2s7XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5NUmVjb3JkUlRDID0gTVJlY29yZFJUQztcbn1cblxudmFyIGJyb3dzZXJGYWtlVXNlckFnZW50ID0gJ0Zha2UvNS4wIChGYWtlT1MpIEFwcGxlV2ViS2l0LzEyMyAoS0hUTUwsIGxpa2UgR2Vja28pIEZha2UvMTIuMy40NTY3Ljg5IEZha2UvMTIzLjQ1JztcblxuKGZ1bmN0aW9uKHRoYXQpIHtcbiAgICBpZiAoIXRoYXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBnbG9iYWwubmF2aWdhdG9yID0ge1xuICAgICAgICB1c2VyQWdlbnQ6IGJyb3dzZXJGYWtlVXNlckFnZW50LFxuICAgICAgICBnZXRVc2VyTWVkaWE6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuXG4gICAgaWYgKCFnbG9iYWwuY29uc29sZSkge1xuICAgICAgICBnbG9iYWwuY29uc29sZSA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsLmNvbnNvbGUubG9nID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZ2xvYmFsLmNvbnNvbGUuZXJyb3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbC5jb25zb2xlLmVycm9yID0gZ2xvYmFsLmNvbnNvbGUubG9nID0gZ2xvYmFsLmNvbnNvbGUubG9nIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKmdsb2JhbCBkb2N1bWVudDp0cnVlICovXG4gICAgICAgIHRoYXQuZG9jdW1lbnQgPSB7fTtcblxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gZG9jdW1lbnQuY2FwdHVyZVN0cmVhbSA9IGRvY3VtZW50Lm1vekNhcHR1cmVTdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgZ2V0Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbGF5OiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgIGRyYXdJbWFnZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgICAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhhdC5IVE1MVmlkZW9FbGVtZW50ID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKmdsb2JhbCBsb2NhdGlvbjp0cnVlICovXG4gICAgICAgIHRoYXQubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBwcm90b2NvbDogJ2ZpbGU6JyxcbiAgICAgICAgICAgIGhyZWY6ICcnLFxuICAgICAgICAgICAgaGFzaDogJydcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNjcmVlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLypnbG9iYWwgc2NyZWVuOnRydWUgKi9cbiAgICAgICAgdGhhdC5zY3JlZW4gPSB7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgVVJMID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKmdsb2JhbCBzY3JlZW46dHJ1ZSAqL1xuICAgICAgICB0aGF0LlVSTCA9IHtcbiAgICAgICAgICAgIGNyZWF0ZU9iamVjdFVSTDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldm9rZU9iamVjdFVSTDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qZ2xvYmFsIHdpbmRvdzp0cnVlICovXG4gICAgdGhhdC53aW5kb3cgPSBnbG9iYWw7XG59KSh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IG51bGwpO1xuXG4vLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuLy8gQ3Jvc3MtQnJvd3Nlci1EZWNsYXJhdGlvbnMuanNcblxuLy8gYW5pbWF0aW9uLWZyYW1lIHVzZWQgaW4gV2ViTSByZWNvcmRpbmdcblxuLypqc2hpbnQgLVcwNzkgKi9cbnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qZ2xvYmFsIHJlcXVlc3RBbmltYXRpb25GcmFtZTp0cnVlICovXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qZ2xvYmFsIHJlcXVlc3RBbmltYXRpb25GcmFtZTp0cnVlICovXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IG1velJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtc1JlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLypnbG9iYWwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOnRydWUgKi9cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gbXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyB2aWE6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC8xNTc5NjcxXG4gICAgICAgIHZhciBsYXN0VGltZSA9IDA7XG5cbiAgICAgICAgLypnbG9iYWwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOnRydWUgKi9cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XG4gICAgICAgICAgICB2YXIgaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7XG4gICAgICAgICAgICB9LCB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuLypqc2hpbnQgLVcwNzkgKi9cbnZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcbmlmICh0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLypnbG9iYWwgY2FuY2VsQW5pbWF0aW9uRnJhbWU6dHJ1ZSAqL1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSA9IHdlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vekNhbmNlbEFuaW1hdGlvbkZyYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKmdsb2JhbCBjYW5jZWxBbmltYXRpb25GcmFtZTp0cnVlICovXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gbW96Q2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbXNDYW5jZWxBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLypnbG9iYWwgY2FuY2VsQW5pbWF0aW9uRnJhbWU6dHJ1ZSAqL1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSA9IG1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qZ2xvYmFsIGNhbmNlbEFuaW1hdGlvbkZyYW1lOnRydWUgKi9cbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8vIFdlYkF1ZGlvIEFQSSByZXByZXNlbnRlclxudmFyIEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQ7XG5cbmlmICh0eXBlb2YgQXVkaW9Db250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKmdsb2JhbCBBdWRpb0NvbnRleHQ6dHJ1ZSAqL1xuICAgICAgICBBdWRpb0NvbnRleHQgPSB3ZWJraXRBdWRpb0NvbnRleHQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBtb3pBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8qZ2xvYmFsIEF1ZGlvQ29udGV4dDp0cnVlICovXG4gICAgICAgIEF1ZGlvQ29udGV4dCA9IG1vekF1ZGlvQ29udGV4dDtcbiAgICB9XG59XG5cbi8qanNoaW50IC1XMDc5ICovXG52YXIgVVJMID0gd2luZG93LlVSTDtcblxuaWYgKHR5cGVvZiBVUkwgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3ZWJraXRVUkwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLypnbG9iYWwgVVJMOnRydWUgKi9cbiAgICBVUkwgPSB3ZWJraXRVUkw7XG59XG5cbmlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9PT0gJ3VuZGVmaW5lZCcpIHsgLy8gbWF5YmUgd2luZG93Lm5hdmlnYXRvcj9cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWE7XG4gICAgfVxufVxuXG52YXIgaXNFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdFZGdlJykgIT09IC0xICYmICghIW5hdmlnYXRvci5tc1NhdmVCbG9iIHx8ICEhbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpO1xudmFyIGlzT3BlcmEgPSAhIXdpbmRvdy5vcGVyYSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ09QUi8nKSAhPT0gLTE7XG52YXIgaXNDaHJvbWUgPSAhaXNPcGVyYSAmJiAhaXNFZGdlICYmICEhbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYTtcblxudmFyIE1lZGlhU3RyZWFtID0gd2luZG93Lk1lZGlhU3RyZWFtO1xuXG5pZiAodHlwZW9mIE1lZGlhU3RyZWFtID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2Via2l0TWVkaWFTdHJlYW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWVkaWFTdHJlYW0gPSB3ZWJraXRNZWRpYVN0cmVhbTtcbn1cblxuLypnbG9iYWwgTWVkaWFTdHJlYW06dHJ1ZSAqL1xuaWYgKHR5cGVvZiBNZWRpYVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoISgnZ2V0VmlkZW9UcmFja3MnIGluIE1lZGlhU3RyZWFtLnByb3RvdHlwZSkpIHtcbiAgICAgICAgTWVkaWFTdHJlYW0ucHJvdG90eXBlLmdldFZpZGVvVHJhY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0VHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHJhY2tzID0gW107XG4gICAgICAgICAgICB0aGlzLmdldFRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrLmtpbmQudG9TdHJpbmcoKS5pbmRleE9mKCd2aWRlbycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja3MucHVzaCh0cmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2tzO1xuICAgICAgICB9O1xuXG4gICAgICAgIE1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdldFRyYWNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyYWNrcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5nZXRUcmFja3MuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFjay5raW5kLnRvU3RyaW5nKCkuaW5kZXhPZignYXVkaW8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBvdmVycmlkZSBcInN0b3BcIiBtZXRob2QgZm9yIGFsbCBicm93c2Vyc1xuICAgIE1lZGlhU3RyZWFtLnByb3RvdHlwZS5fX3N0b3AgPSBNZWRpYVN0cmVhbS5wcm90b3R5cGUuc3RvcDtcbiAgICBNZWRpYVN0cmVhbS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgaWYgKCEhdHJhY2suc3RvcCkge1xuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgIGlmICghIXRyYWNrLnN0b3ApIHtcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fX3N0b3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX19zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyBiZWxvdyBmdW5jdGlvbiB2aWE6IGh0dHA6Ly9nb28uZ2wvQjNhZThjXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBieXRlcyAtIFBhc3MgYnl0ZXMgYW5kIGdldCBmb3JtYWZ0ZWQgc3RyaW5nLlxuICogQHJldHVybnMge3N0cmluZ30gLSBmb3JtYWZ0ZWQgc3RyaW5nXG4gKiBAZXhhbXBsZVxuICogYnl0ZXNUb1NpemUoMTAyNCoxMDI0KjUpID09PSAnNSBHQidcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqL1xuZnVuY3Rpb24gYnl0ZXNUb1NpemUoYnl0ZXMpIHtcbiAgICB2YXIgayA9IDEwMDA7XG4gICAgdmFyIHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQicsICdUQiddO1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIH1cbiAgICB2YXIgaSA9IHBhcnNlSW50KE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpLCAxMCk7XG4gICAgcmV0dXJuIChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b1ByZWNpc2lvbigzKSArICcgJyArIHNpemVzW2ldO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QmxvYn0gZmlsZSAtIEZpbGUgb3IgQmxvYiBvYmplY3QuIFRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVOYW1lIC0gT3B0aW9uYWwgZmlsZSBuYW1lIGUuZy4gXCJSZWNvcmRlZC1WaWRlby53ZWJtXCJcbiAqIEBleGFtcGxlXG4gKiBpbnZva2VTYXZlQXNEaWFsb2coYmxvYiBvciBmaWxlLCBbb3B0aW9uYWxdIGZpbGVOYW1lKTtcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqL1xuZnVuY3Rpb24gaW52b2tlU2F2ZUFzRGlhbG9nKGZpbGUsIGZpbGVOYW1lKSB7XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICAgIHRocm93ICdCbG9iIG9iamVjdCBpcyByZXF1aXJlZC4nO1xuICAgIH1cblxuICAgIGlmICghZmlsZS50eXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmaWxlLnR5cGUgPSAndmlkZW8vd2VibSc7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgdmFyIGZpbGVFeHRlbnNpb24gPSAoZmlsZS50eXBlIHx8ICd2aWRlby93ZWJtJykuc3BsaXQoJy8nKVsxXTtcblxuICAgIGlmIChmaWxlTmFtZSAmJiBmaWxlTmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgIHZhciBzcGxpdHRlZCA9IGZpbGVOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIGZpbGVOYW1lID0gc3BsaXR0ZWRbMF07XG4gICAgICAgIGZpbGVFeHRlbnNpb24gPSBzcGxpdHRlZFsxXTtcbiAgICB9XG5cbiAgICB2YXIgZmlsZUZ1bGxOYW1lID0gKGZpbGVOYW1lIHx8IChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5OTk5OTk5OTk5KSArIDg4ODg4ODg4OCkpICsgJy4nICsgZmlsZUV4dGVuc2lvbjtcblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihmaWxlLCBmaWxlRnVsbE5hbWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvci5tc1NhdmVCbG9iICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZUJsb2IoZmlsZSwgZmlsZUZ1bGxOYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgaHlwZXJsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGh5cGVybGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICBoeXBlcmxpbmsuZG93bmxvYWQgPSBmaWxlRnVsbE5hbWU7XG5cbiAgICBoeXBlcmxpbmsuc3R5bGUgPSAnZGlzcGxheTpub25lO29wYWNpdHk6MDtjb2xvcjp0cmFuc3BhcmVudDsnO1xuICAgIChkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoaHlwZXJsaW5rKTtcblxuICAgIGlmICh0eXBlb2YgaHlwZXJsaW5rLmNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGh5cGVybGluay5jbGljaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGh5cGVybGluay50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgaHlwZXJsaW5rLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywge1xuICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaHlwZXJsaW5rLmhyZWYpO1xufVxuXG4vLyBfX19fX19fX19fICh1c2VkIHRvIGhhbmRsZSBzdHVmZiBsaWtlIGh0dHA6Ly9nb28uZ2wveG1FNWVnKSBpc3N1ZSAjMTI5XG4vLyBTdG9yYWdlLmpzXG5cbi8qKlxuICogU3RvcmFnZSBpcyBhIHN0YW5kYWxvbmUgb2JqZWN0IHVzZWQgYnkge0BsaW5rIFJlY29yZFJUQ30gdG8gc3RvcmUgcmV1c2FibGUgb2JqZWN0cyBlLmcuIFwibmV3IEF1ZGlvQ29udGV4dFwiLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQGV4YW1wbGVcbiAqIFN0b3JhZ2UuQXVkaW9Db250ZXh0ID09PSB3ZWJraXRBdWRpb0NvbnRleHRcbiAqIEBwcm9wZXJ0eSB7d2Via2l0QXVkaW9Db250ZXh0fSBBdWRpb0NvbnRleHQgLSBLZWVwcyBhIHJlZmVyZW5jZSB0byBBdWRpb0NvbnRleHQgb2JqZWN0LlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEN8UmVjb3JkUlRDIFNvdXJjZSBDb2RlfVxuICovXG5cbnZhciBTdG9yYWdlID0ge307XG5cbmlmICh0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIFN0b3JhZ2UuQXVkaW9Db250ZXh0ID0gQXVkaW9Db250ZXh0O1xufSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIFN0b3JhZ2UuQXVkaW9Db250ZXh0ID0gd2Via2l0QXVkaW9Db250ZXh0O1xufVxuXG5pZiAodHlwZW9mIFJlY29yZFJUQyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBSZWNvcmRSVEMuU3RvcmFnZSA9IFN0b3JhZ2U7XG59XG5cbmZ1bmN0aW9uIGlzTWVkaWFSZWNvcmRlckNvbXBhdGlibGUoKSB7XG4gICAgdmFyIGlzT3BlcmEgPSAhIXdpbmRvdy5vcGVyYSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJyBPUFIvJykgPj0gMDtcbiAgICB2YXIgaXNDaHJvbWUgPSAhIXdpbmRvdy5jaHJvbWUgJiYgIWlzT3BlcmE7XG4gICAgdmFyIGlzRmlyZWZveCA9IHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgaWYgKGlzRmlyZWZveCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgblZlciA9IG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIHZhciBuQWd0ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB2YXIgZnVsbFZlcnNpb24gPSAnJyArIHBhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pO1xuICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApO1xuICAgIHZhciBuYW1lT2Zmc2V0LCB2ZXJPZmZzZXQsIGl4O1xuXG4gICAgaWYgKGlzQ2hyb21lIHx8IGlzT3BlcmEpIHtcbiAgICAgICAgdmVyT2Zmc2V0ID0gbkFndC5pbmRleE9mKCdDaHJvbWUnKTtcbiAgICAgICAgZnVsbFZlcnNpb24gPSBuQWd0LnN1YnN0cmluZyh2ZXJPZmZzZXQgKyA3KTtcbiAgICB9XG5cbiAgICAvLyB0cmltIHRoZSBmdWxsVmVyc2lvbiBzdHJpbmcgYXQgc2VtaWNvbG9uL3NwYWNlIGlmIHByZXNlbnRcbiAgICBpZiAoKGl4ID0gZnVsbFZlcnNpb24uaW5kZXhPZignOycpKSAhPT0gLTEpIHtcbiAgICAgICAgZnVsbFZlcnNpb24gPSBmdWxsVmVyc2lvbi5zdWJzdHJpbmcoMCwgaXgpO1xuICAgIH1cblxuICAgIGlmICgoaXggPSBmdWxsVmVyc2lvbi5pbmRleE9mKCcgJykpICE9PSAtMSkge1xuICAgICAgICBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uLnN1YnN0cmluZygwLCBpeCk7XG4gICAgfVxuXG4gICAgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQoJycgKyBmdWxsVmVyc2lvbiwgMTApO1xuXG4gICAgaWYgKGlzTmFOKG1ham9yVmVyc2lvbikpIHtcbiAgICAgICAgZnVsbFZlcnNpb24gPSAnJyArIHBhcnNlRmxvYXQobmF2aWdhdG9yLmFwcFZlcnNpb24pO1xuICAgICAgICBtYWpvclZlcnNpb24gPSBwYXJzZUludChuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiBtYWpvclZlcnNpb24gPj0gNDk7XG59XG5cbi8vIF9fX19fX19fX19fX19fX19fX19fX19cbi8vIE1lZGlhU3RyZWFtUmVjb3JkZXIuanNcblxuLyoqXG4gKiBNZWRpYVN0cmVhbVJlY29yZGVyIGlzIGFuIGFic3RyYWN0aW9uIGxheWVyIGZvciB7QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL21lZGlhY2FwdHVyZS1yZWNvcmQvTWVkaWFSZWNvcmRlci5odG1sfE1lZGlhUmVjb3JkZXIgQVBJfS4gSXQgaXMgdXNlZCBieSB7QGxpbmsgUmVjb3JkUlRDfSB0byByZWNvcmQgTWVkaWFTdHJlYW0ocykgaW4gYm90aCBDaHJvbWUgYW5kIEZpcmVmb3guXG4gKiBAc3VtbWFyeSBSdW5zIHRvcCBvdmVyIHtAbGluayBodHRwczovL3czYy5naXRodWIuaW8vbWVkaWFjYXB0dXJlLXJlY29yZC9NZWRpYVJlY29yZGVyLmh0bWx8TWVkaWFSZWNvcmRlciBBUEl9LlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbnxNdWF6IEtoYW59XG4gKiBAdHlwZWRlZiBNZWRpYVN0cmVhbVJlY29yZGVyXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgY29uZmlnID0ge1xuICogICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibScsIC8vIHZwOCwgdnA5LCBoMjY0LCBta3YsIG9wdXMvdm9yYmlzXG4gKiAgICAgYXVkaW9CaXRzUGVyU2Vjb25kIDogMjU2ICogOCAqIDEwMjQsXG4gKiAgICAgdmlkZW9CaXRzUGVyU2Vjb25kIDogMjU2ICogOCAqIDEwMjQsXG4gKiAgICAgYml0c1BlclNlY29uZDogMjU2ICogOCAqIDEwMjQsICAvLyBpZiB0aGlzIGlzIHByb3ZpZGVkLCBza2lwIGFib3ZlIHR3b1xuICogICAgIGNoZWNrRm9ySW5hY3RpdmVUcmFja3M6IHRydWUsXG4gKiAgICAgdGltZVNsaWNlOiAxMDAwLCAvLyBjb25jYXRlbmF0ZSBpbnRlcnZhbHMgYmFzZWQgYmxvYnNcbiAqICAgICBpZ25vcmVNdXRlZE1lZGlhOiB0cnVlXG4gKiB9XG4gKiB2YXIgcmVjb3JkZXIgPSBuZXcgTWVkaWFTdHJlYW1SZWNvcmRlcihtZWRpYVN0cmVhbSwgY29uZmlnKTtcbiAqIHJlY29yZGVyLnJlY29yZCgpO1xuICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbihibG9iKSB7XG4gKiAgICAgdmlkZW8uc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAqXG4gKiAgICAgLy8gb3JcbiAqICAgICB2YXIgYmxvYiA9IHJlY29yZGVyLmJsb2I7XG4gKiB9KTtcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IG1lZGlhU3RyZWFtIC0gTWVkaWFTdHJlYW0gb2JqZWN0IGZldGNoZWQgdXNpbmcgZ2V0VXNlck1lZGlhIEFQSSBvciBnZW5lcmF0ZWQgdXNpbmcgY2FwdHVyZVN0cmVhbVVudGlsRW5kZWQgb3IgV2ViQXVkaW8gQVBJLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIHtkaXNhYmxlTG9nczp0cnVlLCBpbml0Q2FsbGJhY2s6IGZ1bmN0aW9uLCBtaW1lVHlwZTogXCJ2aWRlby93ZWJtXCIsIHRpbWVTbGljZTogMTAwMH1cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiBmaXJzdCBhcmd1bWVudCBcIk1lZGlhU3RyZWFtXCIgaXMgbWlzc2luZy4gQWxzbyB0aHJvd3MgZXJyb3IgaWYgXCJNZWRpYVJlY29yZGVyIEFQSVwiIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLlxuICovXG5cbmZ1bmN0aW9uIE1lZGlhU3RyZWFtUmVjb3JkZXIobWVkaWFTdHJlYW0sIGNvbmZpZykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICh0eXBlb2YgbWVkaWFTdHJlYW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93ICdGaXJzdCBhcmd1bWVudCBcIk1lZGlhU3RyZWFtXCIgaXMgcmVxdWlyZWQuJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIE1lZGlhUmVjb3JkZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93ICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydHMgTWVkaWEgUmVjb3JkZXIgQVBJLiBQbGVhc2UgdHJ5IG90aGVyIG1vZHVsZXMgZS5nLiBXaGFtbXlSZWNvcmRlciBvciBTdGVyZW9BdWRpb1JlY29yZGVyLic7XG4gICAgfVxuXG4gICAgY29uZmlnID0gY29uZmlnIHx8IHtcbiAgICAgICAgLy8gYml0c1BlclNlY29uZDogMjU2ICogOCAqIDEwMjQsXG4gICAgICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibSdcbiAgICB9O1xuXG4gICAgaWYgKGNvbmZpZy50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgIGlmIChtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCAmJiBtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHN0cmVhbTtcbiAgICAgICAgICAgIGlmICghIW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uYWRkVHJhY2sobWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlYmtpdE1lZGlhU3RyZWFtXG4gICAgICAgICAgICAgICAgc3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVkaWFTdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy5taW1lVHlwZSB8fCBjb25maWcubWltZVR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2F1ZGlvJykgPT09IC0xKSB7XG4gICAgICAgICAgICBjb25maWcubWltZVR5cGUgPSBpc0Nocm9tZSA/ICdhdWRpby93ZWJtJyA6ICdhdWRpby9vZ2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5taW1lVHlwZSAmJiBjb25maWcubWltZVR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICE9PSAnYXVkaW8vb2dnJyAmJiAhIW5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICAgIC8vIGZvcmNpbmcgYmV0dGVyIGNvZGVjcyBvbiBGaXJlZm94ICh2aWEgIzE2NilcbiAgICAgICAgICAgIGNvbmZpZy5taW1lVHlwZSA9ICdhdWRpby9vZ2cnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFycmF5T2ZCbG9icyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhcnJheSBvZiBibG9icy4gVXNlIG9ubHkgd2l0aCBcInRpbWVTbGljZVwiLiBJdHMgdXNlZnVsIHRvIHByZXZpZXcgcmVjb3JkaW5nIGFueXRpbWUsIHdpdGhvdXQgdXNpbmcgdGhlIFwic3RvcFwiIG1ldGhvZC5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBhcnJheU9mQmxvYnMgPSByZWNvcmRlci5nZXRBcnJheU9mQmxvYnMoKTtcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYXJyYXkgb2YgcmVjb3JkZWQgYmxvYnMuXG4gICAgICovXG4gICAgdGhpcy5nZXRBcnJheU9mQmxvYnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZCbG9icztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVjb3JkcyBNZWRpYVN0cmVhbS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnJlY29yZCgpO1xuICAgICAqL1xuICAgIHRoaXMucmVjb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHNldCBkZWZhdWx0c1xuICAgICAgICBzZWxmLmJsb2IgPSBudWxsO1xuICAgICAgICBzZWxmLmNsZWFyUmVjb3JkZWREYXRhKCk7XG4gICAgICAgIHNlbGYudGltZXN0YW1wcyA9IFtdO1xuICAgICAgICBhbGxTdGF0ZXMgPSBbXTtcbiAgICAgICAgYXJyYXlPZkJsb2JzID0gW107XG5cbiAgICAgICAgdmFyIHJlY29yZGVySGludHMgPSBjb25maWc7XG5cbiAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXNzaW5nIGZvbGxvd2luZyBjb25maWcgb3ZlciBNZWRpYVJlY29yZGVyIEFQSS4nLCByZWNvcmRlckhpbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICAvLyBtYW5kYXRvcnkgdG8gbWFrZSBzdXJlIEZpcmVmb3ggZG9lc24ndCBmYWlscyB0byByZWNvcmQgc3RyZWFtcyAzLTQgdGltZXMgd2l0aG91dCByZWxvYWRpbmcgdGhlIHBhZ2UuXG4gICAgICAgICAgICBtZWRpYVJlY29yZGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Nocm9tZSAmJiAhaXNNZWRpYVJlY29yZGVyQ29tcGF0aWJsZSgpKSB7XG4gICAgICAgICAgICAvLyB0byBzdXBwb3J0IHZpZGVvLW9ubHkgcmVjb3JkaW5nIG9uIHN0YWJsZVxuICAgICAgICAgICAgcmVjb3JkZXJIaW50cyA9ICd2aWRlby92cDgnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBNZWRpYVJlY29yZGVyLmlzVHlwZVN1cHBvcnRlZCA9PT0gJ2Z1bmN0aW9uJyAmJiByZWNvcmRlckhpbnRzLm1pbWVUeXBlKSB7XG4gICAgICAgICAgICBpZiAoIU1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKHJlY29yZGVySGludHMubWltZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNZWRpYVJlY29yZGVyIEFQSSBzZWVtcyB1bmFibGUgdG8gcmVjb3JkIG1pbWVUeXBlOicsIHJlY29yZGVySGludHMubWltZVR5cGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY29yZGVySGludHMubWltZVR5cGUgPSBjb25maWcudHlwZSA9PT0gJ2F1ZGlvJyA/ICdhdWRpby93ZWJtJyA6ICd2aWRlby93ZWJtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzaW5nIE1lZGlhUmVjb3JkZXIgQVBJIGhlcmVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihtZWRpYVN0cmVhbSwgcmVjb3JkZXJIaW50cyk7XG5cbiAgICAgICAgICAgIC8vIHJlc2V0XG4gICAgICAgICAgICBjb25maWcubWltZVR5cGUgPSByZWNvcmRlckhpbnRzLm1pbWVUeXBlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBjaHJvbWUtYmFzZWQgZmFsbGJhY2tcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihtZWRpYVN0cmVhbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbGQgaGFjaz9cbiAgICAgICAgaWYgKHJlY29yZGVySGludHMubWltZVR5cGUgJiYgIU1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkICYmICdjYW5SZWNvcmRNaW1lVHlwZScgaW4gbWVkaWFSZWNvcmRlciAmJiBtZWRpYVJlY29yZGVyLmNhblJlY29yZE1pbWVUeXBlKHJlY29yZGVySGludHMubWltZVR5cGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01lZGlhUmVjb3JkZXIgQVBJIHNlZW1zIHVuYWJsZSB0byByZWNvcmQgbWltZVR5cGU6JywgcmVjb3JkZXJIaW50cy5taW1lVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZ25vcmUgbXV0ZWQvZGlzYWJsZWQvaW5hY3RpdmUgdHJhY2tzXG4gICAgICAgIG1lZGlhUmVjb3JkZXIuaWdub3JlTXV0ZWRNZWRpYSA9IGNvbmZpZy5pZ25vcmVNdXRlZE1lZGlhID09PSB0cnVlO1xuXG4gICAgICAgIC8vIERpc3BhdGNoaW5nIE9uRGF0YUF2YWlsYWJsZSBIYW5kbGVyXG4gICAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUuZGF0YSkge1xuICAgICAgICAgICAgICAgIGFsbFN0YXRlcy5wdXNoKCdvbmRhdGFhdmFpbGFibGU6ICcgKyBieXRlc1RvU2l6ZShlLmRhdGEuc2l6ZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy50aW1lU2xpY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YSAmJiBlLmRhdGEuc2l6ZSAmJiBlLmRhdGEuc2l6ZSA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBhcnJheU9mQmxvYnMucHVzaChlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUaW1lU3RhbXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWUuZGF0YSB8fCAhZS5kYXRhLnNpemUgfHwgZS5kYXRhLnNpemUgPCAxMDAgfHwgc2VsZi5ibG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgc3RvcFJlY29yZGluZyBhbHdheXMgZ2V0dGluZyBmaXJlZFxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgdGhlcmUgaXMgaW52YWxpZCBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYucmVjb3JkaW5nQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRpbmdDYWxsYmFjayhuZXcgQmxvYihbXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbWVkaWFSZWNvcmRlci5taW1lVHlwZSB8fCByZWNvcmRlckhpbnRzLm1pbWVUeXBlIHx8ICd2aWRlby93ZWJtJ1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb3JkaW5nQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuYmxvYiA9IGNvbmZpZy5nZXROYXRpdmVCbG9iID8gZS5kYXRhIDogbmV3IEJsb2IoW2UuZGF0YV0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBtZWRpYVJlY29yZGVyLm1pbWVUeXBlIHx8IHJlY29yZGVySGludHMubWltZVR5cGUgfHwgJ3ZpZGVvL3dlYm0nXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHNlbGYucmVjb3JkaW5nQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlY29yZGluZ0NhbGxiYWNrKHNlbGYuYmxvYik7XG4gICAgICAgICAgICAgICAgc2VsZi5yZWNvcmRpbmdDYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbWVkaWFSZWNvcmRlci5vbnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbGxTdGF0ZXMucHVzaCgnc3RhcnRlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lZGlhUmVjb3JkZXIub25wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYWxsU3RhdGVzLnB1c2goJ3BhdXNlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lZGlhUmVjb3JkZXIub25yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsbFN0YXRlcy5wdXNoKCdyZXN1bWVkJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbWVkaWFSZWNvcmRlci5vbnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsbFN0YXRlcy5wdXNoKCdzdG9wcGVkJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbWVkaWFSZWNvcmRlci5vbmVycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIGFsbFN0YXRlcy5wdXNoKCdlcnJvcjogJyArIGVycm9yKTtcblxuICAgICAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyB2aWE6IGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9tZWRpYWNhcHR1cmUtcmVjb3JkL01lZGlhUmVjb3JkZXIuaHRtbCNleGNlcHRpb24tc3VtbWFyeVxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdpbnZhbGlkc3RhdGUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlIE1lZGlhUmVjb3JkZXIgaXMgbm90IGluIGEgc3RhdGUgaW4gd2hpY2ggdGhlIHByb3Bvc2VkIG9wZXJhdGlvbiBpcyBhbGxvd2VkIHRvIGJlIGV4ZWN1dGVkLicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ25vdHN1cHBvcnRlZCcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNSU1FIHR5cGUgKCcsIHJlY29yZGVySGludHMubWltZVR5cGUsICcpIGlzIG5vdCBzdXBwb3J0ZWQuJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignc2VjdXJpdHknKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWVkaWFSZWNvcmRlciBzZWN1cml0eSBlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBvbGRlciBjb2RlIGJlbG93XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ091dE9mTWVtb3J5Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGUgVUEgaGFzIGV4aGF1c2VkIHRoZSBhdmFpbGFibGUgbWVtb3J5LiBVc2VyIGFnZW50cyBTSE9VTEQgcHJvdmlkZSBhcyBtdWNoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYXMgcG9zc2libGUgaW4gdGhlIG1lc3NhZ2UgYXR0cmlidXRlLicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdJbGxlZ2FsU3RyZWFtTW9kaWZpY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBIG1vZGlmaWNhdGlvbiB0byB0aGUgc3RyZWFtIGhhcyBvY2N1cnJlZCB0aGF0IG1ha2VzIGl0IGltcG9zc2libGUgdG8gY29udGludWUgcmVjb3JkaW5nLiBBbiBleGFtcGxlIHdvdWxkIGJlIHRoZSBhZGRpdGlvbiBvZiBhIFRyYWNrIHdoaWxlIHJlY29yZGluZyBpcyBvY2N1cnJpbmcuIFVzZXIgYWdlbnRzIFNIT1VMRCBwcm92aWRlIGFzIG11Y2ggYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhcyBwb3NzaWJsZSBpbiB0aGUgbWVzc2FnZSBhdHRyaWJ1dGUuJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ090aGVyUmVjb3JkaW5nRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZWQgZm9yIGFuIGZhdGFsIGVycm9yIG90aGVyIHRoYW4gdGhvc2UgbGlzdGVkIGFib3ZlLiBVc2VyIGFnZW50cyBTSE9VTEQgcHJvdmlkZSBhcyBtdWNoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYXMgcG9zc2libGUgaW4gdGhlIG1lc3NhZ2UgYXR0cmlidXRlLicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdHZW5lcmljRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBVQSBjYW5ub3QgcHJvdmlkZSB0aGUgY29kZWMgb3IgcmVjb3JkaW5nIG9wdGlvbiB0aGF0IGhhcyBiZWVuIHJlcXVlc3RlZC4nLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWVkaWFSZWNvcmRlciBFcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIChmdW5jdGlvbihsb29wZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYubWFudWFsbHlTdG9wcGVkICYmIG1lZGlhUmVjb3JkZXIgJiYgbWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ2luYWN0aXZlJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlnLnRpbWVzbGljZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAxMCBtaW51dGVzLCBlbm91Z2g/XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoMTAgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wZXIsIDEwMDApO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICAgICAgaWYgKG1lZGlhUmVjb3JkZXIuc3RhdGUgIT09ICdpbmFjdGl2ZScgJiYgbWVkaWFSZWNvcmRlci5zdGF0ZSAhPT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcudGltZVNsaWNlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdXBkYXRlVGltZVN0YW1wKCk7XG4gICAgICAgICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KGNvbmZpZy50aW1lU2xpY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCBpcyA2MCBtaW51dGVzOyBlbm91Z2g/XG4gICAgICAgICAgICAvLyB1c2UgY29uZmlnID0+IHt0aW1lU2xpY2U6IDEwMDB9IG90aGVyd2lzZVxuXG4gICAgICAgICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KDMuNmUrNik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgY29uZmlnLmluaXRDYWxsYmFjaygpOyAvLyBvbGQgY29kZVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHRpbWVzdGFtcHMgLSBBcnJheSBvZiB0aW1lIHN0YW1wc1xuICAgICAqIEBtZW1iZXJvZiBNZWRpYVN0cmVhbVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zb2xlLmxvZyhyZWNvcmRlci50aW1lc3RhbXBzKTtcbiAgICAgKi9cbiAgICB0aGlzLnRpbWVzdGFtcHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWVTdGFtcCgpIHtcbiAgICAgICAgc2VsZi50aW1lc3RhbXBzLnB1c2gobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVGltZVN0YW1wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25maWcub25UaW1lU3RhbXAoc2VsZi50aW1lc3RhbXBzW3NlbGYudGltZXN0YW1wcy5sZW5ndGggLSAxXSwgc2VsZi50aW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHJlY29yZGluZyBNZWRpYVN0cmVhbS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uLCB0aGF0IGlzIHVzZWQgdG8gcGFzcyByZWNvcmRlZCBibG9iIGJhY2sgdG8gdGhlIGNhbGxlZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICAgICAqICAgICB2aWRlby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHNlbGYubWFudWFsbHlTdG9wcGVkID0gdHJ1ZTsgLy8gdXNlZCBpbnNpZGUgdGhlIG1lZGlhUmVjb3JkZXIub25lcnJvclxuXG4gICAgICAgIGlmICghbWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvcmRpbmdDYWxsYmFjayA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGJsb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChtZWRpYVJlY29yZGVyLnN0YXRlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy50aW1lU2xpY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYmxvYiA9IG5ldyBCbG9iKGFycmF5T2ZCbG9icywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtZWRpYVJlY29yZGVyLm1pbWVUeXBlIHx8IGNvbmZpZy5taW1lVHlwZSB8fCAndmlkZW8vd2VibSdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGYucmVjb3JkaW5nQ2FsbGJhY2soc2VsZi5ibG9iKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnBhdXNlKCk7XG4gICAgICovXG4gICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZWRpYVJlY29yZGVyLnN0YXRlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlc3VtZXMgdGhlIHJlY29yZGluZyBwcm9jZXNzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTWVkaWFTdHJlYW1SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVzdW1lKCk7XG4gICAgICovXG4gICAgdGhpcy5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVzZXRzIGN1cnJlbnRseSByZWNvcmRlZCBkYXRhLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTWVkaWFTdHJlYW1SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyUmVjb3JkZWREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGFycmF5T2ZCbG9icyA9IFtdO1xuICAgICAgICBtZWRpYVJlY29yZGVyID0gbnVsbDtcbiAgICAgICAgc2VsZi50aW1lc3RhbXBzID0gW107XG4gICAgfTtcblxuICAgIC8vIFJlZmVyZW5jZSB0byBcIk1lZGlhUmVjb3JkZXJcIiBvYmplY3RcbiAgICB2YXIgbWVkaWFSZWNvcmRlcjtcblxuICAgIC8qKlxuICAgICAqIEFjY2VzcyB0byBuYXRpdmUgTWVkaWFSZWNvcmRlciBBUElcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBpbnRlcm5hbCA9IHJlY29yZGVyLmdldEludGVybmFsUmVjb3JkZXIoKTtcbiAgICAgKiBpbnRlcm5hbC5vbmRhdGFhdmFpbGFibGUgPSBmdW5jdGlvbigpIHt9OyAvLyBvdmVycmlkZVxuICAgICAqIGludGVybmFsLnN0cmVhbSwgaW50ZXJuYWwub25wYXVzZSwgaW50ZXJuYWwub25zdG9wLCBldGMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBpbnRlcm5hbCByZWNvcmRpbmcgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMuZ2V0SW50ZXJuYWxSZWNvcmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbWVkaWFSZWNvcmRlcjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNNZWRpYVN0cmVhbUFjdGl2ZSgpIHtcbiAgICAgICAgaWYgKCdhY3RpdmUnIGluIG1lZGlhU3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhU3RyZWFtLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgnZW5kZWQnIGluIG1lZGlhU3RyZWFtKSB7IC8vIG9sZCBoYWNrXG4gICAgICAgICAgICBpZiAobWVkaWFTdHJlYW0uZW5kZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtCbG9ifSBibG9iIC0gUmVjb3JkZWQgZGF0YSBhcyBcIkJsb2JcIiBvYmplY3QuXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oKSB7XG4gICAgICogICAgIHZhciBibG9iID0gcmVjb3JkZXIuYmxvYjtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0aGlzLmJsb2IgPSBudWxsO1xuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgTWVkaWFSZWNvcmRlciByZWFkb25seSBzdGF0ZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE1lZGlhU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBzdGF0ZSA9IHJlY29yZGVyLmdldFN0YXRlKCk7XG4gICAgICogQHJldHVybnMge1N0cmluZ30gUmV0dXJucyByZWNvcmRpbmcgc3RhdGUuXG4gICAgICovXG4gICAgdGhpcy5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIW1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAnaW5hY3RpdmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lZGlhUmVjb3JkZXIuc3RhdGUgfHwgJ2luYWN0aXZlJztcbiAgICB9O1xuXG4gICAgLy8gbGlzdCBvZiBhbGwgcmVjb3JkaW5nIHN0YXRlc1xuICAgIHZhciBhbGxTdGF0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEdldCBNZWRpYVJlY29yZGVyIGFsbCByZWNvcmRpbmcgc3RhdGVzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTWVkaWFTdHJlYW1SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHN0YXRlID0gcmVjb3JkZXIuZ2V0QWxsU3RhdGVzKCk7XG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFsbCByZWNvcmRpbmcgc3RhdGVzXG4gICAgICovXG4gICAgdGhpcy5nZXRBbGxTdGF0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFsbFN0YXRlcztcbiAgICB9O1xuXG4gICAgLy8gaWYgYW55IFRyYWNrIHdpdGhpbiB0aGUgTWVkaWFTdHJlYW0gaXMgbXV0ZWQgb3Igbm90IGVuYWJsZWQgYXQgYW55IHRpbWUsIFxuICAgIC8vIHRoZSBicm93c2VyIHdpbGwgb25seSByZWNvcmQgYmxhY2sgZnJhbWVzIFxuICAgIC8vIG9yIHNpbGVuY2Ugc2luY2UgdGhhdCBpcyB0aGUgY29udGVudCBwcm9kdWNlZCBieSB0aGUgVHJhY2tcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHN0b3BSZWNvcmRpbmcgYXMgc29vbiBhcyBhbnkgc2luZ2xlIHRyYWNrIGVuZHMuXG4gICAgaWYgKHR5cGVvZiBjb25maWcuY2hlY2tGb3JJbmFjdGl2ZVRyYWNrcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uZmlnLmNoZWNrRm9ySW5hY3RpdmVUcmFja3MgPSBmYWxzZTsgLy8gZGlzYWJsZSB0byBtaW5pbWl6ZSBDUFUgdXNhZ2VcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgbWVkaWEgc3RyZWFtIGlzIHN0b3BwZWRcbiAgICAvLyBvciBpZiBhbnkgdHJhY2sgaXMgZW5kZWQuXG4gICAgKGZ1bmN0aW9uIGxvb3BlcigpIHtcbiAgICAgICAgaWYgKCFtZWRpYVJlY29yZGVyIHx8IGNvbmZpZy5jaGVja0ZvckluYWN0aXZlVHJhY2tzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWVkaWFTdHJlYW1BY3RpdmUoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01lZGlhU3RyZWFtIHNlZW1zIHN0b3BwZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQobG9vcGVyLCAxMDAwKTsgLy8gY2hlY2sgZXZlcnkgc2Vjb25kXG4gICAgfSkoKTtcblxuICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICB0aGlzLm5hbWUgPSAnTWVkaWFTdHJlYW1SZWNvcmRlcic7XG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH07XG59XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5NZWRpYVN0cmVhbVJlY29yZGVyID0gTWVkaWFTdHJlYW1SZWNvcmRlcjtcbn1cblxuLy8gc291cmNlIGNvZGUgZnJvbTogaHR0cDovL3R5cGVkYXJyYXkub3JnL3dwLWNvbnRlbnQvcHJvamVjdHMvV2ViQXVkaW9SZWNvcmRlci9zY3JpcHQuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGlhbW9uZC9SZWNvcmRlcmpzI2xpY2Vuc2UtbWl0XG4vLyBfX19fX19fX19fX19fX19fX19fX19fXG4vLyBTdGVyZW9BdWRpb1JlY29yZGVyLmpzXG5cbi8qKlxuICogU3RlcmVvQXVkaW9SZWNvcmRlciBpcyBhIHN0YW5kYWxvbmUgY2xhc3MgdXNlZCBieSB7QGxpbmsgUmVjb3JkUlRDfSB0byBicmluZyBcInN0ZXJlb1wiIGF1ZGlvLXJlY29yZGluZyBpbiBjaHJvbWUuXG4gKiBAc3VtbWFyeSBKYXZhU2NyaXB0IHN0YW5kYWxvbmUgb2JqZWN0IGZvciBzdGVyZW8gYXVkaW8gcmVjb3JkaW5nLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgU3RlcmVvQXVkaW9SZWNvcmRlclxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIHJlY29yZGVyID0gbmV3IFN0ZXJlb0F1ZGlvUmVjb3JkZXIoTWVkaWFTdHJlYW0sIHtcbiAqICAgICBzYW1wbGVSYXRlOiA0NDEwMCxcbiAqICAgICBidWZmZXJTaXplOiA0MDk2XG4gKiB9KTtcbiAqIHJlY29yZGVyLnJlY29yZCgpO1xuICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbihibG9iKSB7XG4gKiAgICAgdmlkZW8uc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAqIH0pO1xuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEN8UmVjb3JkUlRDIFNvdXJjZSBDb2RlfVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gbWVkaWFTdHJlYW0gLSBNZWRpYVN0cmVhbSBvYmplY3QgZmV0Y2hlZCB1c2luZyBnZXRVc2VyTWVkaWEgQVBJIG9yIGdlbmVyYXRlZCB1c2luZyBjYXB0dXJlU3RyZWFtVW50aWxFbmRlZCBvciBXZWJBdWRpbyBBUEkuXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0ge3NhbXBsZVJhdGU6IDQ0MTAwLCBidWZmZXJTaXplOiA0MDk2LCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHM6IDEsIGV0Yy59XG4gKi9cblxuZnVuY3Rpb24gU3RlcmVvQXVkaW9SZWNvcmRlcihtZWRpYVN0cmVhbSwgY29uZmlnKSB7XG4gICAgaWYgKCFtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyAnWW91ciBzdHJlYW0gaGFzIG5vIGF1ZGlvIHRyYWNrcy4nO1xuICAgIH1cblxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIHZhcmlhYmxlc1xuICAgIHZhciBsZWZ0Y2hhbm5lbCA9IFtdO1xuICAgIHZhciByaWdodGNoYW5uZWwgPSBbXTtcbiAgICB2YXIgcmVjb3JkaW5nID0gZmFsc2U7XG4gICAgdmFyIHJlY29yZGluZ0xlbmd0aCA9IDA7XG4gICAgdmFyIGpzQXVkaW9Ob2RlO1xuXG4gICAgdmFyIG51bWJlck9mQXVkaW9DaGFubmVscyA9IDI7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc2FtcGxlIHJhdGVzIHN1Y2ggYXMgOEsgb3IgMTZLLiBSZWZlcmVuY2U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4OTc3MTM2LzU1MjE4MlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNpcmVkU2FtcFJhdGUgLSBEZXNpcmVkIEJpdHMgcGVyIHNhbXBsZSAqIDEwMDBcbiAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHJlY29yZGVyID0gU3RlcmVvQXVkaW9SZWNvcmRlcihtZWRpYVN0cmVhbSwge1xuICAgICAqICAgZGVzaXJlZFNhbXBSYXRlOiAxNiAqIDEwMDAgLy8gYml0cy1wZXItc2FtcGxlICogMTAwMFxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHZhciBkZXNpcmVkU2FtcFJhdGUgPSBjb25maWcuZGVzaXJlZFNhbXBSYXRlO1xuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGlmIChjb25maWcubGVmdENoYW5uZWwgPT09IHRydWUpIHtcbiAgICAgICAgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzID0gMTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLm51bWJlck9mQXVkaW9DaGFubmVscyA9PT0gMSkge1xuICAgICAgICBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMgPSAxO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGVyZW9BdWRpb1JlY29yZGVyIGlzIHNldCB0byByZWNvcmQgbnVtYmVyIG9mIGNoYW5uZWxzOiAnLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMpO1xuICAgIH1cblxuICAgIC8vIGlmIGFueSBUcmFjayB3aXRoaW4gdGhlIE1lZGlhU3RyZWFtIGlzIG11dGVkIG9yIG5vdCBlbmFibGVkIGF0IGFueSB0aW1lLCBcbiAgICAvLyB0aGUgYnJvd3NlciB3aWxsIG9ubHkgcmVjb3JkIGJsYWNrIGZyYW1lcyBcbiAgICAvLyBvciBzaWxlbmNlIHNpbmNlIHRoYXQgaXMgdGhlIGNvbnRlbnQgcHJvZHVjZWQgYnkgdGhlIFRyYWNrXG4gICAgLy8gc28gd2UgbmVlZCB0byBzdG9wUmVjb3JkaW5nIGFzIHNvb24gYXMgYW55IHNpbmdsZSB0cmFjayBlbmRzLlxuICAgIGlmICh0eXBlb2YgY29uZmlnLmNoZWNrRm9ySW5hY3RpdmVUcmFja3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbmZpZy5jaGVja0ZvckluYWN0aXZlVHJhY2tzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lZGlhU3RyZWFtQWN0aXZlKCkge1xuICAgICAgICBpZiAoY29uZmlnLmNoZWNrRm9ySW5hY3RpdmVUcmFja3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBhbHdheXMgcmV0dXJuIFwidHJ1ZVwiXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnYWN0aXZlJyBpbiBtZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKCFtZWRpYVN0cmVhbS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoJ2VuZGVkJyBpbiBtZWRpYVN0cmVhbSkgeyAvLyBvbGQgaGFja1xuICAgICAgICAgICAgaWYgKG1lZGlhU3RyZWFtLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY29yZHMgTWVkaWFTdHJlYW0uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBTdGVyZW9BdWRpb1JlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5yZWNvcmQoKTtcbiAgICAgKi9cbiAgICB0aGlzLnJlY29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaXNNZWRpYVN0cmVhbUFjdGl2ZSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgJ1BsZWFzZSBtYWtlIHN1cmUgTWVkaWFTdHJlYW0gaXMgYWN0aXZlLic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgYnVmZmVycyBmb3IgdGhlIG5ldyByZWNvcmRpbmdcbiAgICAgICAgbGVmdGNoYW5uZWwubGVuZ3RoID0gcmlnaHRjaGFubmVsLmxlbmd0aCA9IDA7XG4gICAgICAgIHJlY29yZGluZ0xlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKGF1ZGlvSW5wdXQpIHtcbiAgICAgICAgICAgIGF1ZGlvSW5wdXQuY29ubmVjdChqc0F1ZGlvTm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBwcmV2ZW50IHNlbGYgYXVkaW8gdG8gYmUgY29ubmVjdGVkIHdpdGggc3BlYWtlcnNcbiAgICAgICAgLy8ganNBdWRpb05vZGUuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuICAgICAgICBpc0F1ZGlvUHJvY2Vzc1N0YXJ0ZWQgPSBpc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICByZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBtZXJnZUxlZnRSaWdodEJ1ZmZlcnMoY29uZmlnLCBjYWxsYmFjaykge1xuICAgICAgICBmdW5jdGlvbiBtZXJnZUF1ZGlvQnVmZmVycyhjb25maWcsIGNiKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzID0gY29uZmlnLm51bWJlck9mQXVkaW9DaGFubmVscztcblxuICAgICAgICAgICAgLy8gdG9kbzogXCJzbGljZSgwKVwiIC0tLSBpcyBpdCBjYXVzZXMgbG9vcD8gU2hvdWxkIGJlIHJlbW92ZWQ/XG4gICAgICAgICAgICB2YXIgbGVmdEJ1ZmZlcnMgPSBjb25maWcubGVmdEJ1ZmZlcnMuc2xpY2UoMCk7XG4gICAgICAgICAgICB2YXIgcmlnaHRCdWZmZXJzID0gY29uZmlnLnJpZ2h0QnVmZmVycy5zbGljZSgwKTtcbiAgICAgICAgICAgIHZhciBzYW1wbGVSYXRlID0gY29uZmlnLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB2YXIgaW50ZXJuYWxJbnRlcmxlYXZlZExlbmd0aCA9IGNvbmZpZy5pbnRlcm5hbEludGVybGVhdmVkTGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGRlc2lyZWRTYW1wUmF0ZSA9IGNvbmZpZy5kZXNpcmVkU2FtcFJhdGU7XG5cbiAgICAgICAgICAgIGlmIChudW1iZXJPZkF1ZGlvQ2hhbm5lbHMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBsZWZ0QnVmZmVycyA9IG1lcmdlQnVmZmVycyhsZWZ0QnVmZmVycywgaW50ZXJuYWxJbnRlcmxlYXZlZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmlnaHRCdWZmZXJzID0gbWVyZ2VCdWZmZXJzKHJpZ2h0QnVmZmVycywgaW50ZXJuYWxJbnRlcmxlYXZlZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2lyZWRTYW1wUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0QnVmZmVycyA9IGludGVycG9sYXRlQXJyYXkobGVmdEJ1ZmZlcnMsIGRlc2lyZWRTYW1wUmF0ZSwgc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0QnVmZmVycyA9IGludGVycG9sYXRlQXJyYXkocmlnaHRCdWZmZXJzLCBkZXNpcmVkU2FtcFJhdGUsIHNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG51bWJlck9mQXVkaW9DaGFubmVscyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGxlZnRCdWZmZXJzID0gbWVyZ2VCdWZmZXJzKGxlZnRCdWZmZXJzLCBpbnRlcm5hbEludGVybGVhdmVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzaXJlZFNhbXBSYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRCdWZmZXJzID0gaW50ZXJwb2xhdGVBcnJheShsZWZ0QnVmZmVycywgZGVzaXJlZFNhbXBSYXRlLCBzYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCBzYW1wbGUgcmF0ZSBhcyBkZXNpcmVkIHNhbXBsZSByYXRlXG4gICAgICAgICAgICBpZiAoZGVzaXJlZFNhbXBSYXRlKSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlUmF0ZSA9IGRlc2lyZWRTYW1wUmF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZm9yIGNoYW5naW5nIHRoZSBzYW1wbGluZyByYXRlLCByZWZlcmVuY2U6XG4gICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yODk3NzEzNi81NTIxODJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGludGVycG9sYXRlQXJyYXkoZGF0YSwgbmV3U2FtcGxlUmF0ZSwgb2xkU2FtcGxlUmF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaXRDb3VudCA9IE1hdGgucm91bmQoZGF0YS5sZW5ndGggKiAobmV3U2FtcGxlUmF0ZSAvIG9sZFNhbXBsZVJhdGUpKTtcbiAgICAgICAgICAgICAgICAvL3ZhciBuZXdEYXRhID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAvL3ZhciBzcHJpbmdGYWN0b3IgPSBuZXcgTnVtYmVyKChkYXRhLmxlbmd0aCAtIDEpIC8gKGZpdENvdW50IC0gMSkpO1xuICAgICAgICAgICAgICAgIHZhciBzcHJpbmdGYWN0b3IgPSBOdW1iZXIoKGRhdGEubGVuZ3RoIC0gMSkgLyAoZml0Q291bnQgLSAxKSk7XG4gICAgICAgICAgICAgICAgbmV3RGF0YVswXSA9IGRhdGFbMF07IC8vIGZvciBuZXcgYWxsb2NhdGlvblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZml0Q291bnQgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IGkgKiBzcHJpbmdGYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIGJlZm9yZSA9IG5ldyBOdW1iZXIoTWF0aC5mbG9vcih0bXApKS50b0ZpeGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIGFmdGVyID0gbmV3IE51bWJlcihNYXRoLmNlaWwodG1wKSkudG9GaXhlZCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gTnVtYmVyKE1hdGguZmxvb3IodG1wKSkudG9GaXhlZCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSBOdW1iZXIoTWF0aC5jZWlsKHRtcCkpLnRvRml4ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0UG9pbnQgPSB0bXAgLSBiZWZvcmU7XG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBsaW5lYXJJbnRlcnBvbGF0ZShkYXRhW2JlZm9yZV0sIGRhdGFbYWZ0ZXJdLCBhdFBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RGF0YVtmaXRDb3VudCAtIDFdID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdOyAvLyBmb3IgbmV3IGFsbG9jYXRpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gbGluZWFySW50ZXJwb2xhdGUoYmVmb3JlLCBhZnRlciwgYXRQb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiZWZvcmUgKyAoYWZ0ZXIgLSBiZWZvcmUpICogYXRQb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gbWVyZ2VCdWZmZXJzKGNoYW5uZWxCdWZmZXIsIHJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEZsb2F0NjRBcnJheShyTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbG5nID0gY2hhbm5lbEJ1ZmZlci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxuZzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBjaGFubmVsQnVmZmVyW2ldO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaW50ZXJsZWF2ZShsZWZ0Q2hhbm5lbCwgcmlnaHRDaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGxlZnRDaGFubmVsLmxlbmd0aCArIHJpZ2h0Q2hhbm5lbC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEZsb2F0NjRBcnJheShsZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0SW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4KytdID0gbGVmdENoYW5uZWxbaW5wdXRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpbmRleCsrXSA9IHJpZ2h0Q2hhbm5lbFtpbnB1dEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiB3cml0ZVVURkJ5dGVzKHZpZXcsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxuZyA9IHN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsbmc7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCArIGksIHN0cmluZy5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGludGVybGVhdmUgYm90aCBjaGFubmVscyB0b2dldGhlclxuICAgICAgICAgICAgdmFyIGludGVybGVhdmVkO1xuXG4gICAgICAgICAgICBpZiAobnVtYmVyT2ZBdWRpb0NoYW5uZWxzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJsZWF2ZWQgPSBpbnRlcmxlYXZlKGxlZnRCdWZmZXJzLCByaWdodEJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobnVtYmVyT2ZBdWRpb0NoYW5uZWxzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJsZWF2ZWQgPSBsZWZ0QnVmZmVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGludGVybGVhdmVkTGVuZ3RoID0gaW50ZXJsZWF2ZWQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgd2F2IGZpbGVcbiAgICAgICAgICAgIHZhciByZXN1bHRpbmdCdWZmZXJMZW5ndGggPSA0NCArIGludGVybGVhdmVkTGVuZ3RoICogMjtcblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihyZXN1bHRpbmdCdWZmZXJMZW5ndGgpO1xuXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXG4gICAgICAgICAgICAvLyBSSUZGIGNodW5rIGRlc2NyaXB0b3IvaWRlbnRpZmllciBcbiAgICAgICAgICAgIHdyaXRlVVRGQnl0ZXModmlldywgMCwgJ1JJRkYnKTtcblxuICAgICAgICAgICAgLy8gUklGRiBjaHVuayBsZW5ndGhcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDQsIDQ0ICsgaW50ZXJsZWF2ZWRMZW5ndGggKiAyLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gUklGRiB0eXBlIFxuICAgICAgICAgICAgd3JpdGVVVEZCeXRlcyh2aWV3LCA4LCAnV0FWRScpO1xuXG4gICAgICAgICAgICAvLyBmb3JtYXQgY2h1bmsgaWRlbnRpZmllciBcbiAgICAgICAgICAgIC8vIEZNVCBzdWItY2h1bmtcbiAgICAgICAgICAgIHdyaXRlVVRGQnl0ZXModmlldywgMTIsICdmbXQgJyk7XG5cbiAgICAgICAgICAgIC8vIGZvcm1hdCBjaHVuayBsZW5ndGggXG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigxNiwgMTYsIHRydWUpO1xuXG4gICAgICAgICAgICAvLyBzYW1wbGUgZm9ybWF0IChyYXcpXG4gICAgICAgICAgICB2aWV3LnNldFVpbnQxNigyMCwgMSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXJlbyAoMiBjaGFubmVscylcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDE2KDIyLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMsIHRydWUpO1xuXG4gICAgICAgICAgICAvLyBzYW1wbGUgcmF0ZSBcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDI0LCBzYW1wbGVSYXRlLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gYnl0ZSByYXRlIChzYW1wbGUgcmF0ZSAqIGJsb2NrIGFsaWduKVxuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMjgsIHNhbXBsZVJhdGUgKiAyLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gYmxvY2sgYWxpZ24gKGNoYW5uZWwgY291bnQgKiBieXRlcyBwZXIgc2FtcGxlKSBcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDE2KDMyLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMgKiAyLCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gYml0cyBwZXIgc2FtcGxlIFxuICAgICAgICAgICAgdmlldy5zZXRVaW50MTYoMzQsIDE2LCB0cnVlKTtcblxuICAgICAgICAgICAgLy8gZGF0YSBzdWItY2h1bmtcbiAgICAgICAgICAgIC8vIGRhdGEgY2h1bmsgaWRlbnRpZmllciBcbiAgICAgICAgICAgIHdyaXRlVVRGQnl0ZXModmlldywgMzYsICdkYXRhJyk7XG5cbiAgICAgICAgICAgIC8vIGRhdGEgY2h1bmsgbGVuZ3RoIFxuICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoNDAsIGludGVybGVhdmVkTGVuZ3RoICogMiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIHdyaXRlIHRoZSBQQ00gc2FtcGxlc1xuICAgICAgICAgICAgdmFyIGxuZyA9IGludGVybGVhdmVkTGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gNDQ7XG4gICAgICAgICAgICB2YXIgdm9sdW1lID0gMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG5nOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2aWV3LnNldEludDE2KGluZGV4LCBpbnRlcmxlYXZlZFtpXSAqICgweDdGRkYgKiB2b2x1bWUpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2Ioe1xuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgdmlldzogdmlld1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXIsXG4gICAgICAgICAgICAgICAgdmlldzogdmlld1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQ2hyb21lKSB7XG4gICAgICAgICAgICAvLyBpdHMgTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgICAgIG1lcmdlQXVkaW9CdWZmZXJzKGNvbmZpZywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEuYnVmZmVyLCBkYXRhLnZpZXcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciB3ZWJXb3JrZXIgPSBwcm9jZXNzSW5XZWJXb3JrZXIobWVyZ2VBdWRpb0J1ZmZlcnMpO1xuXG4gICAgICAgIHdlYldvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQuZGF0YS5idWZmZXIsIGV2ZW50LmRhdGEudmlldyk7XG5cbiAgICAgICAgICAgIC8vIHJlbGVhc2UgbWVtb3J5XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdlYldvcmtlci53b3JrZXJVUkwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdlYldvcmtlci5wb3N0TWVzc2FnZShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NJbldlYldvcmtlcihfZnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW19mdW5jdGlvbi50b1N0cmluZygpLFxuICAgICAgICAgICAgJzt0aGlzLm9ubWVzc2FnZSA9ICBmdW5jdGlvbiAoZSkgeycgKyBfZnVuY3Rpb24ubmFtZSArICcoZS5kYXRhKTt9J1xuICAgICAgICBdLCB7XG4gICAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICAgIHdvcmtlci53b3JrZXJVUkwgPSB3b3JrZXJVUkw7XG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc3RvcHMgcmVjb3JkaW5nIE1lZGlhU3RyZWFtLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb24sIHRoYXQgaXMgdXNlZCB0byBwYXNzIHJlY29yZGVkIGJsb2IgYmFjayB0byB0aGUgY2FsbGVlLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbihibG9iKSB7XG4gICAgICogICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgLy8gc3RvcCByZWNvcmRpbmdcbiAgICAgICAgcmVjb3JkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdG8gbWFrZSBzdXJlIG9uYXVkaW9wcm9jZXNzIHN0b3BzIGZpcmluZ1xuICAgICAgICAvLyBhdWRpb0lucHV0LmRpc2Nvbm5lY3QoKTtcblxuICAgICAgICBtZXJnZUxlZnRSaWdodEJ1ZmZlcnMoe1xuICAgICAgICAgICAgZGVzaXJlZFNhbXBSYXRlOiBkZXNpcmVkU2FtcFJhdGUsXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlLFxuICAgICAgICAgICAgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzOiBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMsXG4gICAgICAgICAgICBpbnRlcm5hbEludGVybGVhdmVkTGVuZ3RoOiByZWNvcmRpbmdMZW5ndGgsXG4gICAgICAgICAgICBsZWZ0QnVmZmVyczogbGVmdGNoYW5uZWwsXG4gICAgICAgICAgICByaWdodEJ1ZmZlcnM6IG51bWJlck9mQXVkaW9DaGFubmVscyA9PT0gMSA/IFtdIDogcmlnaHRjaGFubmVsXG4gICAgICAgIH0sIGZ1bmN0aW9uKGJ1ZmZlciwgdmlldykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0Jsb2J9IGJsb2IgLSBUaGUgcmVjb3JkZWQgYmxvYiBvYmplY3QuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAqICAgICB2YXIgYmxvYiA9IHJlY29yZGVyLmJsb2I7XG4gICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2VsZi5ibG9iID0gbmV3IEJsb2IoW3ZpZXddLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2F1ZGlvL3dhdidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7QXJyYXlCdWZmZXJ9IGJ1ZmZlciAtIFRoZSByZWNvcmRlZCBidWZmZXIgb2JqZWN0LlxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFN0ZXJlb0F1ZGlvUmVjb3JkZXJcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiByZWNvcmRlci5zdG9wKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgKiAgICAgdmFyIGJ1ZmZlciA9IHJlY29yZGVyLmJ1ZmZlcjtcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZWxmLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih2aWV3LmJ1ZmZlci5ieXRlTGVuZ3RoKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0RhdGFWaWV3fSB2aWV3IC0gVGhlIHJlY29yZGVkIGRhdGEtdmlldyBvYmplY3QuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAqICAgICB2YXIgdmlldyA9IHJlY29yZGVyLnZpZXc7XG4gICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2VsZi52aWV3ID0gdmlldztcblxuICAgICAgICAgICAgc2VsZi5zYW1wbGVSYXRlID0gZGVzaXJlZFNhbXBSYXRlIHx8IHNhbXBsZVJhdGU7XG4gICAgICAgICAgICBzZWxmLmJ1ZmZlclNpemUgPSBidWZmZXJTaXplO1xuXG4gICAgICAgICAgICAvLyByZWNvcmRlZCBhdWRpbyBsZW5ndGhcbiAgICAgICAgICAgIHNlbGYubGVuZ3RoID0gcmVjb3JkaW5nTGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzZWxmLmJsb2IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc0F1ZGlvUHJvY2Vzc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghU3RvcmFnZS5BdWRpb0NvbnRleHRDb25zdHJ1Y3Rvcikge1xuICAgICAgICBTdG9yYWdlLkF1ZGlvQ29udGV4dENvbnN0cnVjdG9yID0gbmV3IFN0b3JhZ2UuQXVkaW9Db250ZXh0KCk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSBTdG9yYWdlLkF1ZGlvQ29udGV4dENvbnN0cnVjdG9yO1xuXG4gICAgLy8gY3JlYXRlcyBhbiBhdWRpbyBub2RlIGZyb20gdGhlIG1pY3JvcGhvbmUgaW5jb21pbmcgc3RyZWFtXG4gICAgdmFyIGF1ZGlvSW5wdXQgPSBjb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG1lZGlhU3RyZWFtKTtcblxuICAgIHZhciBsZWdhbEJ1ZmZlclZhbHVlcyA9IFswLCAyNTYsIDUxMiwgMTAyNCwgMjA0OCwgNDA5NiwgODE5MiwgMTYzODRdO1xuXG4gICAgLyoqXG4gICAgICogRnJvbSB0aGUgc3BlYzogVGhpcyB2YWx1ZSBjb250cm9scyBob3cgZnJlcXVlbnRseSB0aGUgYXVkaW9wcm9jZXNzIGV2ZW50IGlzXG4gICAgICogZGlzcGF0Y2hlZCBhbmQgaG93IG1hbnkgc2FtcGxlLWZyYW1lcyBuZWVkIHRvIGJlIHByb2Nlc3NlZCBlYWNoIGNhbGwuXG4gICAgICogTG93ZXIgdmFsdWVzIGZvciBidWZmZXIgc2l6ZSB3aWxsIHJlc3VsdCBpbiBhIGxvd2VyIChiZXR0ZXIpIGxhdGVuY3kuXG4gICAgICogSGlnaGVyIHZhbHVlcyB3aWxsIGJlIG5lY2Vzc2FyeSB0byBhdm9pZCBhdWRpbyBicmVha3VwIGFuZCBnbGl0Y2hlc1xuICAgICAqIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgKGluIHNhbXBsZS1mcmFtZXMpIHdoaWNoIG5lZWRzIHRvXG4gICAgICogYmUgcHJvY2Vzc2VkIGVhY2ggdGltZSBvbnByb2Nlc3NhdWRpbyBpcyBjYWxsZWQuXG4gICAgICogTGVnYWwgdmFsdWVzIGFyZSAoMjU2LCA1MTIsIDEwMjQsIDIwNDgsIDQwOTYsIDgxOTIsIDE2Mzg0KS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYnVmZmVyU2l6ZSAtIEJ1ZmZlci1zaXplIGZvciBob3cgZnJlcXVlbnRseSB0aGUgYXVkaW9wcm9jZXNzIGV2ZW50IGlzIGRpc3BhdGNoZWQuXG4gICAgICogQG1lbWJlcm9mIFN0ZXJlb0F1ZGlvUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyID0gbmV3IFN0ZXJlb0F1ZGlvUmVjb3JkZXIobWVkaWFTdHJlYW0sIHtcbiAgICAgKiAgICAgYnVmZmVyU2l6ZTogNDA5NlxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgLy8gXCIwXCIgbWVhbnMsIGxldCBjaHJvbWUgZGVjaWRlIHRoZSBtb3N0IGFjY3VyYXRlIGJ1ZmZlci1zaXplIGZvciBjdXJyZW50IHBsYXRmb3JtLlxuICAgIHZhciBidWZmZXJTaXplID0gdHlwZW9mIGNvbmZpZy5idWZmZXJTaXplID09PSAndW5kZWZpbmVkJyA/IDQwOTYgOiBjb25maWcuYnVmZmVyU2l6ZTtcblxuICAgIGlmIChsZWdhbEJ1ZmZlclZhbHVlcy5pbmRleE9mKGJ1ZmZlclNpemUpID09PSAtMSkge1xuICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdMZWdhbCB2YWx1ZXMgZm9yIGJ1ZmZlci1zaXplIGFyZSAnICsgSlNPTi5zdHJpbmdpZnkobGVnYWxCdWZmZXJWYWx1ZXMsIG51bGwsICdcXHQnKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5jcmVhdGVKYXZhU2NyaXB0Tm9kZSkge1xuICAgICAgICBqc0F1ZGlvTm9kZSA9IGNvbnRleHQuY3JlYXRlSmF2YVNjcmlwdE5vZGUoYnVmZmVyU2l6ZSwgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IpIHtcbiAgICAgICAganNBdWRpb05vZGUgPSBjb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihidWZmZXJTaXplLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHMsIG51bWJlck9mQXVkaW9DaGFubmVscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgJ1dlYkF1ZGlvIEFQSSBoYXMgbm8gc3VwcG9ydCBvbiB0aGlzIGJyb3dzZXIuJztcbiAgICB9XG5cbiAgICAvLyBjb25uZWN0IHRoZSBzdHJlYW0gdG8gdGhlIGdhaW4gbm9kZVxuICAgIGF1ZGlvSW5wdXQuY29ubmVjdChqc0F1ZGlvTm9kZSk7XG5cbiAgICBpZiAoIWNvbmZpZy5idWZmZXJTaXplKSB7XG4gICAgICAgIGJ1ZmZlclNpemUgPSBqc0F1ZGlvTm9kZS5idWZmZXJTaXplOyAvLyBkZXZpY2UgYnVmZmVyLXNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtcGxlIHJhdGUgKGluIHNhbXBsZS1mcmFtZXMgcGVyIHNlY29uZCkgYXQgd2hpY2ggdGhlXG4gICAgICogQXVkaW9Db250ZXh0IGhhbmRsZXMgYXVkaW8uIEl0IGlzIGFzc3VtZWQgdGhhdCBhbGwgQXVkaW9Ob2Rlc1xuICAgICAqIGluIHRoZSBjb250ZXh0IHJ1biBhdCB0aGlzIHJhdGUuIEluIG1ha2luZyB0aGlzIGFzc3VtcHRpb24sXG4gICAgICogc2FtcGxlLXJhdGUgY29udmVydGVycyBvciBcInZhcmlzcGVlZFwiIHByb2Nlc3NvcnMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAgICAgKiBpbiByZWFsLXRpbWUgcHJvY2Vzc2luZy5cbiAgICAgKiBUaGUgc2FtcGxlUmF0ZSBwYXJhbWV0ZXIgZGVzY3JpYmVzIHRoZSBzYW1wbGUtcmF0ZSBvZiB0aGVcbiAgICAgKiBsaW5lYXIgUENNIGF1ZGlvIGRhdGEgaW4gdGhlIGJ1ZmZlciBpbiBzYW1wbGUtZnJhbWVzIHBlciBzZWNvbmQuXG4gICAgICogQW4gaW1wbGVtZW50YXRpb24gbXVzdCBzdXBwb3J0IHNhbXBsZS1yYXRlcyBpbiBhdCBsZWFzdFxuICAgICAqIHRoZSByYW5nZSAyMjA1MCB0byA5NjAwMC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc2FtcGxlUmF0ZSAtIEJ1ZmZlci1zaXplIGZvciBob3cgZnJlcXVlbnRseSB0aGUgYXVkaW9wcm9jZXNzIGV2ZW50IGlzIGRpc3BhdGNoZWQuXG4gICAgICogQG1lbWJlcm9mIFN0ZXJlb0F1ZGlvUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyID0gbmV3IFN0ZXJlb0F1ZGlvUmVjb3JkZXIobWVkaWFTdHJlYW0sIHtcbiAgICAgKiAgICAgc2FtcGxlUmF0ZTogNDQxMDBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB2YXIgc2FtcGxlUmF0ZSA9IHR5cGVvZiBjb25maWcuc2FtcGxlUmF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBjb25maWcuc2FtcGxlUmF0ZSA6IGNvbnRleHQuc2FtcGxlUmF0ZSB8fCA0NDEwMDtcblxuICAgIGlmIChzYW1wbGVSYXRlIDwgMjIwNTAgfHwgc2FtcGxlUmF0ZSA+IDk2MDAwKSB7XG4gICAgICAgIC8vIFJlZjogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjYzMDM5MTgvNTUyMTgyXG4gICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NhbXBsZS1yYXRlIG11c3QgYmUgdW5kZXIgcmFuZ2UgMjIwNTAgYW5kIDk2MDAwLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NhbXBsZS1yYXRlJywgc2FtcGxlUmF0ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdidWZmZXItc2l6ZScsIGJ1ZmZlclNpemUpO1xuXG4gICAgICAgIGlmIChjb25maWcuZGVzaXJlZFNhbXBSYXRlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVzaXJlZCBzYW1wbGUtcmF0ZScsIGNvbmZpZy5kZXNpcmVkU2FtcFJhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlzUGF1c2VkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFN0ZXJlb0F1ZGlvUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnBhdXNlKCk7XG4gICAgICovXG4gICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpc1BhdXNlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlc3VtZXMgdGhlIHJlY29yZGluZyBwcm9jZXNzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVzdW1lKCk7XG4gICAgICovXG4gICAgdGhpcy5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzTWVkaWFTdHJlYW1BY3RpdmUoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93ICdQbGVhc2UgbWFrZSBzdXJlIE1lZGlhU3RyZWFtIGlzIGFjdGl2ZS4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlZW1zIHJlY29yZGluZyBoYXMgYmVlbiByZXN0YXJ0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlY29yZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNQYXVzZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVzZXRzIGN1cnJlbnRseSByZWNvcmRlZCBkYXRhLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyUmVjb3JkZWREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcblxuICAgICAgICBsZWZ0Y2hhbm5lbC5sZW5ndGggPSByaWdodGNoYW5uZWwubGVuZ3RoID0gMDtcbiAgICAgICAgcmVjb3JkaW5nTGVuZ3RoID0gMDtcbiAgICB9O1xuXG4gICAgLy8gZm9yIGRlYnVnZ2luZ1xuICAgIHRoaXMubmFtZSA9ICdTdGVyZW9BdWRpb1JlY29yZGVyJztcbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfTtcblxuICAgIHZhciBpc0F1ZGlvUHJvY2Vzc1N0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIG9uQXVkaW9Qcm9jZXNzRGF0YUF2YWlsYWJsZShlKSB7XG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWVkaWFTdHJlYW1BY3RpdmUoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01lZGlhU3RyZWFtIHNlZW1zIHN0b3BwZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqc0F1ZGlvTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICByZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjb3JkaW5nKSB7XG4gICAgICAgICAgICBhdWRpb0lucHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gXCJvbmF1ZGlvcHJvY2Vzc1wiIGV2ZW50J3MgZmlyc3QgaW52b2NhdGlvbi5cbiAgICAgICAgICogQG1ldGhvZCB7ZnVuY3Rpb259IG9uQXVkaW9Qcm9jZXNzU3RhcnRlZFxuICAgICAgICAgKiBAbWVtYmVyb2YgU3RlcmVvQXVkaW9SZWNvcmRlclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiByZWNvcmRlci5vbkF1ZGlvUHJvY2Vzc1N0YXJ0ZWQ6IGZ1bmN0aW9uKCkgeyB9O1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFpc0F1ZGlvUHJvY2Vzc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGlzQXVkaW9Qcm9jZXNzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uQXVkaW9Qcm9jZXNzU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vbkF1ZGlvUHJvY2Vzc1N0YXJ0ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5pbml0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaW5pdENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVmdCA9IGUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG5cbiAgICAgICAgLy8gd2UgY2xvbmUgdGhlIHNhbXBsZXNcbiAgICAgICAgbGVmdGNoYW5uZWwucHVzaChuZXcgRmxvYXQzMkFycmF5KGxlZnQpKTtcblxuICAgICAgICBpZiAobnVtYmVyT2ZBdWRpb0NoYW5uZWxzID09PSAyKSB7XG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBlLmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDEpO1xuICAgICAgICAgICAgcmlnaHRjaGFubmVsLnB1c2gobmV3IEZsb2F0MzJBcnJheShyaWdodCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb3JkaW5nTGVuZ3RoICs9IGJ1ZmZlclNpemU7XG5cbiAgICAgICAgLy8gZXhwb3J0IHJhdyBQQ01cbiAgICAgICAgc2VsZi5yZWNvcmRpbmdMZW5ndGggPSByZWNvcmRpbmdMZW5ndGg7XG4gICAgfVxuXG4gICAganNBdWRpb05vZGUub25hdWRpb3Byb2Nlc3MgPSBvbkF1ZGlvUHJvY2Vzc0RhdGFBdmFpbGFibGU7XG5cbiAgICAvLyB0byBwcmV2ZW50IHNlbGYgYXVkaW8gdG8gYmUgY29ubmVjdGVkIHdpdGggc3BlYWtlcnNcbiAgICBqc0F1ZGlvTm9kZS5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuXG4gICAgLy8gZXhwb3J0IHJhdyBQQ01cbiAgICB0aGlzLmxlZnRjaGFubmVsID0gbGVmdGNoYW5uZWw7XG4gICAgdGhpcy5yaWdodGNoYW5uZWwgPSByaWdodGNoYW5uZWw7XG4gICAgdGhpcy5udW1iZXJPZkF1ZGlvQ2hhbm5lbHMgPSBudW1iZXJPZkF1ZGlvQ2hhbm5lbHM7XG4gICAgdGhpcy5kZXNpcmVkU2FtcFJhdGUgPSBkZXNpcmVkU2FtcFJhdGU7XG4gICAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbn1cblxuaWYgKHR5cGVvZiBSZWNvcmRSVEMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgUmVjb3JkUlRDLlN0ZXJlb0F1ZGlvUmVjb3JkZXIgPSBTdGVyZW9BdWRpb1JlY29yZGVyO1xufVxuXG4vLyBfX19fX19fX19fX19fX19fX1xuLy8gQ2FudmFzUmVjb3JkZXIuanNcblxuLyoqXG4gKiBDYW52YXNSZWNvcmRlciBpcyBhIHN0YW5kYWxvbmUgY2xhc3MgdXNlZCBieSB7QGxpbmsgUmVjb3JkUlRDfSB0byBicmluZyBIVE1MNS1DYW52YXMgcmVjb3JkaW5nIGludG8gdmlkZW8gV2ViTS4gSXQgdXNlcyBIVE1MMkNhbnZhcyBsaWJyYXJ5IGFuZCBydW5zIHRvcCBvdmVyIHtAbGluayBXaGFtbXl9LlxuICogQHN1bW1hcnkgSFRNTDJDYW52YXMgcmVjb3JkaW5nIGludG8gdmlkZW8gV2ViTS5cbiAqIEBsaWNlbnNlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQyNsaWNlbnNlfE1JVH1cbiAqIEBhdXRob3Ige0BsaW5rIGh0dHA6Ly93d3cuTXVhektoYW4uY29tfE11YXogS2hhbn1cbiAqIEB0eXBlZGVmIENhbnZhc1JlY29yZGVyXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgcmVjb3JkZXIgPSBuZXcgQ2FudmFzUmVjb3JkZXIoaHRtbEVsZW1lbnQsIHsgZGlzYWJsZUxvZ3M6IHRydWUgfSk7XG4gKiByZWNvcmRlci5yZWNvcmQoKTtcbiAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICogICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gKiB9KTtcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGh0bWxFbGVtZW50IC0gcXVlcnlTZWxlY3Rvci9nZXRFbGVtZW50QnlJZC9nZXRFbGVtZW50c0J5VGFnTmFtZVswXS9ldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0ge2Rpc2FibGVMb2dzOnRydWUsIGluaXRDYWxsYmFjazogZnVuY3Rpb259XG4gKi9cblxuZnVuY3Rpb24gQ2FudmFzUmVjb3JkZXIoaHRtbEVsZW1lbnQsIGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgaHRtbDJjYW52YXMgPT09ICd1bmRlZmluZWQnICYmIGh0bWxFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdjYW52YXMnKSB7XG4gICAgICAgIHRocm93ICdQbGVhc2UgbGluazogaHR0cHM6Ly9jZG4ud2VicnRjLWV4cGVyaW1lbnQuY29tL3NjcmVlbnNob3QuanMnO1xuICAgIH1cblxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICBpZiAoIWNvbmZpZy5mcmFtZUludGVydmFsKSB7XG4gICAgICAgIGNvbmZpZy5mcmFtZUludGVydmFsID0gMTA7XG4gICAgfVxuXG4gICAgLy8gdmlhIERldGVjdFJUQy5qc1xuICAgIHZhciBpc0NhbnZhc1N1cHBvcnRzU3RyZWFtQ2FwdHVyaW5nID0gZmFsc2U7XG4gICAgWydjYXB0dXJlU3RyZWFtJywgJ21vekNhcHR1cmVTdHJlYW0nLCAnd2Via2l0Q2FwdHVyZVN0cmVhbSddLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbSBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSkge1xuICAgICAgICAgICAgaXNDYW52YXNTdXBwb3J0c1N0cmVhbUNhcHR1cmluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBfaXNDaHJvbWUgPSAoISF3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24gfHwgISF3aW5kb3cud2Via2l0R2V0VXNlck1lZGlhKSAmJiAhIXdpbmRvdy5jaHJvbWU7XG5cbiAgICB2YXIgY2hyb21lVmVyc2lvbiA9IDUwO1xuICAgIHZhciBtYXRjaEFycmF5ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb20oZXxpdW0pXFwvKFswLTldKylcXC4vKTtcbiAgICBpZiAoX2lzQ2hyb21lICYmIG1hdGNoQXJyYXkgJiYgbWF0Y2hBcnJheVsyXSkge1xuICAgICAgICBjaHJvbWVWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hBcnJheVsyXSwgMTApO1xuICAgIH1cblxuICAgIGlmIChfaXNDaHJvbWUgJiYgY2hyb21lVmVyc2lvbiA8IDUyKSB7XG4gICAgICAgIGlzQ2FudmFzU3VwcG9ydHNTdHJlYW1DYXB0dXJpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZ2xvYmFsQ2FudmFzLCBtZWRpYVN0cmVhbVJlY29yZGVyO1xuXG4gICAgaWYgKGlzQ2FudmFzU3VwcG9ydHNTdHJlYW1DYXB0dXJpbmcpIHtcbiAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3VyIGJyb3dzZXIgc3VwcG9ydHMgYm90aCBNZWRpUmVjb3JkZXIgQVBJIGFuZCBjYW52YXMuY2FwdHVyZVN0cmVhbSEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChodG1sRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICBnbG9iYWxDYW52YXMgPSBodG1sRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChodG1sRWxlbWVudCBpbnN0YW5jZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICAgICAgZ2xvYmFsQ2FudmFzID0gaHRtbEVsZW1lbnQuY2FudmFzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgJ1BsZWFzZSBwYXNzIGVpdGhlciBIVE1MQ2FudmFzRWxlbWVudCBvciBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuJztcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISFuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG4gICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW52YXMgcmVjb3JkaW5nIGlzIE5PVCBzdXBwb3J0ZWQgaW4gRmlyZWZveC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpc1JlY29yZGluZztcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY29yZHMgQ2FudmFzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnJlY29yZCgpO1xuICAgICAqL1xuICAgIHRoaXMucmVjb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzUmVjb3JkaW5nID0gdHJ1ZTtcblxuICAgICAgICBpZiAoaXNDYW52YXNTdXBwb3J0c1N0cmVhbUNhcHR1cmluZykge1xuICAgICAgICAgICAgLy8gQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtXG4gICAgICAgICAgICB2YXIgY2FudmFzTWVkaWFTdHJlYW07XG4gICAgICAgICAgICBpZiAoJ2NhcHR1cmVTdHJlYW0nIGluIGdsb2JhbENhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhc01lZGlhU3RyZWFtID0gZ2xvYmFsQ2FudmFzLmNhcHR1cmVTdHJlYW0oMjUpOyAvLyAyNSBGUFNcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ21vekNhcHR1cmVTdHJlYW0nIGluIGdsb2JhbENhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhc01lZGlhU3RyZWFtID0gZ2xvYmFsQ2FudmFzLm1vekNhcHR1cmVTdHJlYW0oMjUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgnd2Via2l0Q2FwdHVyZVN0cmVhbScgaW4gZ2xvYmFsQ2FudmFzKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzTWVkaWFTdHJlYW0gPSBnbG9iYWxDYW52YXMud2Via2l0Q2FwdHVyZVN0cmVhbSgyNSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIG1kU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgbWRTdHJlYW0uYWRkVHJhY2soY2FudmFzTWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXSk7XG4gICAgICAgICAgICAgICAgY2FudmFzTWVkaWFTdHJlYW0gPSBtZFN0cmVhbTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgICAgICAgIGlmICghY2FudmFzTWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnY2FwdHVyZVN0cmVhbSBBUEkgYXJlIE5PVCBhdmFpbGFibGUuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm90ZTogSmFuIDE4LCAyMDE2IHN0YXR1cyBpcyB0aGF0LCBcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggTWVkaWFSZWNvcmRlciBBUEkgY2FuJ3QgcmVjb3JkIENhbnZhc0NhcHR1cmVNZWRpYVN0cmVhbSBvYmplY3QuXG4gICAgICAgICAgICBtZWRpYVN0cmVhbVJlY29yZGVyID0gbmV3IE1lZGlhU3RyZWFtUmVjb3JkZXIoY2FudmFzTWVkaWFTdHJlYW0sIHtcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm0nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1lZGlhU3RyZWFtUmVjb3JkZXIucmVjb3JkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGFtbXkuZnJhbWVzID0gW107XG4gICAgICAgICAgICBsYXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgZHJhd0NhbnZhc0ZyYW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgY29uZmlnLmluaXRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0V2ViUEltYWdlcyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChodG1sRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnY2FudmFzJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmcmFtZXNMZW5ndGggPSB3aGFtbXkuZnJhbWVzLmxlbmd0aDtcbiAgICAgICAgd2hhbW15LmZyYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGZyYW1lLCBpZHgpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZXNSZW1haW5pbmcgPSBmcmFtZXNMZW5ndGggLSBpZHg7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZyYW1lc1JlbWFpbmluZyArICcvJyArIGZyYW1lc0xlbmd0aCArICcgZnJhbWVzIHJlbWFpbmluZycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uRW5jb2RpbmdDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vbkVuY29kaW5nQ2FsbGJhY2soZnJhbWVzUmVtYWluaW5nLCBmcmFtZXNMZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgd2VicCA9IGZyYW1lLmltYWdlLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcsIDEpO1xuICAgICAgICAgICAgd2hhbW15LmZyYW1lc1tpZHhdLmltYWdlID0gd2VicDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjb25maWcuZGlzYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0aW5nIFdlYk0nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHJlY29yZGluZyBDYW52YXMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiwgdGhhdCBpcyB1c2VkIHRvIHBhc3MgcmVjb3JkZWQgYmxvYiBiYWNrIHRvIHRoZSBjYWxsZWUuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNSZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbihibG9iKSB7XG4gICAgICogICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgaXNSZWNvcmRpbmcgPSBmYWxzZTtcblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzQ2FudmFzU3VwcG9ydHNTdHJlYW1DYXB0dXJpbmcgJiYgbWVkaWFTdHJlYW1SZWNvcmRlcikge1xuICAgICAgICAgICAgbWVkaWFTdHJlYW1SZWNvcmRlci5zdG9wKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0V2ViUEltYWdlcyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtCbG9ifSBibG9iIC0gUmVjb3JkZWQgZnJhbWVzIGluIHZpZGVvL3dlYm0gYmxvYi5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDYW52YXNSZWNvcmRlclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgKiAgICAgdmFyIGJsb2IgPSByZWNvcmRlci5ibG9iO1xuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHdoYW1teS5jb21waWxlKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy5kaXNhYmxlTG9ncykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkaW5nIGZpbmlzaGVkIScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoYXQuYmxvYiA9IGJsb2I7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhhdC5ibG9iLmZvckVhY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5ibG9iID0gbmV3IEJsb2IoW10sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd2aWRlby93ZWJtJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGhhdC5ibG9iKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGFtbXkuZnJhbWVzID0gW107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpc1BhdXNlZFJlY29yZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1JlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5wYXVzZSgpO1xuICAgICAqL1xuICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNQYXVzZWRSZWNvcmRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmIChtZWRpYVN0cmVhbVJlY29yZGVyIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1SZWNvcmRlcikge1xuICAgICAgICAgICAgbWVkaWFTdHJlYW1SZWNvcmRlci5wYXVzZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlc3VtZXMgdGhlIHJlY29yZGluZyBwcm9jZXNzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnJlc3VtZSgpO1xuICAgICAqL1xuICAgIHRoaXMucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzUGF1c2VkUmVjb3JkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG1lZGlhU3RyZWFtUmVjb3JkZXIgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVJlY29yZGVyKSB7XG4gICAgICAgICAgICBtZWRpYVN0cmVhbVJlY29yZGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1JlY29yZGluZykge1xuICAgICAgICAgICAgdGhpcy5yZWNvcmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXNldHMgY3VycmVudGx5IHJlY29yZGVkIGRhdGEuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNSZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyUmVjb3JkZWREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgd2hhbW15LmZyYW1lcyA9IFtdO1xuICAgIH07XG5cbiAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgdGhpcy5uYW1lID0gJ0NhbnZhc1JlY29yZGVyJztcbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsb25lQ2FudmFzKCkge1xuICAgICAgICAvL2NyZWF0ZSBhIG5ldyBjYW52YXNcbiAgICAgICAgdmFyIG5ld0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY29udGV4dCA9IG5ld0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vc2V0IGRpbWVuc2lvbnNcbiAgICAgICAgbmV3Q2FudmFzLndpZHRoID0gaHRtbEVsZW1lbnQud2lkdGg7XG4gICAgICAgIG5ld0NhbnZhcy5oZWlnaHQgPSBodG1sRWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgICAgLy9hcHBseSB0aGUgb2xkIGNhbnZhcyB0byB0aGUgbmV3IG9uZVxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShodG1sRWxlbWVudCwgMCwgMCk7XG5cbiAgICAgICAgLy9yZXR1cm4gdGhlIG5ldyBjYW52YXNcbiAgICAgICAgcmV0dXJuIG5ld0NhbnZhcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3Q2FudmFzRnJhbWUoKSB7XG4gICAgICAgIGlmIChpc1BhdXNlZFJlY29yZGluZykge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGRyYXdDYW52YXNGcmFtZSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChodG1sRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnY2FudmFzJykge1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsYXN0VGltZTtcbiAgICAgICAgICAgIC8vIHZpYSAjMjA2LCBieSBKYWNrIGkuZS4gQFNleW1vdXJyXG4gICAgICAgICAgICBsYXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICB3aGFtbXkuZnJhbWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGltYWdlOiBjbG9uZUNhbnZhcygpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpc1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZHJhd0NhbnZhc0ZyYW1lLCBjb25maWcuZnJhbWVJbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBodG1sMmNhbnZhcyhodG1sRWxlbWVudCwge1xuICAgICAgICAgICAgZ3JhYk1vdXNlOiB0eXBlb2YgY29uZmlnLnNob3dNb3VzZVBvaW50ZXIgPT09ICd1bmRlZmluZWQnIHx8IGNvbmZpZy5zaG93TW91c2VQb2ludGVyLFxuICAgICAgICAgICAgb25yZW5kZXJlZDogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsYXN0VGltZTtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGRyYXdDYW52YXNGcmFtZSwgY29uZmlnLmZyYW1lSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHZpYSAjMjA2LCBieSBKYWNrIGkuZS4gQFNleW1vdXJyXG4gICAgICAgICAgICAgICAgbGFzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgIHdoYW1teS5mcmFtZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS93ZWJwJywgMSksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZHJhd0NhbnZhc0ZyYW1lLCBjb25maWcuZnJhbWVJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgbGFzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIHZhciB3aGFtbXkgPSBuZXcgV2hhbW15LlZpZGVvKDEwMCk7XG59XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5DYW52YXNSZWNvcmRlciA9IENhbnZhc1JlY29yZGVyO1xufVxuXG4vLyBfX19fX19fX19fX19fX19fX1xuLy8gV2hhbW15UmVjb3JkZXIuanNcblxuLyoqXG4gKiBXaGFtbXlSZWNvcmRlciBpcyBhIHN0YW5kYWxvbmUgY2xhc3MgdXNlZCBieSB7QGxpbmsgUmVjb3JkUlRDfSB0byBicmluZyB2aWRlbyByZWNvcmRpbmcgaW4gQ2hyb21lLiBJdCBydW5zIHRvcCBvdmVyIHtAbGluayBXaGFtbXl9LlxuICogQHN1bW1hcnkgVmlkZW8gcmVjb3JkaW5nIGZlYXR1cmUgaW4gQ2hyb21lLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgV2hhbW15UmVjb3JkZXJcbiAqIEBjbGFzc1xuICogQGV4YW1wbGVcbiAqIHZhciByZWNvcmRlciA9IG5ldyBXaGFtbXlSZWNvcmRlcihtZWRpYVN0cmVhbSk7XG4gKiByZWNvcmRlci5yZWNvcmQoKTtcbiAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICogICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gKiB9KTtcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IG1lZGlhU3RyZWFtIC0gTWVkaWFTdHJlYW0gb2JqZWN0IGZldGNoZWQgdXNpbmcgZ2V0VXNlck1lZGlhIEFQSSBvciBnZW5lcmF0ZWQgdXNpbmcgY2FwdHVyZVN0cmVhbVVudGlsRW5kZWQgb3IgV2ViQXVkaW8gQVBJLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIHtkaXNhYmxlTG9nczogdHJ1ZSwgaW5pdENhbGxiYWNrOiBmdW5jdGlvbiwgdmlkZW86IEhUTUxWaWRlb0VsZW1lbnQsIGV0Yy59XG4gKi9cblxuZnVuY3Rpb24gV2hhbW15UmVjb3JkZXIobWVkaWFTdHJlYW0sIGNvbmZpZykge1xuXG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gICAgaWYgKCFjb25maWcuZnJhbWVJbnRlcnZhbCkge1xuICAgICAgICBjb25maWcuZnJhbWVJbnRlcnZhbCA9IDEwO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBmcmFtZXMtaW50ZXJ2YWw6JywgY29uZmlnLmZyYW1lSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY29yZHMgdmlkZW8uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBXaGFtbXlSZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVjb3JkKCk7XG4gICAgICovXG4gICAgdGhpcy5yZWNvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjb25maWcud2lkdGgpIHtcbiAgICAgICAgICAgIGNvbmZpZy53aWR0aCA9IDMyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29uZmlnLmhlaWdodCkge1xuICAgICAgICAgICAgY29uZmlnLmhlaWdodCA9IDI0MDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29uZmlnLnZpZGVvKSB7XG4gICAgICAgICAgICBjb25maWcudmlkZW8gPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvbmZpZy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy5jYW52YXMpIHtcbiAgICAgICAgICAgIGNvbmZpZy5jYW52YXMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvbmZpZy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMud2lkdGggPSBjb25maWcuY2FudmFzLndpZHRoIHx8IDMyMDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNvbmZpZy5jYW52YXMuaGVpZ2h0IHx8IDI0MDtcblxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLy8gc2V0dGluZyBkZWZhdWx0c1xuICAgICAgICBpZiAoY29uZmlnLnZpZGVvICYmIGNvbmZpZy52aWRlbyBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHZpZGVvID0gY29uZmlnLnZpZGVvLmNsb25lTm9kZSgpO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLmluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5pbml0Q2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2aWRlby5zcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwobWVkaWFTdHJlYW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2aWRlby5vbmxvYWRlZG1ldGFkYXRhID0gZnVuY3Rpb24oKSB7IC8vIFwib25sb2FkZWRtZXRhZGF0YVwiIG1heSBOT1Qgd29yayBpbiBGRj9cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcuaW5pdENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmlkZW8ud2lkdGggPSBjb25maWcudmlkZW8ud2lkdGg7XG4gICAgICAgICAgICB2aWRlby5oZWlnaHQgPSBjb25maWcudmlkZW8uaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgICB2aWRlby5wbGF5KCk7XG5cbiAgICAgICAgbGFzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgd2hhbW15ID0gbmV3IFdoYW1teS5WaWRlbygpO1xuXG4gICAgICAgIGlmICghY29uZmlnLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2FudmFzIHJlc29sdXRpb25zJywgY2FudmFzLndpZHRoLCAnKicsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZpZGVvIHdpZHRoL2hlaWdodCcsIHZpZGVvLndpZHRoIHx8IGNhbnZhcy53aWR0aCwgJyonLCB2aWRlby5oZWlnaHQgfHwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBkcmF3RnJhbWVzKGNvbmZpZy5mcmFtZUludGVydmFsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhbmQgcHVzaCBmcmFtZXMgdG8gV2hhbW15XG4gICAgICogQHBhcmFtIHtpbnRlZ2VyfSBmcmFtZUludGVydmFsIC0gc2V0IG1pbmltdW0gaW50ZXJ2YWwgKGluIG1pbGxpc2Vjb25kcykgYmV0d2VlbiBlYWNoIHRpbWUgd2UgcHVzaCBhIGZyYW1lIHRvIFdoYW1teVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyYXdGcmFtZXMoZnJhbWVJbnRlcnZhbCkge1xuICAgICAgICBmcmFtZUludGVydmFsID0gdHlwZW9mIGZyYW1lSW50ZXJ2YWwgIT09ICd1bmRlZmluZWQnID8gZnJhbWVJbnRlcnZhbCA6IDEwO1xuXG4gICAgICAgIHZhciBkdXJhdGlvbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdFRpbWU7XG4gICAgICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGRyYXdGcmFtZXMsIGZyYW1lSW50ZXJ2YWwsIGZyYW1lSW50ZXJ2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUGF1c2VkUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZHJhd0ZyYW1lcywgMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZpYSAjMjA2LCBieSBKYWNrIGkuZS4gQFNleW1vdXJyXG4gICAgICAgIGxhc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgLy8gdmlhOiBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1dlYlJUQy1FeHBlcmltZW50L3B1bGwvMzE2XG4gICAgICAgICAgICAvLyBUd2VhayBmb3IgQW5kcm9pZCBDaHJvbWVcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB3aGFtbXkuZnJhbWVzLnB1c2goe1xuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgaW1hZ2U6IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3dlYnAnKVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzU3RvcERyYXdpbmcpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZHJhd0ZyYW1lcywgZnJhbWVJbnRlcnZhbCwgZnJhbWVJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3luY0xvb3Aobykge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gby5sZW5ndGg7XG5cbiAgICAgICAgKGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgby5jYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gXCJzZXRUaW1lb3V0XCIgYWRkZWQgYnkgSmltIE1jTGVvZFxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvLmZ1bmN0aW9uVG9Mb29wKGxvb3AsIGkpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYmxhY2sgZnJhbWVzIGZyb20gdGhlIGJlZ2lubmluZyB0byB0aGUgc3BlY2lmaWVkIGZyYW1lXG4gICAgICogQHBhcmFtIHtBcnJheX0gX2ZyYW1lcyAtIGFycmF5IG9mIGZyYW1lcyB0byBiZSBjaGVja2VkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IF9mcmFtZXNUb0NoZWNrIC0gbnVtYmVyIG9mIGZyYW1lIHVudGlsIGNoZWNrIHdpbGwgYmUgZXhlY3V0ZWQgKC0xIC0gd2lsbCBkcm9wIGFsbCBmcmFtZXMgdW50aWwgZnJhbWUgbm90IG1hdGNoZWQgd2lsbCBiZSBmb3VuZClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gX3BpeFRvbGVyYW5jZSAtIDAgLSB2ZXJ5IHN0cmljdCAob25seSBibGFjayBwaXhlbCBjb2xvcikgOyAxIC0gYWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IF9mcmFtZVRvbGVyYW5jZSAtIDAgLSB2ZXJ5IHN0cmljdCAob25seSBibGFjayBmcmFtZSBjb2xvcikgOyAxIC0gYWxsXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIGFycmF5IG9mIGZyYW1lc1xuICAgICAqL1xuICAgIC8vIHB1bGwjMjkzIGJ5IEB2b2xvZGFsZXhleVxuICAgIGZ1bmN0aW9uIGRyb3BCbGFja0ZyYW1lcyhfZnJhbWVzLCBfZnJhbWVzVG9DaGVjaywgX3BpeFRvbGVyYW5jZSwgX2ZyYW1lVG9sZXJhbmNlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgbG9jYWxDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgbG9jYWxDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgIGxvY2FsQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHZhciBjb250ZXh0MmQgPSBsb2NhbENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgcmVzdWx0RnJhbWVzID0gW107XG5cbiAgICAgICAgdmFyIGNoZWNrVW50aWxOb3RCbGFjayA9IF9mcmFtZXNUb0NoZWNrID09PSAtMTtcbiAgICAgICAgdmFyIGVuZENoZWNrRnJhbWUgPSAoX2ZyYW1lc1RvQ2hlY2sgJiYgX2ZyYW1lc1RvQ2hlY2sgPiAwICYmIF9mcmFtZXNUb0NoZWNrIDw9IF9mcmFtZXMubGVuZ3RoKSA/XG4gICAgICAgICAgICBfZnJhbWVzVG9DaGVjayA6IF9mcmFtZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc2FtcGxlQ29sb3IgPSB7XG4gICAgICAgICAgICByOiAwLFxuICAgICAgICAgICAgZzogMCxcbiAgICAgICAgICAgIGI6IDBcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1heENvbG9yRGlmZmVyZW5jZSA9IE1hdGguc3FydChcbiAgICAgICAgICAgIE1hdGgucG93KDI1NSwgMikgK1xuICAgICAgICAgICAgTWF0aC5wb3coMjU1LCAyKSArXG4gICAgICAgICAgICBNYXRoLnBvdygyNTUsIDIpXG4gICAgICAgICk7XG4gICAgICAgIHZhciBwaXhUb2xlcmFuY2UgPSBfcGl4VG9sZXJhbmNlICYmIF9waXhUb2xlcmFuY2UgPj0gMCAmJiBfcGl4VG9sZXJhbmNlIDw9IDEgPyBfcGl4VG9sZXJhbmNlIDogMDtcbiAgICAgICAgdmFyIGZyYW1lVG9sZXJhbmNlID0gX2ZyYW1lVG9sZXJhbmNlICYmIF9mcmFtZVRvbGVyYW5jZSA+PSAwICYmIF9mcmFtZVRvbGVyYW5jZSA8PSAxID8gX2ZyYW1lVG9sZXJhbmNlIDogMDtcbiAgICAgICAgdmFyIGRvTm90Q2hlY2tOZXh0ID0gZmFsc2U7XG5cbiAgICAgICAgYXN5bmNMb29wKHtcbiAgICAgICAgICAgIGxlbmd0aDogZW5kQ2hlY2tGcmFtZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uVG9Mb29wOiBmdW5jdGlvbihsb29wLCBmKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoUGl4Q291bnQsIGVuZFBpeENoZWNrLCBtYXhQaXhDb3VudDtcblxuICAgICAgICAgICAgICAgIHZhciBmaW5pc2hJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvTm90Q2hlY2tOZXh0ICYmIG1heFBpeENvdW50IC0gbWF0Y2hQaXhDb3VudCA8PSBtYXhQaXhDb3VudCAqIGZyYW1lVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVtb3ZlZCBibGFjayBmcmFtZSA6ICcgKyBmICsgJyA7IGZyYW1lIGR1cmF0aW9uICcgKyBfZnJhbWVzW2ZdLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdmcmFtZSBpcyBwYXNzZWQgOiAnICsgZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tVbnRpbE5vdEJsYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3RDaGVja05leHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0RnJhbWVzLnB1c2goX2ZyYW1lc1tmXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9vcCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRvTm90Q2hlY2tOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQyZC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dDJkLmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hQaXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRQaXhDaGVjayA9IGltYWdlRGF0YS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFBpeENvdW50ID0gaW1hZ2VEYXRhLmRhdGEubGVuZ3RoIC8gNDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcGl4ID0gMDsgcGl4IDwgZW5kUGl4Q2hlY2s7IHBpeCArPSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogaW1hZ2VEYXRhLmRhdGFbcGl4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZzogaW1hZ2VEYXRhLmRhdGFbcGl4ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGI6IGltYWdlRGF0YS5kYXRhW3BpeCArIDJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JEaWZmZXJlbmNlID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhjdXJyZW50Q29sb3IuciAtIHNhbXBsZUNvbG9yLnIsIDIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY3VycmVudENvbG9yLmcgLSBzYW1wbGVDb2xvci5nLCAyKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGN1cnJlbnRDb2xvci5iIC0gc2FtcGxlQ29sb3IuYiwgMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gY29sb3IgaXQgaXMgZGlmZmVyZW5jZSBpbiBjb2xvciB2ZWN0b3JzIChyMSxnMSxiMSkgPD0+IChyMixnMixiMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3JEaWZmZXJlbmNlIDw9IG1heENvbG9yRGlmZmVyZW5jZSAqIHBpeFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFBpeENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gX2ZyYW1lc1tmXS5pbWFnZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaW5pc2hJbWFnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0RnJhbWVzID0gcmVzdWx0RnJhbWVzLmNvbmNhdChfZnJhbWVzLnNsaWNlKGVuZENoZWNrRnJhbWUpKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRGcmFtZXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXQgbGVhc3Qgb25lIGxhc3QgZnJhbWUgc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgbmV4dCBtYW5pcHVsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdG90YWwgZHVyYXRpb24gb2YgYWxsIGZyYW1lcyB3aWxsIGJlIDwgMTAwMCB0aGFuIGZmbXBlZyBkb2Vzbid0IHdvcmsgd2VsbC4uLlxuICAgICAgICAgICAgICAgICAgICByZXN1bHRGcmFtZXMucHVzaChfZnJhbWVzW19mcmFtZXMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHRGcmFtZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdG9wRHJhd2luZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc3RvcHMgcmVjb3JkaW5nIHZpZGVvLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb24sIHRoYXQgaXMgdXNlZCB0byBwYXNzIHJlY29yZGVkIGJsb2IgYmFjayB0byB0aGUgY2FsbGVlLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgV2hhbW15UmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICAgICAqICAgICB2aWRlby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlzU3RvcERyYXdpbmcgPSB0cnVlO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGFuYWx5c2Ugb2YgYWxsIGZyYW1lcyB0YWtlcyBzb21lIHRpbWUhXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBlLmcuIGRyb3BCbGFja0ZyYW1lcyhmcmFtZXMsIDEwLCAxLCAxKSAtIHdpbGwgY3V0IGFsbCAxMCBmcmFtZXNcbiAgICAgICAgICAgIC8vIGUuZy4gZHJvcEJsYWNrRnJhbWVzKGZyYW1lcywgMTAsIDAuNSwgMC41KSAtIHdpbGwgYW5hbHlzZSAxMCBmcmFtZXNcbiAgICAgICAgICAgIC8vIGUuZy4gZHJvcEJsYWNrRnJhbWVzKGZyYW1lcywgMTApID09PSBkcm9wQmxhY2tGcmFtZXMoZnJhbWVzLCAxMCwgMCwgMCkgLSB3aWxsIGFuYWx5c2UgMTAgZnJhbWVzIHdpdGggc3RyaWN0IGJsYWNrIGNvbG9yXG4gICAgICAgICAgICBkcm9wQmxhY2tGcmFtZXMod2hhbW15LmZyYW1lcywgLTEsIG51bGwsIG51bGwsIGZ1bmN0aW9uKGZyYW1lcykge1xuICAgICAgICAgICAgICAgIHdoYW1teS5mcmFtZXMgPSBmcmFtZXM7XG5cbiAgICAgICAgICAgICAgICAvLyB0byBkaXNwbGF5IGFkdmVydGlzZW1lbnQgaW1hZ2VzIVxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuYWR2ZXJ0aXNlbWVudCAmJiBjb25maWcuYWR2ZXJ0aXNlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hhbW15LmZyYW1lcyA9IGNvbmZpZy5hZHZlcnRpc2VtZW50LmNvbmNhdCh3aGFtbXkuZnJhbWVzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge0Jsb2J9IGJsb2IgLSBSZWNvcmRlZCBmcmFtZXMgaW4gdmlkZW8vd2VibSBibG9iLlxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBXaGFtbXlSZWNvcmRlclxuICAgICAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgICAgICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgKiAgICAgdmFyIGJsb2IgPSByZWNvcmRlci5ibG9iO1xuICAgICAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHdoYW1teS5jb21waWxlKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmxvYiA9IGJsb2I7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmJsb2IuZm9yRWFjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmxvYiA9IG5ldyBCbG9iKFtdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvL3dlYm0nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soX3RoaXMuYmxvYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMCk7XG4gICAgfTtcblxuICAgIHZhciBpc1BhdXNlZFJlY29yZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFdoYW1teVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5wYXVzZSgpO1xuICAgICAqL1xuICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNQYXVzZWRSZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXN1bWVzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFdoYW1teVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5yZXN1bWUoKTtcbiAgICAgKi9cbiAgICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpc1BhdXNlZFJlY29yZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc1N0b3BEcmF3aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29yZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlc2V0cyBjdXJyZW50bHkgcmVjb3JkZWQgZGF0YS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFdoYW1teVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5jbGVhclJlY29yZGVkRGF0YSgpO1xuICAgICAqL1xuICAgIHRoaXMuY2xlYXJSZWNvcmRlZERhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICB3aGFtbXkuZnJhbWVzID0gW107XG4gICAgfTtcblxuICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICB0aGlzLm5hbWUgPSAnV2hhbW15UmVjb3JkZXInO1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB2YXIgdmlkZW87XG4gICAgdmFyIGxhc3RUaW1lO1xuICAgIHZhciB3aGFtbXk7XG59XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5XaGFtbXlSZWNvcmRlciA9IFdoYW1teVJlY29yZGVyO1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L3doYW1teS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vLyBfX19fX19fX19cbi8vIFdoYW1teS5qc1xuXG4vLyB0b2RvOiBGaXJlZm94IG5vdyBzdXBwb3J0cyB3ZWJwIGZvciB3ZWJtIGNvbnRhaW5lcnMhXG4vLyB0aGVpciBNZWRpYVJlY29yZGVyIGltcGxlbWVudGF0aW9uIHdvcmtzIHdlbGwhXG4vLyBzaG91bGQgd2UgcHJvdmlkZSBhbiBvcHRpb24gdG8gcmVjb3JkIHZpYSBXaGFtbXkuanMgb3IgTWVkaWFSZWNvcmRlciBBUEkgaXMgYSBiZXR0ZXIgc29sdXRpb24/XG5cbi8qKlxuICogV2hhbW15IGlzIGEgc3RhbmRhbG9uZSBjbGFzcyB1c2VkIGJ5IHtAbGluayBSZWNvcmRSVEN9IHRvIGJyaW5nIHZpZGVvIHJlY29yZGluZyBpbiBDaHJvbWUuIEl0IGlzIHdyaXR0ZW4gYnkge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRpbWF0dGVyMTV8YW50aW1hdHRlcjE1fVxuICogQHN1bW1hcnkgQSByZWFsIHRpbWUgamF2YXNjcmlwdCB3ZWJtIGVuY29kZXIgYmFzZWQgb24gYSBjYW52YXMgaGFjay5cbiAqIEBsaWNlbnNlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQyNsaWNlbnNlfE1JVH1cbiAqIEBhdXRob3Ige0BsaW5rIGh0dHA6Ly93d3cuTXVhektoYW4uY29tfE11YXogS2hhbn1cbiAqIEB0eXBlZGVmIFdoYW1teVxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIHJlY29yZGVyID0gbmV3IFdoYW1teSgpLlZpZGVvKDE1KTtcbiAqIHJlY29yZGVyLmFkZChjb250ZXh0IHx8IGNhbnZhcyB8fCBkYXRhVVJMKTtcbiAqIHZhciBvdXRwdXQgPSByZWNvcmRlci5jb21waWxlKCk7XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQ3xSZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKi9cblxudmFyIFdoYW1teSA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBhIG1vcmUgYWJzdHJhY3QtaXNoIEFQSVxuXG4gICAgZnVuY3Rpb24gV2hhbW15VmlkZW8oZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDE7XG4gICAgICAgIHRoaXMucXVhbGl0eSA9IDAuODtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXNzIENhbnZhcyBvciBDb250ZXh0IG9yIGltYWdlL3dlYnAoc3RyaW5nKSB0byB7QGxpbmsgV2hhbW15fSBlbmNvZGVyLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgV2hhbW15XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlciA9IG5ldyBXaGFtbXkoKS5WaWRlbygwLjgsIDEwMCk7XG4gICAgICogcmVjb3JkZXIuYWRkKGNhbnZhcyB8fCBjb250ZXh0IHx8ICdpbWFnZS93ZWJwJyk7XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lIC0gQ2FudmFzIHx8IENvbnRleHQgfHwgaW1hZ2Uvd2VicFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAtIFN0aWNrIGEgZHVyYXRpb24gKGluIG1pbGxpc2Vjb25kcylcbiAgICAgKi9cbiAgICBXaGFtbXlWaWRlby5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZnJhbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmICgnY2FudmFzJyBpbiBmcmFtZSkgeyAvL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxuICAgICAgICAgICAgZnJhbWUgPSBmcmFtZS5jYW52YXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3RvRGF0YVVSTCcgaW4gZnJhbWUpIHtcbiAgICAgICAgICAgIGZyYW1lID0gZnJhbWUudG9EYXRhVVJMKCdpbWFnZS93ZWJwJywgdGhpcy5xdWFsaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKC9eZGF0YTppbWFnZVxcL3dlYnA7YmFzZTY0LC9pZykudGVzdChmcmFtZSkpIHtcbiAgICAgICAgICAgIHRocm93ICdJbnB1dCBtdXN0IGJlIGZvcm1hdHRlZCBwcm9wZXJseSBhcyBhIGJhc2U2NCBlbmNvZGVkIERhdGFVUkkgb2YgdHlwZSBpbWFnZS93ZWJwJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lcy5wdXNoKHtcbiAgICAgICAgICAgIGltYWdlOiBmcmFtZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCB0aGlzLmR1cmF0aW9uXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzSW5XZWJXb3JrZXIoX2Z1bmN0aW9uKSB7XG4gICAgICAgIHZhciBibG9iID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbX2Z1bmN0aW9uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAndGhpcy5vbm1lc3NhZ2UgPSAgZnVuY3Rpb24gKGUpIHsnICsgX2Z1bmN0aW9uLm5hbWUgKyAnKGUuZGF0YSk7fSdcbiAgICAgICAgXSwge1xuICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXG4gICAgICAgIH0pKTtcblxuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcihibG9iKTtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgcmV0dXJuIHdvcmtlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3aGFtbXlJbldlYldvcmtlcihmcmFtZXMpIHtcbiAgICAgICAgZnVuY3Rpb24gQXJyYXlUb1dlYk0oZnJhbWVzKSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IGNoZWNrRnJhbWVzKGZyYW1lcyk7XG4gICAgICAgICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjbHVzdGVyTWF4RHVyYXRpb24gPSAzMDAwMDtcblxuICAgICAgICAgICAgdmFyIEVCTUwgPSBbe1xuICAgICAgICAgICAgICAgICdpZCc6IDB4MWE0NWRmYTMsIC8vIEVCTUxcbiAgICAgICAgICAgICAgICAnZGF0YSc6IFt7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogMSxcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg0Mjg2IC8vIEVCTUxWZXJzaW9uXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IDEsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6IDB4NDJmNyAvLyBFQk1MUmVhZFZlcnNpb25cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogNCxcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg0MmYyIC8vIEVCTUxNYXhJRExlbmd0aFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiA4LFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDQyZjMgLy8gRUJNTE1heFNpemVMZW5ndGhcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogJ3dlYm0nLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDQyODIgLy8gRG9jVHlwZVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiAyLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDQyODcgLy8gRG9jVHlwZVZlcnNpb25cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogMixcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg0Mjg1IC8vIERvY1R5cGVSZWFkVmVyc2lvblxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgJ2lkJzogMHgxODUzODA2NywgLy8gU2VnbWVudFxuICAgICAgICAgICAgICAgICdkYXRhJzogW3tcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHgxNTQ5YTk2NiwgLy8gSW5mb1xuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IDFlNiwgLy9kbyB0aGluZ3MgaW4gbWlsbGlzZWNzIChudW0gb2YgbmFub3NlY3MgZm9yIGR1cmF0aW9uIHNjYWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHgyYWQ3YjEgLy8gVGltZWNvZGVTY2FsZVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6ICd3aGFtbXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg0ZDgwIC8vIE11eGluZ0FwcFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6ICd3aGFtbXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg1NzQxIC8vIFdyaXRpbmdBcHBcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiBkb3VibGVUb1N0cmluZyhpbmZvLmR1cmF0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IDB4NDQ4OSAvLyBEdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHgxNjU0YWU2YiwgLy8gVHJhY2tzXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IDB4YWUsIC8vIFRyYWNrRW50cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHhkNyAvLyBUcmFja051bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDczYzUgLy8gVHJhY2tVSURcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHg5YyAvLyBGbGFnTGFjaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiAndW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDIyYjU5YyAvLyBMYW5ndWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzogJ1ZfVlA4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDg2IC8vIENvZGVjSURcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6ICdWUDgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IDB4MjU4Njg4IC8vIENvZGVjTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDgzIC8vIFRyYWNrVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IDB4ZTAsIC8vIFZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IGluZm8ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6IDB4YjAgLy8gUGl4ZWxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiBpbmZvLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogMHhiYSAvLyBQaXhlbEhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9XTtcblxuICAgICAgICAgICAgLy9HZW5lcmF0ZSBjbHVzdGVycyAobWF4IGR1cmF0aW9uKVxuICAgICAgICAgICAgdmFyIGZyYW1lTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyVGltZWNvZGUgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGZyYW1lTnVtYmVyIDwgZnJhbWVzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsdXN0ZXJGcmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgY2x1c3RlckR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGNsdXN0ZXJGcmFtZXMucHVzaChmcmFtZXNbZnJhbWVOdW1iZXJdKTtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlckR1cmF0aW9uICs9IGZyYW1lc1tmcmFtZU51bWJlcl0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lTnVtYmVyKys7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoZnJhbWVOdW1iZXIgPCBmcmFtZXMubGVuZ3RoICYmIGNsdXN0ZXJEdXJhdGlvbiA8IGNsdXN0ZXJNYXhEdXJhdGlvbik7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2x1c3RlckNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBjbHVzdGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAnaWQnOiAweDFmNDNiNjc1LCAvLyBDbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogZ2V0Q2x1c3RlckRhdGEoY2x1c3RlclRpbWVjb2RlLCBjbHVzdGVyQ291bnRlciwgY2x1c3RlckZyYW1lcylcbiAgICAgICAgICAgICAgICB9OyAvL0FkZCBjbHVzdGVyIHRvIHNlZ21lbnRcbiAgICAgICAgICAgICAgICBFQk1MWzFdLmRhdGEucHVzaChjbHVzdGVyKTtcbiAgICAgICAgICAgICAgICBjbHVzdGVyVGltZWNvZGUgKz0gY2x1c3RlckR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFQk1MKEVCTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2x1c3RlckRhdGEoY2x1c3RlclRpbWVjb2RlLCBjbHVzdGVyQ291bnRlciwgY2x1c3RlckZyYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICAgICAgJ2RhdGEnOiBjbHVzdGVyVGltZWNvZGUsXG4gICAgICAgICAgICAgICAgJ2lkJzogMHhlNyAvLyBUaW1lY29kZVxuICAgICAgICAgICAgfV0uY29uY2F0KGNsdXN0ZXJGcmFtZXMubWFwKGZ1bmN0aW9uKHdlYnApIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBtYWtlU2ltcGxlQmxvY2soe1xuICAgICAgICAgICAgICAgICAgICBkaXNjYXJkYWJsZTogMCxcbiAgICAgICAgICAgICAgICAgICAgZnJhbWU6IHdlYnAuZGF0YS5zbGljZSg0KSxcbiAgICAgICAgICAgICAgICAgICAgaW52aXNpYmxlOiAwLFxuICAgICAgICAgICAgICAgICAgICBrZXlmcmFtZTogMSxcbiAgICAgICAgICAgICAgICAgICAgbGFjaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICB0cmFja051bTogMSxcbiAgICAgICAgICAgICAgICAgICAgdGltZWNvZGU6IE1hdGgucm91bmQoY2x1c3RlckNvdW50ZXIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2x1c3RlckNvdW50ZXIgKz0gd2VicC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBibG9jayxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDB4YTNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3VtcyB0aGUgbGVuZ3RocyBvZiBhbGwgdGhlIGZyYW1lcyBhbmQgZ2V0cyB0aGUgZHVyYXRpb25cblxuICAgICAgICBmdW5jdGlvbiBjaGVja0ZyYW1lcyhmcmFtZXMpIHtcbiAgICAgICAgICAgIGlmICghZnJhbWVzWzBdKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBNYXliZSBXZWJQIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGJyb3dzZXIuJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHdpZHRoID0gZnJhbWVzWzBdLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IGZyYW1lc1swXS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBmcmFtZXNbMF0uZHVyYXRpb247XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gZnJhbWVzW2ldLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbnVtVG9CdWZmZXIobnVtKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChudW0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChudW0gJiAweGZmKTtcbiAgICAgICAgICAgICAgICBudW0gPSBudW0gPj4gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShwYXJ0cy5yZXZlcnNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RyVG9CdWZmZXIoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc3RyLnNwbGl0KCcnKS5tYXAoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBiaXRzVG9CdWZmZXIoYml0cykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgICAgICAgIHZhciBwYWQgPSAoYml0cy5sZW5ndGggJSA4KSA/IChuZXcgQXJyYXkoMSArIDggLSAoYml0cy5sZW5ndGggJSA4KSkpLmpvaW4oJzAnKSA6ICcnO1xuICAgICAgICAgICAgYml0cyA9IHBhZCArIGJpdHM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpdHMubGVuZ3RoOyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2gocGFyc2VJbnQoYml0cy5zdWJzdHIoaSwgOCksIDIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlRUJNTChqc29uKSB7XG4gICAgICAgICAgICB2YXIgZWJtbCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uW2ldLmRhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBnZW5lcmF0ZUVCTUwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gYml0c1RvQnVmZmVyKGRhdGEudG9TdHJpbmcoMikpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHN0clRvQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBkYXRhLnNpemUgfHwgZGF0YS5ieXRlTGVuZ3RoIHx8IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciB6ZXJvZXMgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubG9nKGxlbikgLyBNYXRoLmxvZygyKSkgLyA4KTtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVRvU3RyaW5nID0gbGVuLnRvU3RyaW5nKDIpO1xuICAgICAgICAgICAgICAgIHZhciBwYWRkZWQgPSAobmV3IEFycmF5KCh6ZXJvZXMgKiA3ICsgNyArIDEpIC0gc2l6ZVRvU3RyaW5nLmxlbmd0aCkpLmpvaW4oJzAnKSArIHNpemVUb1N0cmluZztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IChuZXcgQXJyYXkoemVyb2VzKSkuam9pbignMCcpICsgJzEnICsgcGFkZGVkO1xuXG4gICAgICAgICAgICAgICAgZWJtbC5wdXNoKG51bVRvQnVmZmVyKGpzb25baV0uaWQpKTtcbiAgICAgICAgICAgICAgICBlYm1sLnB1c2goYml0c1RvQnVmZmVyKHNpemUpKTtcbiAgICAgICAgICAgICAgICBlYm1sLnB1c2goZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihlYm1sLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvL3dlYm0nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRvQmluU3RyT2xkKGJpdHMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gJyc7XG4gICAgICAgICAgICB2YXIgcGFkID0gKGJpdHMubGVuZ3RoICUgOCkgPyAobmV3IEFycmF5KDEgKyA4IC0gKGJpdHMubGVuZ3RoICUgOCkpKS5qb2luKCcwJykgOiAnJztcbiAgICAgICAgICAgIGJpdHMgPSBwYWQgKyBiaXRzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzLmxlbmd0aDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgZGF0YSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJpdHMuc3Vic3RyKGksIDgpLCAyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VTaW1wbGVCbG9jayhkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSAwO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5rZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzIHw9IDEyODtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEuaW52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gODtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEubGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gKGRhdGEubGFjaW5nIDw8IDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS5kaXNjYXJkYWJsZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzIHw9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnRyYWNrTnVtID4gMTI3KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ1RyYWNrTnVtYmVyID4gMTI3IG5vdCBzdXBwb3J0ZWQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgb3V0ID0gW2RhdGEudHJhY2tOdW0gfCAweDgwLCBkYXRhLnRpbWVjb2RlID4+IDgsIGRhdGEudGltZWNvZGUgJiAweGZmLCBmbGFnc10ubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlKTtcbiAgICAgICAgICAgIH0pLmpvaW4oJycpICsgZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlV2ViUChyaWZmKSB7XG4gICAgICAgICAgICB2YXIgVlA4ID0gcmlmZi5SSUZGWzBdLldFQlBbMF07XG5cbiAgICAgICAgICAgIHZhciBmcmFtZVN0YXJ0ID0gVlA4LmluZGV4T2YoJ1xceDlkXFx4MDFcXHgyYScpOyAvLyBBIFZQOCBrZXlmcmFtZSBzdGFydHMgd2l0aCB0aGUgMHg5ZDAxMmEgaGVhZGVyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IFtdOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY1tpXSA9IFZQOC5jaGFyQ29kZUF0KGZyYW1lU3RhcnQgKyAzICsgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB3aWR0aCwgaGVpZ2h0LCB0bXA7XG5cbiAgICAgICAgICAgIC8vdGhlIGNvZGUgYmVsb3cgaXMgbGl0ZXJhbGx5IGNvcGllZCB2ZXJiYXRpbSBmcm9tIHRoZSBiaXRzdHJlYW0gc3BlY1xuICAgICAgICAgICAgdG1wID0gKGNbMV0gPDwgOCkgfCBjWzBdO1xuICAgICAgICAgICAgd2lkdGggPSB0bXAgJiAweDNGRkY7XG4gICAgICAgICAgICB0bXAgPSAoY1szXSA8PCA4KSB8IGNbMl07XG4gICAgICAgICAgICBoZWlnaHQgPSB0bXAgJiAweDNGRkY7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBkYXRhOiBWUDgsXG4gICAgICAgICAgICAgICAgcmlmZjogcmlmZlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFN0ckxlbmd0aChzdHJpbmcsIG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZy5zdWJzdHIob2Zmc2V0ICsgNCwgNCkuc3BsaXQoJycpLm1hcChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVucGFkZGVkID0gaS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDIpO1xuICAgICAgICAgICAgICAgIHJldHVybiAobmV3IEFycmF5KDggLSB1bnBhZGRlZC5sZW5ndGggKyAxKSkuam9pbignMCcpICsgdW5wYWRkZWQ7XG4gICAgICAgICAgICB9KS5qb2luKCcnKSwgMik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwYXJzZVJJRkYoc3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBjaHVua3MgPSB7fTtcblxuICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBzdHJpbmcuc3Vic3RyKG9mZnNldCwgNCk7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IGdldFN0ckxlbmd0aChzdHJpbmcsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzdHJpbmcuc3Vic3RyKG9mZnNldCArIDQgKyA0LCBsZW4pO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0ICsgNCArIGxlbjtcbiAgICAgICAgICAgICAgICBjaHVua3NbaWRdID0gY2h1bmtzW2lkXSB8fCBbXTtcblxuICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gJ1JJRkYnIHx8IGlkID09PSAnTElTVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzW2lkXS5wdXNoKHBhcnNlUklGRihkYXRhKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzW2lkXS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaHVua3M7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb3VibGVUb1N0cmluZyhudW0pIHtcbiAgICAgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKFxuICAgICAgICAgICAgICAgIG5ldyBVaW50OEFycmF5KChuZXcgRmxvYXQ2NEFycmF5KFtudW1dKSkuYnVmZmVyKSwgMCkubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlKTtcbiAgICAgICAgICAgIH0pLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ZWJtID0gbmV3IEFycmF5VG9XZWJNKGZyYW1lcy5tYXAoZnVuY3Rpb24oZnJhbWUpIHtcbiAgICAgICAgICAgIHZhciB3ZWJwID0gcGFyc2VXZWJQKHBhcnNlUklGRihhdG9iKGZyYW1lLmltYWdlLnNsaWNlKDIzKSkpKTtcbiAgICAgICAgICAgIHdlYnAuZHVyYXRpb24gPSBmcmFtZS5kdXJhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB3ZWJwO1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcG9zdE1lc3NhZ2Uod2VibSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBmcmFtZXMgaW4gV2ViTSBjb250YWluZXIuIEl0IHVzZXMgV2ViV29ya2ludm9rZSB0byBpbnZva2UgJ0FycmF5VG9XZWJNJyBtZXRob2QuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiwgdGhhdCBpcyB1c2VkIHRvIHBhc3MgcmVjb3JkZWQgYmxvYiBiYWNrIHRvIHRoZSBjYWxsZWUuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBXaGFtbXlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyID0gbmV3IFdoYW1teSgpLlZpZGVvKDAuOCwgMTAwKTtcbiAgICAgKiByZWNvcmRlci5jb21waWxlKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgKiAgICAvLyBibG9iLnNpemUgLSBibG9iLnR5cGVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBXaGFtbXlWaWRlby5wcm90b3R5cGUuY29tcGlsZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB3ZWJXb3JrZXIgPSBwcm9jZXNzSW5XZWJXb3JrZXIod2hhbW15SW5XZWJXb3JrZXIpO1xuXG4gICAgICAgIHdlYldvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGV2ZW50LmRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LmRhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdlYldvcmtlci5wb3N0TWVzc2FnZSh0aGlzLmZyYW1lcyk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1vcmUgYWJzdHJhY3QtaXNoIEFQSS5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgV2hhbW15XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlY29yZGVyID0gbmV3IFdoYW1teSgpLlZpZGVvKDAuOCwgMTAwKTtcbiAgICAgICAgICogQHBhcmFtIHs/bnVtYmVyfSBzcGVlZCAtIDAuOFxuICAgICAgICAgKiBAcGFyYW0gez9udW1iZXJ9IHF1YWxpdHkgLSAxMDBcbiAgICAgICAgICovXG4gICAgICAgIFZpZGVvOiBXaGFtbXlWaWRlb1xuICAgIH07XG59KSgpO1xuXG5pZiAodHlwZW9mIFJlY29yZFJUQyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBSZWNvcmRSVEMuV2hhbW15ID0gV2hhbW15O1xufVxuXG4vLyBfX19fX19fX19fX19fXyAoaW5kZXhlZC1kYilcbi8vIERpc2tTdG9yYWdlLmpzXG5cbi8qKlxuICogRGlza1N0b3JhZ2UgaXMgYSBzdGFuZGFsb25lIG9iamVjdCB1c2VkIGJ5IHtAbGluayBSZWNvcmRSVEN9IHRvIHN0b3JlIHJlY29yZGVkIGJsb2JzIGluIEluZGV4ZWREQiBzdG9yYWdlLlxuICogQHN1bW1hcnkgV3JpdGluZyBibG9icyBpbnRvIEluZGV4ZWREQi5cbiAqIEBsaWNlbnNlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQyNsaWNlbnNlfE1JVH1cbiAqIEBhdXRob3Ige0BsaW5rIGh0dHA6Ly93d3cuTXVhektoYW4uY29tfE11YXogS2hhbn1cbiAqIEBleGFtcGxlXG4gKiBEaXNrU3RvcmFnZS5TdG9yZSh7XG4gKiAgICAgYXVkaW9CbG9iOiB5b3VyQXVkaW9CbG9iLFxuICogICAgIHZpZGVvQmxvYjogeW91clZpZGVvQmxvYixcbiAqICAgICBnaWZCbG9iICA6IHlvdXJHaWZCbG9iXG4gKiB9KTtcbiAqIERpc2tTdG9yYWdlLkZldGNoKGZ1bmN0aW9uKGRhdGFVUkwsIHR5cGUpIHtcbiAqICAgICBpZih0eXBlID09PSAnYXVkaW9CbG9iJykgeyB9XG4gKiAgICAgaWYodHlwZSA9PT0gJ3ZpZGVvQmxvYicpIHsgfVxuICogICAgIGlmKHR5cGUgPT09ICdnaWZCbG9iJykgICB7IH1cbiAqIH0pO1xuICogLy8gRGlza1N0b3JhZ2UuZGF0YVN0b3JlTmFtZSA9ICdyZWNvcmRSVEMnO1xuICogLy8gRGlza1N0b3JhZ2Uub25FcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7IH07XG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgb25jZSB0byBpbml0aWFsaXplIEluZGV4ZWREQiBPYmplY3RTdG9yZS4gVGhvdWdoLCBpdCBpcyBhdXRvLXVzZWQgaW50ZXJuYWxseS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IEZldGNoIC0gVGhpcyBtZXRob2QgZmV0Y2hlcyBzdG9yZWQgYmxvYnMgZnJvbSBJbmRleGVkREIuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBTdG9yZSAtIFRoaXMgbWV0aG9kIHN0b3JlcyBibG9icyBpbiBJbmRleGVkREIuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBvbkVycm9yIC0gVGhpcyBmdW5jdGlvbiBpcyBpbnZva2VkIGZvciBhbnkga25vd24vdW5rbm93biBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkYXRhU3RvcmVOYW1lIC0gTmFtZSBvZiB0aGUgT2JqZWN0U3RvcmUgY3JlYXRlZCBpbiBJbmRleGVkREIgc3RvcmFnZS5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDfFJlY29yZFJUQyBTb3VyY2UgQ29kZX1cbiAqL1xuXG5cbnZhciBEaXNrU3RvcmFnZSA9IHtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBvbmNlIHRvIGluaXRpYWxpemUgSW5kZXhlZERCIE9iamVjdFN0b3JlLiBUaG91Z2gsIGl0IGlzIGF1dG8tdXNlZCBpbnRlcm5hbGx5LlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgRGlza1N0b3JhZ2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIERpc2tTdG9yYWdlLmluaXQoKTtcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXhlZERCID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgaW5kZXhlZERCLm9wZW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbmRleGVkREIgQVBJIGFyZSBub3QgYXZhaWxhYmxlIGluIHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYlZlcnNpb24gPSAxO1xuICAgICAgICB2YXIgZGJOYW1lID0gdGhpcy5kYk5hbWUgfHwgbG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXC98OnwjfCV8XFwufFxcW3xcXF0vZywgJycpLFxuICAgICAgICAgICAgZGI7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBkYlZlcnNpb24pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFN0b3JlKGRhdGFCYXNlKSB7XG4gICAgICAgICAgICBkYXRhQmFzZS5jcmVhdGVPYmplY3RTdG9yZShzZWxmLmRhdGFTdG9yZU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcHV0SW5EQigpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFtzZWxmLmRhdGFTdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLnZpZGVvQmxvYikge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuZGF0YVN0b3JlTmFtZSkucHV0KHNlbGYudmlkZW9CbG9iLCAndmlkZW9CbG9iJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmdpZkJsb2IpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLmRhdGFTdG9yZU5hbWUpLnB1dChzZWxmLmdpZkJsb2IsICdnaWZCbG9iJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmF1ZGlvQmxvYikge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuZGF0YVN0b3JlTmFtZSkucHV0KHNlbGYuYXVkaW9CbG9iLCAnYXVkaW9CbG9iJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZyb21TdG9yZShwb3J0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuZGF0YVN0b3JlTmFtZSkuZ2V0KHBvcnRpb25OYW1lKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxsYmFjayhldmVudC50YXJnZXQucmVzdWx0LCBwb3J0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRGcm9tU3RvcmUoJ2F1ZGlvQmxvYicpO1xuICAgICAgICAgICAgZ2V0RnJvbVN0b3JlKCd2aWRlb0Jsb2InKTtcbiAgICAgICAgICAgIGdldEZyb21TdG9yZSgnZ2lmQmxvYicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gc2VsZi5vbkVycm9yO1xuXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYiA9IHJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgICAgZGIub25lcnJvciA9IHNlbGYub25FcnJvcjtcblxuICAgICAgICAgICAgaWYgKGRiLnNldFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGIudmVyc2lvbiAhPT0gZGJWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRWZXJzaW9uID0gZGIuc2V0VmVyc2lvbihkYlZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICBzZXRWZXJzaW9uLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlT2JqZWN0U3RvcmUoZGIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0SW5EQigpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHB1dEluREIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1dEluREIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgY3JlYXRlT2JqZWN0U3RvcmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBmZXRjaGVzIHN0b3JlZCBibG9icyBmcm9tIEluZGV4ZWREQi5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIERpc2tTdG9yYWdlXG4gICAgICogQGludGVybmFsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBEaXNrU3RvcmFnZS5GZXRjaChmdW5jdGlvbihkYXRhVVJMLCB0eXBlKSB7XG4gICAgICogICAgIGlmKHR5cGUgPT09ICdhdWRpb0Jsb2InKSB7IH1cbiAgICAgKiAgICAgaWYodHlwZSA9PT0gJ3ZpZGVvQmxvYicpIHsgfVxuICAgICAqICAgICBpZih0eXBlID09PSAnZ2lmQmxvYicpICAgeyB9XG4gICAgICogfSk7XG4gICAgICovXG4gICAgRmV0Y2g6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBzdG9yZXMgYmxvYnMgaW4gSW5kZXhlZERCLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgRGlza1N0b3JhZ2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIERpc2tTdG9yYWdlLlN0b3JlKHtcbiAgICAgKiAgICAgYXVkaW9CbG9iOiB5b3VyQXVkaW9CbG9iLFxuICAgICAqICAgICB2aWRlb0Jsb2I6IHlvdXJWaWRlb0Jsb2IsXG4gICAgICogICAgIGdpZkJsb2IgIDogeW91ckdpZkJsb2JcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBTdG9yZTogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuYXVkaW9CbG9iID0gY29uZmlnLmF1ZGlvQmxvYjtcbiAgICAgICAgdGhpcy52aWRlb0Jsb2IgPSBjb25maWcudmlkZW9CbG9iO1xuICAgICAgICB0aGlzLmdpZkJsb2IgPSBjb25maWcuZ2lmQmxvYjtcblxuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgaW52b2tlZCBmb3IgYW55IGtub3duL3Vua25vd24gZXJyb3IuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBEaXNrU3RvcmFnZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBleGFtcGxlXG4gICAgICogRGlza1N0b3JhZ2Uub25FcnJvciA9IGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgKiAgICAgYWxlcm90KCBKU09OLnN0cmluZ2lmeShlcnJvcikgKTtcbiAgICAgKiB9O1xuICAgICAqL1xuICAgIG9uRXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyb3IsIG51bGwsICdcXHQnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkYXRhU3RvcmVOYW1lIC0gTmFtZSBvZiB0aGUgT2JqZWN0U3RvcmUgY3JlYXRlZCBpbiBJbmRleGVkREIgc3RvcmFnZS5cbiAgICAgKiBAbWVtYmVyb2YgRGlza1N0b3JhZ2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIERpc2tTdG9yYWdlLmRhdGFTdG9yZU5hbWUgPSAncmVjb3JkUlRDJztcbiAgICAgKi9cbiAgICBkYXRhU3RvcmVOYW1lOiAncmVjb3JkUlRDJyxcbiAgICBkYk5hbWU6IG51bGxcbn07XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5EaXNrU3RvcmFnZSA9IERpc2tTdG9yYWdlO1xufVxuXG4vLyBfX19fX19fX19fX19fX1xuLy8gR2lmUmVjb3JkZXIuanNcblxuLyoqXG4gKiBHaWZSZWNvcmRlciBpcyBzdGFuZGFsb25lIGNhbHNzIHVzZWQgYnkge0BsaW5rIFJlY29yZFJUQ30gdG8gcmVjb3JkIHZpZGVvIG9yIGNhbnZhcyBpbnRvIGFuaW1hdGVkIGdpZi5cbiAqIEBsaWNlbnNlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQyNsaWNlbnNlfE1JVH1cbiAqIEBhdXRob3Ige0BsaW5rIGh0dHA6Ly93d3cuTXVhektoYW4uY29tfE11YXogS2hhbn1cbiAqIEB0eXBlZGVmIEdpZlJlY29yZGVyXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgcmVjb3JkZXIgPSBuZXcgR2lmUmVjb3JkZXIobWVkaWFTdHJlYW0gfHwgY2FudmFzIHx8IGNvbnRleHQsIHsgd2lkdGg6IDEyODAsIGhlaWdodDogNzIwLCBmcmFtZVJhdGU6IDIwMCwgcXVhbGl0eTogMTAgfSk7XG4gKiByZWNvcmRlci5yZWNvcmQoKTtcbiAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICogICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICogfSk7XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQ3xSZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBtZWRpYVN0cmVhbSAtIE1lZGlhU3RyZWFtIG9iamVjdCBvciBIVE1MQ2FudmFzRWxlbWVudCBvciBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0ge2Rpc2FibGVMb2dzOnRydWUsIGluaXRDYWxsYmFjazogZnVuY3Rpb24sIHdpZHRoOiAzMjAsIGhlaWdodDogMjQwLCBmcmFtZVJhdGU6IDIwMCwgcXVhbGl0eTogMTB9XG4gKi9cblxuZnVuY3Rpb24gR2lmUmVjb3JkZXIobWVkaWFTdHJlYW0sIGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgR0lGRW5jb2RlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgJ1BsZWFzZSBsaW5rOiBodHRwczovL2Nkbi53ZWJydGMtZXhwZXJpbWVudC5jb20vZ2lmLXJlY29yZGVyLmpzJztcbiAgICB9XG5cbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgICB2YXIgaXNIVE1MT2JqZWN0ID0gbWVkaWFTdHJlYW0gaW5zdGFuY2VvZiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfHwgbWVkaWFTdHJlYW0gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY29yZHMgTWVkaWFTdHJlYW0uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBHaWZSZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVjb3JkKCk7XG4gICAgICovXG4gICAgdGhpcy5yZWNvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFpc0hUTUxPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLndpZHRoID0gdmlkZW8ub2Zmc2V0V2lkdGggfHwgMzIwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmhlaWdodCA9IHZpZGVvLm9mZnNldEhlaWdodCB8fCAyNDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY29uZmlnLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnZpZGVvID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29uZmlnLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNvbmZpZy5jYW52YXMpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuY2FudmFzID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29uZmlnLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBjb25maWcuY2FudmFzLndpZHRoIHx8IDMyMDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjb25maWcuY2FudmFzLmhlaWdodCB8fCAyNDA7XG5cbiAgICAgICAgICAgIHZpZGVvLndpZHRoID0gY29uZmlnLnZpZGVvLndpZHRoIHx8IDMyMDtcbiAgICAgICAgICAgIHZpZGVvLmhlaWdodCA9IGNvbmZpZy52aWRlby5oZWlnaHQgfHwgMjQwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXh0ZXJuYWwgbGlicmFyeSB0byByZWNvcmQgYXMgR0lGIGltYWdlc1xuICAgICAgICBnaWZFbmNvZGVyID0gbmV3IEdJRkVuY29kZXIoKTtcblxuICAgICAgICAvLyB2b2lkIHNldFJlcGVhdChpbnQgaXRlcikgXG4gICAgICAgIC8vIFNldHMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgc2V0IG9mIEdJRiBmcmFtZXMgc2hvdWxkIGJlIHBsYXllZC4gXG4gICAgICAgIC8vIERlZmF1bHQgaXMgMTsgMCBtZWFucyBwbGF5IGluZGVmaW5pdGVseS5cbiAgICAgICAgZ2lmRW5jb2Rlci5zZXRSZXBlYXQoMCk7XG5cbiAgICAgICAgLy8gdm9pZCBzZXRGcmFtZVJhdGUoTnVtYmVyIGZwcykgXG4gICAgICAgIC8vIFNldHMgZnJhbWUgcmF0ZSBpbiBmcmFtZXMgcGVyIHNlY29uZC4gXG4gICAgICAgIC8vIEVxdWl2YWxlbnQgdG8gc2V0RGVsYXkoMTAwMC9mcHMpLlxuICAgICAgICAvLyBVc2luZyBcInNldERlbGF5XCIgaW5zdGVhZCBvZiBcInNldEZyYW1lUmF0ZVwiXG4gICAgICAgIGdpZkVuY29kZXIuc2V0RGVsYXkoY29uZmlnLmZyYW1lUmF0ZSB8fCAyMDApO1xuXG4gICAgICAgIC8vIHZvaWQgc2V0UXVhbGl0eShpbnQgcXVhbGl0eSkgXG4gICAgICAgIC8vIFNldHMgcXVhbGl0eSBvZiBjb2xvciBxdWFudGl6YXRpb24gKGNvbnZlcnNpb24gb2YgaW1hZ2VzIHRvIHRoZSBcbiAgICAgICAgLy8gbWF4aW11bSAyNTYgY29sb3JzIGFsbG93ZWQgYnkgdGhlIEdJRiBzcGVjaWZpY2F0aW9uKS4gXG4gICAgICAgIC8vIExvd2VyIHZhbHVlcyAobWluaW11bSA9IDEpIHByb2R1Y2UgYmV0dGVyIGNvbG9ycywgXG4gICAgICAgIC8vIGJ1dCBzbG93IHByb2Nlc3Npbmcgc2lnbmlmaWNhbnRseS4gMTAgaXMgdGhlIGRlZmF1bHQsIFxuICAgICAgICAvLyBhbmQgcHJvZHVjZXMgZ29vZCBjb2xvciBtYXBwaW5nIGF0IHJlYXNvbmFibGUgc3BlZWRzLiBcbiAgICAgICAgLy8gVmFsdWVzIGdyZWF0ZXIgdGhhbiAyMCBkbyBub3QgeWllbGQgc2lnbmlmaWNhbnQgaW1wcm92ZW1lbnRzIGluIHNwZWVkLlxuICAgICAgICBnaWZFbmNvZGVyLnNldFF1YWxpdHkoY29uZmlnLnF1YWxpdHkgfHwgMTApO1xuXG4gICAgICAgIC8vIEJvb2xlYW4gc3RhcnQoKSBcbiAgICAgICAgLy8gVGhpcyB3cml0ZXMgdGhlIEdJRiBIZWFkZXIgYW5kIHJldHVybnMgZmFsc2UgaWYgaXQgZmFpbHMuXG4gICAgICAgIGdpZkVuY29kZXIuc3RhcnQoKTtcblxuICAgICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBmdW5jdGlvbiBkcmF3VmlkZW9GcmFtZSh0aW1lKSB7XG4gICAgICAgICAgICBpZiAoaXNQYXVzZWRSZWNvcmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1ZpZGVvRnJhbWUodGltZSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdWaWRlb0ZyYW1lKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXN0RnJhbWVUaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXN0RnJhbWVUaW1lID0gdGltZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gfjEwIGZwc1xuICAgICAgICAgICAgaWYgKHRpbWUgLSBsYXN0RnJhbWVUaW1lIDwgOTApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNIVE1MT2JqZWN0ICYmIHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgIC8vIHZpYTogaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9XZWJSVEMtRXhwZXJpbWVudC9wdWxsLzMxNlxuICAgICAgICAgICAgICAgIC8vIFR3ZWFrIGZvciBBbmRyb2lkIENocm9tZVxuICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc0hUTUxPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5vbkdpZlByZXZpZXcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcub25HaWZQcmV2aWV3KGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2lmRW5jb2Rlci5hZGRGcmFtZShjb250ZXh0KTtcbiAgICAgICAgICAgIGxhc3RGcmFtZVRpbWUgPSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdWaWRlb0ZyYW1lKTtcblxuICAgICAgICBpZiAoY29uZmlnLmluaXRDYWxsYmFjaykge1xuICAgICAgICAgICAgY29uZmlnLmluaXRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHJlY29yZGluZyBNZWRpYVN0cmVhbS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uLCB0aGF0IGlzIHVzZWQgdG8gcGFzcyByZWNvcmRlZCBibG9iIGJhY2sgdG8gdGhlIGNhbGxlZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEdpZlJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5zdG9wKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgKiAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChsYXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3RBbmltYXRpb25GcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3BlcnR5IHtCbG9ifSBibG9iIC0gVGhlIHJlY29yZGVkIGJsb2Igb2JqZWN0LlxuICAgICAgICAgKiBAbWVtYmVyb2YgR2lmUmVjb3JkZXJcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVjb3JkZXIuc3RvcChmdW5jdGlvbigpe1xuICAgICAgICAgKiAgICAgdmFyIGJsb2IgPSByZWNvcmRlci5ibG9iO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxvYiA9IG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShnaWZFbmNvZGVyLnN0cmVhbSgpLmJpbildLCB7XG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UvZ2lmJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBidWc6IGZpbmQgYSB3YXkgdG8gY2xlYXIgb2xkIHJlY29yZGVkIGJsb2JzXG4gICAgICAgIGdpZkVuY29kZXIuc3RyZWFtKCkuYmluID0gW107XG4gICAgfTtcblxuICAgIHZhciBpc1BhdXNlZFJlY29yZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcGF1c2VzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEdpZlJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5wYXVzZSgpO1xuICAgICAqL1xuICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNQYXVzZWRSZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXN1bWVzIHRoZSByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIEdpZlJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5yZXN1bWUoKTtcbiAgICAgKi9cbiAgICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpc1BhdXNlZFJlY29yZGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXNldHMgY3VycmVudGx5IHJlY29yZGVkIGRhdGEuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBHaWZSZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyUmVjb3JkZWREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZ2lmRW5jb2Rlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuXG4gICAgICAgIGdpZkVuY29kZXIuc3RyZWFtKCkuYmluID0gW107XG4gICAgfTtcblxuICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICB0aGlzLm5hbWUgPSAnR2lmUmVjb3JkZXInO1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBpZiAoaXNIVE1MT2JqZWN0KSB7XG4gICAgICAgIGlmIChtZWRpYVN0cmVhbSBpbnN0YW5jZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICAgICAgY29udGV4dCA9IG1lZGlhU3RyZWFtO1xuICAgICAgICAgICAgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFTdHJlYW0gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgY29udGV4dCA9IG1lZGlhU3RyZWFtLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBjYW52YXMgPSBtZWRpYVN0cmVhbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNIVE1MT2JqZWN0KSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdmlkZW8uYXV0b3BsYXkgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8uc3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmlkZW8uc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aWRlby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1lZGlhU3RyZWFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICB9XG5cbiAgICB2YXIgbGFzdEFuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgICB2YXIgc3RhcnRUaW1lLCBlbmRUaW1lLCBsYXN0RnJhbWVUaW1lO1xuXG4gICAgdmFyIGdpZkVuY29kZXI7XG59XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5HaWZSZWNvcmRlciA9IEdpZlJlY29yZGVyO1xufVxuXG4vLyBfX19fX19fX19fX19fX19fX19fX19fXG4vLyBNdWx0aVN0cmVhbVJlY29yZGVyLmpzXG5cbi8qXG4gKiBWaWRlbyBjb25mZXJlbmNlIHJlY29yZGluZywgdXNpbmcgY2FwdHVyZVN0cmVhbSBBUEkgYWxvbmcgd2l0aCBXZWJBdWRpbyBhbmQgQ2FudmFzMkQgQVBJLlxuICovXG5cbi8qKlxuICogTXVsdGlTdHJlYW1SZWNvcmRlciBjYW4gcmVjb3JkIG11bHRpcGxlIHZpZGVvcyBpbiBzaW5nbGUgY29udGFpbmVyLlxuICogQHN1bW1hcnkgTXVsdGktdmlkZW9zIHJlY29yZGVyLlxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgTXVsdGlTdHJlYW1SZWNvcmRlclxuICogQGNsYXNzXG4gKiBAZXhhbXBsZVxuICogdmFyIG9wdGlvbnMgPSB7XG4gKiAgICAgbWltZVR5cGU6ICd2aWRlby93ZWJtJ1xuICogfVxuICogdmFyIHJlY29yZGVyID0gbmV3IE11bHRpU3RyZWFtUmVjb3JkZXIoQXJyYXlPZk1lZGlhU3RyZWFtcywgb3B0aW9ucyk7XG4gKiByZWNvcmRlci5yZWNvcmQoKTtcbiAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICogICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gKlxuICogICAgIC8vIG9yXG4gKiAgICAgdmFyIGJsb2IgPSByZWNvcmRlci5ibG9iO1xuICogfSk7XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQ3xSZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtc30gbWVkaWFTdHJlYW1zIC0gQXJyYXkgb2YgTWVkaWFTdHJlYW1zLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIHtkaXNhYmxlTG9nczp0cnVlLCBmcmFtZUludGVydmFsOiAxLCBtaW1lVHlwZTogXCJ2aWRlby93ZWJtXCJ9XG4gKi9cblxuZnVuY3Rpb24gTXVsdGlTdHJlYW1SZWNvcmRlcihhcnJheU9mTWVkaWFTdHJlYW1zLCBvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm0nLFxuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgd2lkdGg6IDM2MCxcbiAgICAgICAgICAgIGhlaWdodDogMjQwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFvcHRpb25zLmZyYW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgb3B0aW9ucy5mcmFtZUludGVydmFsID0gMTA7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLnZpZGVvKSB7XG4gICAgICAgIG9wdGlvbnMudmlkZW8gPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMudmlkZW8ud2lkdGgpIHtcbiAgICAgICAgb3B0aW9ucy52aWRlby53aWR0aCA9IDM2MDtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMudmlkZW8uaGVpZ2h0KSB7XG4gICAgICAgIG9wdGlvbnMudmlkZW8uaGVpZ2h0ID0gMjQwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlY29yZHMgYWxsIE1lZGlhU3RyZWFtcy5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE11bHRpU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnJlY29yZCgpO1xuICAgICAqL1xuICAgIHRoaXMucmVjb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzU3RvcHBlZFJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgbWl4ZWRWaWRlb1N0cmVhbSA9IGdldE1peGVkVmlkZW9TdHJlYW0oKTtcblxuICAgICAgICB2YXIgbWl4ZWRBdWRpb1N0cmVhbSA9IGdldE1peGVkQXVkaW9TdHJlYW0oKTtcbiAgICAgICAgaWYgKG1peGVkQXVkaW9TdHJlYW0pIHtcbiAgICAgICAgICAgIG1peGVkQXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgbWl4ZWRWaWRlb1N0cmVhbS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnByZXZpZXdTdHJlYW0gJiYgdHlwZW9mIG9wdGlvbnMucHJldmlld1N0cmVhbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb3B0aW9ucy5wcmV2aWV3U3RyZWFtKG1peGVkVmlkZW9TdHJlYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVN0cmVhbVJlY29yZGVyKG1peGVkVmlkZW9TdHJlYW0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGRyYXdWaWRlb3NUb0NhbnZhcygpO1xuXG4gICAgICAgIG1lZGlhUmVjb3JkZXIucmVjb3JkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHJlY29yZGluZyBNZWRpYVN0cmVhbS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uLCB0aGF0IGlzIHVzZWQgdG8gcGFzcyByZWNvcmRlZCBibG9iIGJhY2sgdG8gdGhlIGNhbGxlZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIE11bHRpU3RyZWFtUmVjb3JkZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICAgICAqICAgICB2aWRlby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlzU3RvcHBlZFJlY29yZGluZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtZWRpYVJlY29yZGVyLnN0b3AoZnVuY3Rpb24oYmxvYikge1xuICAgICAgICAgICAgc2VsZi5ibG9iID0gYmxvYjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FsbGJhY2soYmxvYik7XG5cbiAgICAgICAgICAgIHNlbGYuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldE1peGVkQXVkaW9TdHJlYW0oKSB7XG4gICAgICAgIC8vIHZpYTogQHBlaHJzb25zXG4gICAgICAgIGlmICghU3RvcmFnZS5BdWRpb0NvbnRleHRDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgU3RvcmFnZS5BdWRpb0NvbnRleHRDb25zdHJ1Y3RvciA9IG5ldyBTdG9yYWdlLkF1ZGlvQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5hdWRpb0NvbnRleHQgPSBTdG9yYWdlLkF1ZGlvQ29udGV4dENvbnN0cnVjdG9yO1xuXG4gICAgICAgIHNlbGYuYXVkaW9Tb3VyY2VzID0gW107XG5cbiAgICAgICAgc2VsZi5nYWluTm9kZSA9IHNlbGYuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgc2VsZi5nYWluTm9kZS5jb25uZWN0KHNlbGYuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgc2VsZi5nYWluTm9kZS5nYWluLnZhbHVlID0gMDsgLy8gZG9uJ3QgaGVhciBzZWxmXG5cbiAgICAgICAgdmFyIGF1ZGlvVHJhY2tzTGVuZ3RoID0gMDtcbiAgICAgICAgYXJyYXlPZk1lZGlhU3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKCFzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzTGVuZ3RoKys7XG5cbiAgICAgICAgICAgIHZhciBhdWRpb1NvdXJjZSA9IHNlbGYuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSk7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5jb25uZWN0KHNlbGYuZ2Fpbk5vZGUpO1xuICAgICAgICAgICAgc2VsZi5hdWRpb1NvdXJjZXMucHVzaChhdWRpb1NvdXJjZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghYXVkaW9UcmFja3NMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuYXVkaW9EZXN0aW5hdGlvbiA9IHNlbGYuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtcbiAgICAgICAgc2VsZi5hdWRpb1NvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihhdWRpb1NvdXJjZSkge1xuICAgICAgICAgICAgYXVkaW9Tb3VyY2UuY29ubmVjdChzZWxmLmF1ZGlvRGVzdGluYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGYuYXVkaW9EZXN0aW5hdGlvbi5zdHJlYW07XG4gICAgfVxuXG4gICAgdmFyIHZpZGVvcyA9IFtdO1xuICAgIHZhciBtZWRpYVJlY29yZGVyO1xuXG4gICAgZnVuY3Rpb24gcmVzZXRWaWRlb1N0cmVhbXMoc3RyZWFtcykge1xuICAgICAgICB2aWRlb3MgPSBbXTtcbiAgICAgICAgc3RyZWFtcyA9IHN0cmVhbXMgfHwgYXJyYXlPZk1lZGlhU3RyZWFtcztcblxuICAgICAgICAvLyB2aWE6IEBhZHJpYW4tYmVyXG4gICAgICAgIHN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmICghc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmlkZW8gPSBnZXRWaWRlbyhzdHJlYW0pO1xuICAgICAgICAgICAgdmlkZW8ud2lkdGggPSBvcHRpb25zLnZpZGVvLndpZHRoO1xuICAgICAgICAgICAgdmlkZW8uaGVpZ2h0ID0gb3B0aW9ucy52aWRlby5oZWlnaHQ7XG4gICAgICAgICAgICB2aWRlby5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICB2aWRlb3MucHVzaCh2aWRlbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE1peGVkVmlkZW9TdHJlYW0oKSB7XG4gICAgICAgIHJlc2V0VmlkZW9TdHJlYW1zKCk7XG5cbiAgICAgICAgdmFyIGNhcHR1cmVkU3RyZWFtO1xuXG4gICAgICAgIGlmICgnY2FwdHVyZVN0cmVhbScgaW4gY2FudmFzKSB7XG4gICAgICAgICAgICBjYXB0dXJlZFN0cmVhbSA9IGNhbnZhcy5jYXB0dXJlU3RyZWFtKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ21vekNhcHR1cmVTdHJlYW0nIGluIGNhbnZhcykge1xuICAgICAgICAgICAgY2FwdHVyZWRTdHJlYW0gPSBjYW52YXMubW96Q2FwdHVyZVN0cmVhbSgpO1xuICAgICAgICB9IGVsc2UgaWYgKCFvcHRpb25zLmRpc2FibGVMb2dzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVcGdyYWRlIHRvIGxhdGVzdCBDaHJvbWUgb3Igb3RoZXJ3aXNlIGVuYWJsZSB0aGlzIGZsYWc6IGNocm9tZTovL2ZsYWdzLyNlbmFibGUtZXhwZXJpbWVudGFsLXdlYi1wbGF0Zm9ybS1mZWF0dXJlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZpZGVvU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG5cbiAgICAgICAgLy8gdmlhIHN0cmVhbXByb2MvTWVkaWFTdHJlYW1SZWNvcmRlciMxMjZcbiAgICAgICAgY2FwdHVyZWRTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICB2aWRlb1N0cmVhbS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbnZhcy5zdHJlYW0gPSB2aWRlb1N0cmVhbTtcblxuICAgICAgICByZXR1cm4gdmlkZW9TdHJlYW07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmlkZW8oc3RyZWFtKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHZpZGVvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbiAgICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgICB2aWRlby52b2x1bWUgPSAwO1xuICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICAgIHJldHVybiB2aWRlbztcbiAgICB9XG5cbiAgICB2YXIgaXNTdG9wcGVkUmVjb3JkaW5nID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkcmF3VmlkZW9zVG9DYW52YXMoKSB7XG4gICAgICAgIGlmIChpc1N0b3BwZWRSZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aWRlb3NMZW5ndGggPSB2aWRlb3MubGVuZ3RoO1xuXG4gICAgICAgIHZhciBmdWxsY2FudmFzID0gZmFsc2U7XG4gICAgICAgIHZpZGVvcy5mb3JFYWNoKGZ1bmN0aW9uKHZpZGVvKSB7XG4gICAgICAgICAgICBpZiAoIXZpZGVvLnN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHZpZGVvLnN0cmVhbSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmlkZW8uc3RyZWFtLmZ1bGxjYW52YXMpIHtcbiAgICAgICAgICAgICAgICBmdWxsY2FudmFzID0gdmlkZW8uc3RyZWFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZnVsbGNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gZnVsbGNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBmdWxsY2FudmFzLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvc0xlbmd0aCA+IDEgPyB2aWRlb3NbMF0ud2lkdGggKiAyIDogdmlkZW9zWzBdLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZGVvc0xlbmd0aCA+IDIgPyB2aWRlb3NbMF0uaGVpZ2h0ICogMiA6IHZpZGVvc1swXS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2aWRlb3MuZm9yRWFjaChkcmF3SW1hZ2UpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZHJhd1ZpZGVvc1RvQ2FudmFzLCBvcHRpb25zLmZyYW1lSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdJbWFnZSh2aWRlbywgaWR4KSB7XG4gICAgICAgIGlmIChpc1N0b3BwZWRSZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4ID0gMDtcbiAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICB2YXIgd2lkdGggPSB2aWRlby53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHZpZGVvLmhlaWdodDtcblxuICAgICAgICBpZiAoaWR4ID09PSAxKSB7XG4gICAgICAgICAgICB4ID0gdmlkZW8ud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWR4ID09PSAyKSB7XG4gICAgICAgICAgICB5ID0gdmlkZW8uaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkeCA9PT0gMykge1xuICAgICAgICAgICAgeCA9IHZpZGVvLndpZHRoO1xuICAgICAgICAgICAgeSA9IHZpZGVvLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8uc3RyZWFtLmxlZnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB4ID0gdmlkZW8uc3RyZWFtLmxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZpZGVvLnN0cmVhbS50b3AgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB5ID0gdmlkZW8uc3RyZWFtLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8uc3RyZWFtLndpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2lkdGggPSB2aWRlby5zdHJlYW0ud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZpZGVvLnN0cmVhbS5oZWlnaHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB2aWRlby5zdHJlYW0uaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodmlkZW8sIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8uc3RyZWFtLm9uUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2aWRlby5zdHJlYW0ub25SZW5kZXIoY29udGV4dCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgaWR4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY2FudmFzLnN0eWxlID0gJ29wYWNpdHk6MDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Oi0xO3RvcDogLTEwMDAwMDAwMDtsZWZ0Oi0xMDAwMDAwMDAwOyc7XG5cbiAgICAoZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBwYXVzZXMgdGhlIHJlY29yZGluZyBwcm9jZXNzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTXVsdGlTdHJlYW1SZWNvcmRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucGF1c2UoKTtcbiAgICAgKi9cbiAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICBtZWRpYVJlY29yZGVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVzdW1lcyB0aGUgcmVjb3JkaW5nIHByb2Nlc3MuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBNdWx0aVN0cmVhbVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5yZXN1bWUoKTtcbiAgICAgKi9cbiAgICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXNldHMgY3VycmVudGx5IHJlY29yZGVkIGRhdGEuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBNdWx0aVN0cmVhbVJlY29yZGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5jbGVhclJlY29yZGVkRGF0YSgpO1xuICAgICAqL1xuICAgIHRoaXMuY2xlYXJSZWNvcmRlZERhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmlkZW9zID0gW107XG4gICAgICAgIGlzU3RvcHBlZFJlY29yZGluZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKG1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIG1lZGlhUmVjb3JkZXIuY2xlYXJSZWNvcmRlZERhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lZGlhUmVjb3JkZXIgPSBudWxsO1xuXG4gICAgICAgIGlmIChzZWxmLmdhaW5Ob2RlKSB7XG4gICAgICAgICAgICBzZWxmLmdhaW5Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHNlbGYuZ2Fpbk5vZGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuYXVkaW9Tb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2VsZi5hdWRpb1NvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWxmLmF1ZGlvU291cmNlcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuYXVkaW9EZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgc2VsZi5hdWRpb0Rlc3RpbmF0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHNlbGYuYXVkaW9EZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmF1ZGlvQ29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBpZiAoY2FudmFzLnN0cmVhbSkge1xuICAgICAgICAgICAgY2FudmFzLnN0cmVhbS5zdG9wKCk7XG4gICAgICAgICAgICBjYW52YXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZXh0cmEgbWVkaWEtc3RyZWFtcyB0byBleGlzdGluZyByZWNvcmRpbmdzLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgTXVsdGlTdHJlYW1SZWNvcmRlclxuICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1zfSBtZWRpYVN0cmVhbXMgLSBBcnJheSBvZiBNZWRpYVN0cmVhbXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLmFkZFN0cmVhbXMoW25ld0F1ZGlvU3RyZWFtLCBuZXdWaWRlb1N0cmVhbV0pO1xuICAgICAqL1xuICAgIHRoaXMuYWRkU3RyZWFtcyA9IGZ1bmN0aW9uKHN0cmVhbXMpIHtcbiAgICAgICAgaWYgKCFzdHJlYW1zKSB7XG4gICAgICAgICAgICB0aHJvdyAnRmlyc3QgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShzdHJlYW1zIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBzdHJlYW1zID0gW3N0cmVhbXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlPZk1lZGlhU3RyZWFtcy5jb25jYXQoc3RyZWFtcyk7XG5cbiAgICAgICAgaWYgKCFtZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzdHJlYW1zLmZvckVhY2goZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvID0gZ2V0VmlkZW8oc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB2aWRlby53aWR0aCA9IG9wdGlvbnMudmlkZW8ud2lkdGg7XG4gICAgICAgICAgICAgICAgdmlkZW8uaGVpZ2h0ID0gb3B0aW9ucy52aWRlby5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmlkZW8uc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgIHZpZGVvcy5wdXNoKHZpZGVvKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCAmJiBzZWxmLmF1ZGlvQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBhdWRpb1NvdXJjZSA9IHNlbGYuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgYXVkaW9Tb3VyY2UuY29ubmVjdChzZWxmLmF1ZGlvRGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIHNlbGYuYXVkaW9Tb3VyY2VzLnB1c2goYXVkaW9Tb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdmlkZW9zIGR1cmluZyBsaXZlIHJlY29yZGluZy4gUmVwbGFjZSBvbGQgdmlkZW9zIGUuZy4gcmVwbGFjZSBjYW1lcmFzIHdpdGggZnVsbC1zY3JlZW4uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBNdWx0aVN0cmVhbVJlY29yZGVyXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbXN9IG1lZGlhU3RyZWFtcyAtIEFycmF5IG9mIE1lZGlhU3RyZWFtc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIucmVzZXRWaWRlb1N0cmVhbXMoW25ld1ZpZGVvMSwgbmV3VmlkZW8yXSk7XG4gICAgICovXG4gICAgdGhpcy5yZXNldFZpZGVvU3RyZWFtcyA9IGZ1bmN0aW9uKHN0cmVhbXMpIHtcbiAgICAgICAgaWYgKHN0cmVhbXMgJiYgIShzdHJlYW1zIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBzdHJlYW1zID0gW3N0cmVhbXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzZXRWaWRlb1N0cmVhbXMoc3RyZWFtcyk7XG4gICAgfTtcblxuICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICB0aGlzLm5hbWUgPSAnTXVsdGlTdHJlYW1SZWNvcmRlcic7XG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH07XG59XG5cbmlmICh0eXBlb2YgUmVjb3JkUlRDICE9PSAndW5kZWZpbmVkJykge1xuICAgIFJlY29yZFJUQy5NdWx0aVN0cmVhbVJlY29yZGVyID0gTXVsdGlTdHJlYW1SZWNvcmRlcjtcbn1cblxuLy8gX19fX19fX19fX19fX19fX19fX19fXG4vLyBSZWNvcmRSVEMucHJvbWlzZXMuanNcblxuLyoqXG4gKiBSZWNvcmRSVENQcm9taXNlc0hhbmRsZXIgYWRkcyBwcm9taXNlcyBzdXBwb3J0IGluIHtAbGluayBSZWNvcmRSVEN9LiBUcnkgYSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL211YXota2hhbi9SZWNvcmRSVEMvYmxvYi9tYXN0ZXIvc2ltcGxlLWRlbW9zL1JlY29yZFJUQ1Byb21pc2VzSGFuZGxlci5odG1sfGRlbW8gaGVyZX1cbiAqIEBzdW1tYXJ5IFByb21pc2VzIGZvciB7QGxpbmsgUmVjb3JkUlRDfVxuICogQGxpY2Vuc2Uge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tdWF6LWtoYW4vUmVjb3JkUlRDI2xpY2Vuc2V8TUlUfVxuICogQGF1dGhvciB7QGxpbmsgaHR0cDovL3d3dy5NdWF6S2hhbi5jb218TXVheiBLaGFufVxuICogQHR5cGVkZWYgUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyXG4gKiBAY2xhc3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgcmVjb3JkZXIgPSBuZXcgUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyKG1lZGlhU3RyZWFtLCBvcHRpb25zKTtcbiAqIHJlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKClcbiAqICAgICAgICAgLnRoZW4oc3VjY2Vzc0NCKVxuICogICAgICAgICAuY2F0Y2goZXJyb3JDQik7XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbXVhei1raGFuL1JlY29yZFJUQ3xSZWNvcmRSVEMgU291cmNlIENvZGV9XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBtZWRpYVN0cmVhbSAtIFNpbmdsZSBtZWRpYS1zdHJlYW0gb2JqZWN0LCBhcnJheSBvZiBtZWRpYS1zdHJlYW1zLCBodG1sLWNhbnZhcy1lbGVtZW50LCBldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0ge3R5cGU6XCJ2aWRlb1wiLCByZWNvcmRlclR5cGU6IE1lZGlhU3RyZWFtUmVjb3JkZXIsIGRpc2FibGVMb2dzOiB0cnVlLCBudW1iZXJPZkF1ZGlvQ2hhbm5lbHM6IDEsIGJ1ZmZlclNpemU6IDAsIHNhbXBsZVJhdGU6IDAsIHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50LCBldGMufVxuICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIFwibmV3XCIga2V5d29yZCBpcyBub3QgdXNlZCB0byBpbml0aWF0ZSBcIlJlY29yZFJUQ1Byb21pc2VzSGFuZGxlclwiLiBBbHNvIHRocm93cyBlcnJvciBpZiBmaXJzdCBhcmd1bWVudCBcIk1lZGlhU3RyZWFtXCIgaXMgbWlzc2luZy5cbiAqIEByZXF1aXJlcyB7QGxpbmsgUmVjb3JkUlRDfVxuICovXG5cbmZ1bmN0aW9uIFJlY29yZFJUQ1Byb21pc2VzSGFuZGxlcihtZWRpYVN0cmVhbSwgb3B0aW9ucykge1xuICAgIGlmICghdGhpcykge1xuICAgICAgICB0aHJvdyAnVXNlIFwibmV3IFJlY29yZFJUQ1Byb21pc2VzSGFuZGxlcigpXCInO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbWVkaWFTdHJlYW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93ICdGaXJzdCBhcmd1bWVudCBcIk1lZGlhU3RyZWFtXCIgaXMgcmVxdWlyZWQuJztcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge0Jsb2J9IGJsb2IgLSBBY2Nlc3MvcmVhY2ggdGhlIG5hdGl2ZSB7QGxpbmsgUmVjb3JkUlRDfSBvYmplY3QuXG4gICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1Byb21pc2VzSGFuZGxlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGludGVybmFsID0gcmVjb3JkZXIucmVjb3JkUlRDLmdldEludGVybmFsUmVjb3JkZXIoKTtcbiAgICAgKiBhbGVydChpbnRlcm5hbCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtUmVjb3JkZXIpO1xuICAgICAqL1xuICAgIHNlbGYucmVjb3JkUlRDID0gbmV3IFJlY29yZFJUQyhtZWRpYVN0cmVhbSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZWNvcmRzIE1lZGlhU3RyZWFtLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5zdGFydFJlY29yZGluZygpXG4gICAgICogICAgICAgICAudGhlbihzdWNjZXNzQ0IpXG4gICAgICogICAgICAgICAuY2F0Y2goZXJyb3JDQik7XG4gICAgICovXG4gICAgdGhpcy5zdGFydFJlY29yZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVjb3JkUlRDLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHN0b3BzIHRoZSByZWNvcmRpbmcuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENQcm9taXNlc0hhbmRsZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAqICAgICB2YXIgYmxvYiA9IHJlY29yZGVyLmdldEJsb2IoKTtcbiAgICAgKiB9KS5jYXRjaChlcnJvckNCKTtcbiAgICAgKi9cbiAgICB0aGlzLnN0b3BSZWNvcmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlY29yZFJUQy5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmJsb2IgPSBzZWxmLnJlY29yZFJUQy5nZXRCbG9iKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodXJsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGRhdGEtdXJsIGZvciB0aGUgcmVjb3JkZWQgYmxvYi5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG1lbWJlcm9mIFJlY29yZFJUQ1Byb21pc2VzSGFuZGxlclxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVjb3JkZXIuc3RvcFJlY29yZGluZygpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICogICAgIHJlY29yZGVyLmdldERhdGFVUkwoKS50aGVuKGZ1bmN0aW9uKGRhdGFVUkwpIHtcbiAgICAgKiAgICAgICAgIHdpbmRvdy5vcGVuKGRhdGFVUkwpO1xuICAgICAqICAgICB9KS5jYXRjaChlcnJvckNCKTs7XG4gICAgICogfSkuY2F0Y2goZXJyb3JDQik7XG4gICAgICovXG4gICAgdGhpcy5nZXREYXRhVVJMID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlY29yZFJUQy5nZXREYXRhVVJMKGZ1bmN0aW9uKGRhdGFVUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhVVJMKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSByZWNvcmRlZCBibG9iLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbWVtYmVyb2YgUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiByZWNvcmRlci5zdG9wUmVjb3JkaW5nKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgdmFyIGJsb2IgPSByZWNvcmRlci5nZXRCbG9iKCk7XG4gICAgICogfSkuY2F0Y2goZXJyb3JDQik7XG4gICAgICovXG4gICAgdGhpcy5nZXRCbG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnJlY29yZFJUQy5nZXRCbG9iKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7QmxvYn0gYmxvYiAtIFJlY29yZGVkIGRhdGEgYXMgXCJCbG9iXCIgb2JqZWN0LlxuICAgICAqIEBtZW1iZXJvZiBSZWNvcmRSVENQcm9taXNlc0hhbmRsZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAqICAgICB2YXIgYmxvYiA9IHJlY29yZGVyLmdldEJsb2IoKTtcbiAgICAgKiB9KS5jYXRjaChlcnJvckNCKTtcbiAgICAgKi9cbiAgICB0aGlzLmJsb2IgPSBudWxsO1xufVxuXG5pZiAodHlwZW9mIFJlY29yZFJUQyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBSZWNvcmRSVEMuUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyID0gUmVjb3JkUlRDUHJvbWlzZXNIYW5kbGVyO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL1JlY29yZFJUQy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction TextReceiver() {\n    var content = {};\n\n    function receive(data, onmessage, userid) {\n        // uuid is used to uniquely identify sending instance\n        var uuid = data.uuid;\n        if (!content[uuid]) {\n            content[uuid] = [];\n        }\n\n        content[uuid].push(data.message);\n        if (data.last == 1) {\n            var message = content[uuid].join('');\n            if (data.isobject == 1) {\n                message = JSON.parse(message);\n            }\n\n            // latency detection\n            var receivingTime = new Date().getTime();\n            var latency = receivingTime - data.sendingTime;\n\n            onmessage(message, userid, latency);\n\n            delete content[uuid];\n        }\n    }\n\n    return {\n        receive: receive\n    };\n}\n\nmodule.exports = TextReceiver();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvVGV4dFJlY2VpdmVyLmpzP2U3NTYiXSwibmFtZXMiOlsiVGV4dFJlY2VpdmVyIiwiY29udGVudCIsInJlY2VpdmUiLCJkYXRhIiwib25tZXNzYWdlIiwidXNlcmlkIiwidXVpZCIsInB1c2giLCJtZXNzYWdlIiwibGFzdCIsImpvaW4iLCJpc29iamVjdCIsIkpTT04iLCJwYXJzZSIsInJlY2VpdmluZ1RpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImxhdGVuY3kiLCJzZW5kaW5nVGltZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsWUFBVCxHQUF3QjtBQUNwQixRQUFJQyxVQUFVLEVBQWQ7O0FBRUEsYUFBU0MsT0FBVCxDQUFpQkMsSUFBakIsRUFBdUJDLFNBQXZCLEVBQWtDQyxNQUFsQyxFQUEwQztBQUN0QztBQUNBLFlBQUlDLE9BQU9ILEtBQUtHLElBQWhCO0FBQ0EsWUFBSSxDQUFDTCxRQUFRSyxJQUFSLENBQUwsRUFBb0I7QUFDaEJMLG9CQUFRSyxJQUFSLElBQWdCLEVBQWhCO0FBQ0g7O0FBRURMLGdCQUFRSyxJQUFSLEVBQWNDLElBQWQsQ0FBbUJKLEtBQUtLLE9BQXhCO0FBQ0EsWUFBSUwsS0FBS00sSUFBTCxJQUFXLENBQWYsRUFBa0I7QUFDZCxnQkFBSUQsVUFBVVAsUUFBUUssSUFBUixFQUFjSSxJQUFkLENBQW1CLEVBQW5CLENBQWQ7QUFDQSxnQkFBSVAsS0FBS1EsUUFBTCxJQUFlLENBQW5CLEVBQXNCO0FBQ2xCSCwwQkFBVUksS0FBS0MsS0FBTCxDQUFXTCxPQUFYLENBQVY7QUFDSDs7QUFFRDtBQUNBLGdCQUFJTSxnQkFBZ0IsSUFBSUMsSUFBSixHQUFXQyxPQUFYLEVBQXBCO0FBQ0EsZ0JBQUlDLFVBQVVILGdCQUFnQlgsS0FBS2UsV0FBbkM7O0FBRUFkLHNCQUFVSSxPQUFWLEVBQW1CSCxNQUFuQixFQUEyQlksT0FBM0I7O0FBRUEsbUJBQU9oQixRQUFRSyxJQUFSLENBQVA7QUFDSDtBQUNKOztBQUVELFdBQU87QUFDSEosaUJBQVNBO0FBRE4sS0FBUDtBQUdIOztBQUVEaUIsT0FBT0MsT0FBUCxHQUFpQnBCLGNBQWpCIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBUZXh0UmVjZWl2ZXIoKSB7XG4gICAgdmFyIGNvbnRlbnQgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHJlY2VpdmUoZGF0YSwgb25tZXNzYWdlLCB1c2VyaWQpIHtcbiAgICAgICAgLy8gdXVpZCBpcyB1c2VkIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHNlbmRpbmcgaW5zdGFuY2VcbiAgICAgICAgdmFyIHV1aWQgPSBkYXRhLnV1aWQ7XG4gICAgICAgIGlmICghY29udGVudFt1dWlkXSkge1xuICAgICAgICAgICAgY29udGVudFt1dWlkXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudFt1dWlkXS5wdXNoKGRhdGEubWVzc2FnZSk7XG4gICAgICAgIGlmIChkYXRhLmxhc3Q9PTEpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gY29udGVudFt1dWlkXS5qb2luKCcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmlzb2JqZWN0PT0xKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxhdGVuY3kgZGV0ZWN0aW9uXG4gICAgICAgICAgICB2YXIgcmVjZWl2aW5nVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIGxhdGVuY3kgPSByZWNlaXZpbmdUaW1lIC0gZGF0YS5zZW5kaW5nVGltZTtcblxuICAgICAgICAgICAgb25tZXNzYWdlKG1lc3NhZ2UsIHVzZXJpZCwgbGF0ZW5jeSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBjb250ZW50W3V1aWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVjZWl2ZTogcmVjZWl2ZVxuICAgIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVGV4dFJlY2VpdmVyKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvVGV4dFJlY2VpdmVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by guominghui on 17/8/7.\n */\nvar io = __webpack_require__(12);\nvar config = __webpack_require__(9);\n\nvar socketMessage = function () {\n    function socketMessage(fn) {\n        _classCallCheck(this, socketMessage);\n\n        this.handelFn = fn;\n        this.connect();\n    }\n\n    _createClass(socketMessage, [{\n        key: 'connect',\n        value: function connect() {\n            this.socket = io.connect(config.socketServer);\n            this.socket.on('message', this.handelFn);\n        }\n    }, {\n        key: 'changeFn',\n        value: function changeFn(fn) {\n            this.handelFn = fn;\n            this.socket.off('message');\n            this.socket.on('message', fn);\n        }\n    }, {\n        key: 'leave',\n        value: function leave() {\n            this.socket && this.socket.close();\n            this.socket = null;\n        }\n    }, {\n        key: 'sendMessage',\n        value: function sendMessage(msg) {\n            this.socket.emit('message', msg);\n        }\n    }, {\n        key: 'sendToServer',\n        value: function sendToServer(type, msg) {\n            this.socket.emit(type, msg);\n        }\n    }]);\n\n    return socketMessage;\n}();\n\nmodule.exports = socketMessage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc29ja2V0TWVzc2FnZS5qcz8xZGI1Il0sIm5hbWVzIjpbImlvIiwicmVxdWlyZSIsImNvbmZpZyIsInNvY2tldE1lc3NhZ2UiLCJmbiIsImhhbmRlbEZuIiwiY29ubmVjdCIsInNvY2tldCIsInNvY2tldFNlcnZlciIsIm9uIiwib2ZmIiwiY2xvc2UiLCJtc2ciLCJlbWl0IiwidHlwZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7QUFHQSxJQUFJQSxLQUFLLG1CQUFBQyxDQUFRLEVBQVIsQ0FBVDtBQUNBLElBQUlDLFNBQVMsbUJBQUFELENBQVEsQ0FBUixDQUFiOztJQUNNRSxhO0FBQ0YsMkJBQVlDLEVBQVosRUFBZTtBQUFBOztBQUNYLGFBQUtDLFFBQUwsR0FBZ0JELEVBQWhCO0FBQ0EsYUFBS0UsT0FBTDtBQUNIOzs7O2tDQUVRO0FBQ0wsaUJBQUtDLE1BQUwsR0FBY1AsR0FBR00sT0FBSCxDQUFXSixPQUFPTSxZQUFsQixDQUFkO0FBQ0EsaUJBQUtELE1BQUwsQ0FBWUUsRUFBWixDQUFlLFNBQWYsRUFBMEIsS0FBS0osUUFBL0I7QUFFSDs7O2lDQUVRRCxFLEVBQUc7QUFDUixpQkFBS0MsUUFBTCxHQUFnQkQsRUFBaEI7QUFDQSxpQkFBS0csTUFBTCxDQUFZRyxHQUFaLENBQWdCLFNBQWhCO0FBQ0EsaUJBQUtILE1BQUwsQ0FBWUUsRUFBWixDQUFlLFNBQWYsRUFBeUJMLEVBQXpCO0FBQ0g7OztnQ0FFTTtBQUNILGlCQUFLRyxNQUFMLElBQWUsS0FBS0EsTUFBTCxDQUFZSSxLQUFaLEVBQWY7QUFDQSxpQkFBS0osTUFBTCxHQUFjLElBQWQ7QUFDSDs7O29DQUVXSyxHLEVBQUk7QUFDWixpQkFBS0wsTUFBTCxDQUFZTSxJQUFaLENBQWlCLFNBQWpCLEVBQTJCRCxHQUEzQjtBQUNIOzs7cUNBRVlFLEksRUFBS0YsRyxFQUFJO0FBQ2xCLGlCQUFLTCxNQUFMLENBQVlNLElBQVosQ0FBaUJDLElBQWpCLEVBQXNCRixHQUF0QjtBQUNIOzs7Ozs7QUFLTEcsT0FBT0MsT0FBUCxHQUFpQmIsYUFBakIiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBndW9taW5naHVpIG9uIDE3LzgvNy5cbiAqL1xubGV0IGlvID0gcmVxdWlyZSgnLi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvZGlzdC9zb2NrZXQuaW8nKTtcbmxldCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuY2xhc3Mgc29ja2V0TWVzc2FnZXtcbiAgICBjb25zdHJ1Y3Rvcihmbil7XG4gICAgICAgIHRoaXMuaGFuZGVsRm4gPSBmbjtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgY29ubmVjdCgpe1xuICAgICAgICB0aGlzLnNvY2tldCA9IGlvLmNvbm5lY3QoY29uZmlnLnNvY2tldFNlcnZlcik7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdtZXNzYWdlJywgdGhpcy5oYW5kZWxGbik7XG5cbiAgICB9XG5cbiAgICBjaGFuZ2VGbihmbil7XG4gICAgICAgIHRoaXMuaGFuZGVsRm4gPSBmbjtcbiAgICAgICAgdGhpcy5zb2NrZXQub2ZmKCdtZXNzYWdlJyk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdtZXNzYWdlJyxmbik7XG4gICAgfVxuXG4gICAgbGVhdmUoKXtcbiAgICAgICAgdGhpcy5zb2NrZXQgJiYgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKG1zZyl7XG4gICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ21lc3NhZ2UnLG1zZyk7XG4gICAgfVxuXG4gICAgc2VuZFRvU2VydmVyKHR5cGUsbXNnKXtcbiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCh0eXBlLG1zZyk7XG4gICAgfVxuXG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzb2NrZXRNZXNzYWdlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9zb2NrZXRNZXNzYWdlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by guominghui on 17/8/11.\n */\nvar util = {\n    getBytesLength: function getBytesLength(str) {\n        // GBKASCII\n        return str.replace(/[^\\x00-\\xff]/g, 'xx').length;\n    },\n    ab2str: function ab2str(buf) {\n        return String.fromCharCode.apply(null, new Uint8Array(buf));\n    },\n\n    str2ab: function str2ab(str) {\n        var buf = new ArrayBuffer(str.length * 2); // 2 bytes for each char\n        var bufView = new Uint16Array(buf);\n        for (var i = 0, strLen = str.length; i < strLen; i++) {\n            bufView[i] = str.charCodeAt(i);\n        }\n        return buf;\n    },\n    getRandomString: function getRandomString() {\n        return (Math.random() * new Date().getTime()).toString(36).replace(/\\./g, '-');\n    }\n};\n\nmodule.exports = util;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvdXRpbC5qcz85NGU5Il0sIm5hbWVzIjpbInV0aWwiLCJnZXRCeXRlc0xlbmd0aCIsInN0ciIsInJlcGxhY2UiLCJsZW5ndGgiLCJhYjJzdHIiLCJidWYiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIlVpbnQ4QXJyYXkiLCJzdHIyYWIiLCJBcnJheUJ1ZmZlciIsImJ1ZlZpZXciLCJVaW50MTZBcnJheSIsImkiLCJzdHJMZW4iLCJjaGFyQ29kZUF0IiwiZ2V0UmFuZG9tU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsIkRhdGUiLCJnZXRUaW1lIiwidG9TdHJpbmciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7QUFHQSxJQUFJQSxPQUFPO0FBQ1BDLG9CQUFlLHdCQUFTQyxHQUFULEVBQWM7QUFDakM7QUFDUSxlQUFPQSxJQUFJQyxPQUFKLENBQVksZUFBWixFQUE2QixJQUE3QixFQUFtQ0MsTUFBMUM7QUFDSCxLQUpNO0FBS1BDLFlBQU8sZ0JBQVNDLEdBQVQsRUFBYztBQUNqQixlQUFPQyxPQUFPQyxZQUFQLENBQW9CQyxLQUFwQixDQUEwQixJQUExQixFQUFnQyxJQUFJQyxVQUFKLENBQWVKLEdBQWYsQ0FBaEMsQ0FBUDtBQUNILEtBUE07O0FBU1BLLFlBQU8sZ0JBQVNULEdBQVQsRUFBYztBQUNqQixZQUFJSSxNQUFNLElBQUlNLFdBQUosQ0FBZ0JWLElBQUlFLE1BQUosR0FBVyxDQUEzQixDQUFWLENBRGlCLENBQ3dCO0FBQ3pDLFlBQUlTLFVBQVUsSUFBSUMsV0FBSixDQUFnQlIsR0FBaEIsQ0FBZDtBQUNBLGFBQUssSUFBSVMsSUFBRSxDQUFOLEVBQVNDLFNBQU9kLElBQUlFLE1BQXpCLEVBQWlDVyxJQUFFQyxNQUFuQyxFQUEyQ0QsR0FBM0MsRUFBZ0Q7QUFDNUNGLG9CQUFRRSxDQUFSLElBQWFiLElBQUllLFVBQUosQ0FBZUYsQ0FBZixDQUFiO0FBQ0g7QUFDRCxlQUFPVCxHQUFQO0FBQ0gsS0FoQk07QUFpQlBZLHFCQUFpQiwyQkFBWTtBQUN6QixlQUFPLENBQUNDLEtBQUtDLE1BQUwsS0FBZ0IsSUFBSUMsSUFBSixHQUFXQyxPQUFYLEVBQWpCLEVBQXVDQyxRQUF2QyxDQUFnRCxFQUFoRCxFQUFvRHBCLE9BQXBELENBQTRELEtBQTVELEVBQW1FLEdBQW5FLENBQVA7QUFDSDtBQW5CTSxDQUFYOztBQXNCQXFCLE9BQU9DLE9BQVAsR0FBaUJ6QixJQUFqQiIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGd1b21pbmdodWkgb24gMTcvOC8xMS5cbiAqL1xubGV0IHV0aWwgPSB7XG4gICAgZ2V0Qnl0ZXNMZW5ndGg6ZnVuY3Rpb24oc3RyKSB7XG4vLyDlnKhHQkvnvJbnoIHph4zvvIzpmaTkuoZBU0NJSeWtl+espu+8jOWFtuWug+mDveWNoOS4pOS4quWtl+espuWuvVxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1teXFx4MDAtXFx4ZmZdL2csICd4eCcpLmxlbmd0aDtcbiAgICB9LFxuICAgIGFiMnN0cjpmdW5jdGlvbihidWYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmKSk7XG4gICAgfSxcblxuICAgIHN0cjJhYjpmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKjIpOyAvLyAyIGJ5dGVzIGZvciBlYWNoIGNoYXJcbiAgICAgICAgdmFyIGJ1ZlZpZXcgPSBuZXcgVWludDE2QXJyYXkoYnVmKTtcbiAgICAgICAgZm9yICh2YXIgaT0wLCBzdHJMZW49c3RyLmxlbmd0aDsgaTxzdHJMZW47IGkrKykge1xuICAgICAgICAgICAgYnVmVmlld1tpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfSxcbiAgICBnZXRSYW5kb21TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogbmV3IERhdGUoKS5nZXRUaW1lKCkpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9cXC4vZywgJy0nKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvdXRpbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by guominghui on 17/8/4.\n */\nvar Message = __webpack_require__(2);\nvar util = __webpack_require__(3);\nvar Sender = __webpack_require__(8);\nvar RecordRTC = __webpack_require__(0);\nvar Receiver = __webpack_require__(1);\nvar screen = __webpack_require__(11);\n\nvar MasterRTC = function () {\n    function MasterRTC(el, slave) {\n        _classCallCheck(this, MasterRTC);\n\n        this.id = slave.id;\n        this.el = el;\n        this.message = slave.message;\n        this.others = slave.others || [];\n        this.initMsg();\n\n        this.pcs = {};\n    }\n\n    _createClass(MasterRTC, [{\n        key: 'initMsg',\n        value: function initMsg() {\n            this.message.changeFn(this.handleMessage());\n            this.message.sendToServer('updatemaster');\n        }\n    }, {\n        key: 'initVideo',\n        value: function initVideo() {\n            var _this = this;\n            return navigator.mediaDevices.getUserMedia({\n                audio: true,\n                video: {\n                    width: { min: 200, max: 200 },\n                    height: { min: 200, max: 200 }\n                }\n            });\n        }\n    }, {\n        key: 'handleMessage',\n        value: function handleMessage() {\n            var _this = this;\n            return function (msg) {\n                console.log(msg.type, msg.from);\n                var type = msg.type;\n                var connection = void 0,\n                    data = void 0;\n                switch (type) {\n                    case 'offer':\n                        msg.desc = msg.data;\n                        _this.connection.setRemoteDescription(new RTCSessionDescription(msg.desc)).then().catch(function (e) {\n                            console.log(e);\n                        });\n                        _this.createAnswer();\n                        break;\n                    case 'answer':\n                        if (msg.payload) {\n                            data = msg.payload;\n                        }\n                        connection = _this.pcs[msg.from];\n                        if (connection) {\n                            connection.setRemoteDescription(new RTCSessionDescription(data)).then().catch(function (e) {\n                                console.log(e);\n                            });\n                        }\n                        break;\n                    case 'candidate':\n\n                        data = msg.payload && {\n                            sdpMLineIndex: msg.payload.label,\n                            sdpMid: msg.payload.id,\n                            candidate: msg.payload.candidate\n                        };\n\n                        if (data) {\n                            var candidate = new RTCIceCandidate(data);\n                            connection = _this.pcs[msg.from];\n                            if (connection) {\n                                connection.addIceCandidate(candidate).then(function () {}).catch(function (e) {\n                                    console.log(e);\n                                });\n                            }\n                        }\n\n                        break;\n                    case 'other':\n                        if (msg.data) {\n                            _this.others = msg.data;\n                        }\n                        break;\n                    case 'otherjoin':\n                        _this.others.push(msg.data);\n                        console.log(_this.others);\n                        if (_this.isStart) {\n                            _this.pcs[msg.data] = _this.createConnection(msg.data);\n                        }\n                        break;\n                    case 'otherleave':\n                        var i = _this.others.indexOf(msg.data);\n                        if (i > -1) {\n                            _this.others.splice(i, 1);\n                            if (_this.isStart) {\n                                _this.closeConnection(msg.data);\n                            }\n                        }\n\n                        console.log(_this.others);\n                        break;\n                }\n            };\n        }\n    }, {\n        key: 'createConnections',\n        value: function createConnections() {\n            this.isStart = true;\n            var _this = this;\n            this.initVideo().then(function (stream) {\n                _this.el.srcObject = stream;\n                _this.stream = stream;\n                for (var i = 0, l = _this.others.length; i < l; i++) {\n                    _this.pcs[_this.others[i]] = _this.createConnection(_this.others[i]);\n                }\n                /*screen.init('container');\n                screen.start();\n                setTimeout(function(){\n                    screen.stop();\n                },5000);*/\n                /*_this.recorder = RecordRTC([stream,document.getElementById('drawcanvas')],{\n                    type:'video',\n                    recorderType: RecordRTC.MediaStreamRecorder,\n                    numberOfAudioChannels: 1\n                });\n                _this.recorder.startRecording();\n                setTimeout(function(){\n                    _this.recorder.stopRecording(function() {\n                         // or manually:\n                        _this.recorder.save('filename.webm');\n                    });\n                },5000);*/\n            }).catch(function (e) {\n                console.log(e);\n                function handleGetUserMediaError(e) {\n                    switch (e.name) {\n                        case \"NotFoundError\":\n                            alert(\"Unable to open your call because no camera and/or microphone\" + \"were found.\");\n                            break;\n                        case \"SecurityError\":\n                        case \"PermissionDeniedError\":\n                            // Do nothing; this is the same as the user canceling the call.\n                            break;\n                        default:\n                            alert(\"Error opening your camera and/or microphone: \" + e.message);\n                            break;\n                    }\n\n                    // closeVideoCall();\n                }\n            });\n            ;\n        }\n    }, {\n        key: 'initDataChannel',\n        value: function initDataChannel(pc) {\n            return;\n            var dc = pc.createDataChannel(\"my channel\");\n\n            dc.onmessage = function (event) {\n                console.log(event.data);\n                var data = JSON.parse(event.data);\n\n                Receiver.receive(data, function (message) {\n                    /*let msg = JSON.parse(event.data);\n                     if(msg.type =='img'){\n                     let imgDom = document.getElementById('img');\n                     if(imgDom){\n                     imgDom.src = msg.data;\n                     }\n                     }*/\n                    console.log(message.data);\n                    if (message.type == 'img') {\n                        var imgDom = document.getElementById('img');\n                        if (imgDom) {\n                            imgDom.src = message.data;\n                        }\n                    }\n                });\n            };\n\n            dc.onopen = function () {\n                console.log(\"datachannel open\");\n            };\n\n            dc.onclose = function () {\n                console.log(\"datachannel close\");\n                dc = null;\n            };\n            pc.dc = dc;\n        }\n    }, {\n        key: 'drawImg',\n        value: function drawImg(img) {\n            for (var i in this.pcs) {\n                if (this.pcs.hasOwnProperty(i) && this.pcs[i].dc) {\n                    var o = { type: 'img', data: img };\n                    console.log(o.length);\n                    Sender.send({\n                        channel: this.pcs[i].dc,\n                        text: o,\n                        chunkSize: 5000,\n                        chunkInterval: 10\n                    });\n                    //this.pcs[i].dc.send(o);\n                }\n            }\n        }\n    }, {\n        key: 'createConnection',\n        value: function createConnection(id) {\n            var _this = this;\n            var connection = new RTCPeerConnection();\n            _this.initDataChannel(connection);\n            connection.onicecandidate = function (e) {\n                if (!e.candidate || !e.candidate.sdpMid) {\n                    return;\n                }\n                _this.message.sendMessage({\n                    to: id,\n                    type: 'candidate',\n                    payload: {\n                        label: e.candidate && e.candidate.sdpMLineIndex,\n                        id: e.candidate && e.candidate.sdpMid,\n                        candidate: e.candidate && e.candidate.candidate\n                    }\n                });\n            };\n\n            connection.onnegotiationneeded = function () {\n                connection.createOffer({\n                    offerToReceiveAudio: 1,\n                    offerToReceiveVideo: 1\n                }).then(function (desc) {\n                    connection.setLocalDescription(desc).then(function () {\n                        _this.message.sendMessage({\n                            type: 'offer',\n                            payload: desc,\n                            to: id\n                        });\n                    });\n                });\n                connection.onnegotiationneeded = function () {};\n            };\n            connection.onremovestream = function () {\n                _this.closeConnection(id);\n            };\n            connection.oniceconnectionstatechange = function () {\n                switch (connection.iceConnectionState) {\n                    case \"closed\":\n                    case \"failed\":\n                    case \"disconnected\":\n                        _this.closeConnection(id);\n                        break;\n                }\n            };\n            connection.onsignalingstatechange = function (event) {\n                switch (connection.signalingState) {\n                    case \"closed\":\n                        _this.closeConnection(id);\n                        break;\n                }\n            };\n\n            connection.ondatachannel = function (event) {\n                var channel = event.channel;\n                channel.onopen = function (event) {\n                    channel.send('Hi back!');\n                };\n                channel.onmessage = function (event) {\n                    var data = JSON.parse(event.data);\n                    console.log(data);\n                };\n            };\n\n            _this.stream.getTracks().forEach(function (track) {\n                connection.addTrack(track, _this.stream);\n            });\n            /*setTimeout(function(){\n                _this.stream.getTracks().forEach(\n                    function(track) {\n                        connection.addTrack(\n                            track,\n                            _this.stream\n                        );\n                    }\n                );\n                connection.createOffer({\n                    offerToReceiveAudio: 1,\n                    offerToReceiveVideo: 1\n                }).then(function(desc){\n                    connection.setLocalDescription(desc).then(\n                        function() {\n                            _this.message.sendMessage({\n                                type:'offer',\n                                data:JSON.stringify(desc),\n                                to:id\n                            });\n                        }\n                    );\n                });\n             },1000)*/\n\n            return connection;\n        }\n    }, {\n        key: 'initRTCPeerConnection',\n        value: function initRTCPeerConnection() {\n            var _this = this;\n            var connection = this.connection;\n            connection.onicecandidate = function (e) {\n                _this.message.sendMessage({\n                    type: 'candidate',\n                    data: JSON.stringify(e.candidate)\n                });\n            };\n        }\n    }, {\n        key: 'createOff',\n        value: function createOff() {\n            var _this = this;\n            this.connection.createOffer({\n                offerToReceiveAudio: 1,\n                offerToReceiveVideo: 1\n            }).then(function (desc) {\n                _this.connection.setLocalDescription(desc).then(function () {\n                    _this.message.sendMessage({\n                        type: 'offer',\n                        data: JSON.stringify(desc),\n                        to: _this.id\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'createAnswer',\n        value: function createAnswer() {\n            var _this = this;\n            this.connection.createAnswer().then(function (desc) {\n                _this.connection.setLocalDescription(desc).then(function () {\n                    _this.message.sendMessage({\n                        type: 'answer',\n                        data: JSON.stringify(desc),\n                        to: _this.id\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'closeVideoCall',\n        value: function closeVideoCall() {\n            var remoteVideo = this.el;\n            if (this.isStart) {\n                if (this.stream) {\n                    this.stream.getTracks().forEach(function (track) {\n                        return track.stop();\n                    });\n                    this.stream = remoteVideo.srcObject = null;\n                }\n\n                for (var i in this.pcs) {\n                    if (this.pcs.hasOwnProperty(i)) {\n                        this.closeConnection(i);\n                    }\n                }\n\n                this.pcs = {};\n            }\n        }\n    }, {\n        key: 'closeConnection',\n        value: function closeConnection(id) {\n            var connection = this.pcs[id];\n            if (connection) {\n                connection.close();\n                connection = null;\n                delete this.pcs[id];\n            }\n        }\n    }]);\n\n    return MasterRTC;\n}();\n\nmodule.exports = MasterRTC;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvTWFzdGVyUlRDLmpzPzM1M2UiXSwibmFtZXMiOlsiTWVzc2FnZSIsInJlcXVpcmUiLCJ1dGlsIiwiU2VuZGVyIiwiUmVjb3JkUlRDIiwiUmVjZWl2ZXIiLCJzY3JlZW4iLCJNYXN0ZXJSVEMiLCJlbCIsInNsYXZlIiwiaWQiLCJtZXNzYWdlIiwib3RoZXJzIiwiaW5pdE1zZyIsInBjcyIsImNoYW5nZUZuIiwiaGFuZGxlTWVzc2FnZSIsInNlbmRUb1NlcnZlciIsIl90aGlzIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJ2aWRlbyIsIndpZHRoIiwibWluIiwibWF4IiwiaGVpZ2h0IiwibXNnIiwiY29uc29sZSIsImxvZyIsInR5cGUiLCJmcm9tIiwiY29ubmVjdGlvbiIsImRhdGEiLCJkZXNjIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJSVENTZXNzaW9uRGVzY3JpcHRpb24iLCJ0aGVuIiwiY2F0Y2giLCJlIiwiY3JlYXRlQW5zd2VyIiwicGF5bG9hZCIsInNkcE1MaW5lSW5kZXgiLCJsYWJlbCIsInNkcE1pZCIsImNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsImFkZEljZUNhbmRpZGF0ZSIsInB1c2giLCJpc1N0YXJ0IiwiY3JlYXRlQ29ubmVjdGlvbiIsImkiLCJpbmRleE9mIiwic3BsaWNlIiwiY2xvc2VDb25uZWN0aW9uIiwiaW5pdFZpZGVvIiwic3RyZWFtIiwic3JjT2JqZWN0IiwibCIsImxlbmd0aCIsImhhbmRsZUdldFVzZXJNZWRpYUVycm9yIiwibmFtZSIsImFsZXJ0IiwicGMiLCJkYyIsImNyZWF0ZURhdGFDaGFubmVsIiwib25tZXNzYWdlIiwiZXZlbnQiLCJKU09OIiwicGFyc2UiLCJyZWNlaXZlIiwiaW1nRG9tIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNyYyIsIm9ub3BlbiIsIm9uY2xvc2UiLCJpbWciLCJoYXNPd25Qcm9wZXJ0eSIsIm8iLCJzZW5kIiwiY2hhbm5lbCIsInRleHQiLCJjaHVua1NpemUiLCJjaHVua0ludGVydmFsIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJpbml0RGF0YUNoYW5uZWwiLCJvbmljZWNhbmRpZGF0ZSIsInNlbmRNZXNzYWdlIiwidG8iLCJvbm5lZ290aWF0aW9ubmVlZGVkIiwiY3JlYXRlT2ZmZXIiLCJvZmZlclRvUmVjZWl2ZUF1ZGlvIiwib2ZmZXJUb1JlY2VpdmVWaWRlbyIsInNldExvY2FsRGVzY3JpcHRpb24iLCJvbnJlbW92ZXN0cmVhbSIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwib25zaWduYWxpbmdzdGF0ZWNoYW5nZSIsInNpZ25hbGluZ1N0YXRlIiwib25kYXRhY2hhbm5lbCIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsImFkZFRyYWNrIiwic3RyaW5naWZ5IiwicmVtb3RlVmlkZW8iLCJzdG9wIiwiY2xvc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0FBR0EsSUFBTUEsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWhCO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNRSxTQUFTLG1CQUFBRixDQUFRLENBQVIsQ0FBZjtBQUNBLElBQU1HLFlBQVksbUJBQUFILENBQVEsQ0FBUixDQUFsQjtBQUNBLElBQU1JLFdBQVcsbUJBQUFKLENBQVEsQ0FBUixDQUFqQjtBQUNBLElBQU1LLFNBQVMsbUJBQUFMLENBQVEsRUFBUixDQUFmOztJQUNNTSxTO0FBQ0YsdUJBQVlDLEVBQVosRUFBZUMsS0FBZixFQUFxQjtBQUFBOztBQUNqQixhQUFLQyxFQUFMLEdBQVVELE1BQU1DLEVBQWhCO0FBQ0EsYUFBS0YsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsYUFBS0csT0FBTCxHQUFlRixNQUFNRSxPQUFyQjtBQUNBLGFBQUtDLE1BQUwsR0FBY0gsTUFBTUcsTUFBTixJQUFjLEVB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LGFBQWEsS0FBS25CLEdBQUwsQ0FBU0osRUFBVCxDQUFqQjtBQUNBLGdCQUFHdUIsVUFBSCxFQUFjO0FBQ1ZBLDJCQUFXNEUsS0FBWDtBQUNBNUUsNkJBQWEsSUFBYjtBQUNBLHVCQUFPLEtBQUtuQixHQUFMLENBQVNKLEVBQVQsQ0FBUDtBQUNIO0FBRUo7Ozs7OztBQUdMb0csT0FBT0MsT0FBUCxHQUFpQnhHLFNBQWpCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZ3VvbWluZ2h1aSBvbiAxNy84LzQuXG4gKi9cbmNvbnN0IE1lc3NhZ2UgPSByZXF1aXJlKCcuL3NvY2tldE1lc3NhZ2UnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IFNlbmRlciA9IHJlcXVpcmUoJy4vVGV4dFNlbmRlcicpO1xuY29uc3QgUmVjb3JkUlRDID0gcmVxdWlyZSgnLi9SZWNvcmRSVEMnKTtcbmNvbnN0IFJlY2VpdmVyID0gcmVxdWlyZSgnLi9UZXh0UmVjZWl2ZXInKTtcbmNvbnN0IHNjcmVlbiA9IHJlcXVpcmUoJy4vc2NyZWVucmVvY3JkZXInKTtcbmNsYXNzIE1hc3RlclJUQyB7XG4gICAgY29uc3RydWN0b3IoZWwsc2xhdmUpe1xuICAgICAgICB0aGlzLmlkID0gc2xhdmUuaWQ7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gc2xhdmUubWVzc2FnZTtcbiAgICAgICAgdGhpcy5vdGhlcnMgPSBzbGF2ZS5vdGhlcnN8fFtdO1xuICAgICAgICB0aGlzLmluaXRNc2coKTtcblxuICAgICAgICB0aGlzLnBjcyA9IHt9O1xuICAgIH1cblxuICAgIGluaXRNc2coKXtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNoYW5nZUZuKHRoaXMuaGFuZGxlTWVzc2FnZSgpKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlLnNlbmRUb1NlcnZlcigndXBkYXRlbWFzdGVyJyk7XG4gICAgfVxuXG4gICAgaW5pdFZpZGVvKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHsgbWluOiAyMDAsICBtYXg6IDIwMCB9LFxuICAgICAgICAgICAgICAgIGhlaWdodDogeyBtaW46IDIwMCwgIG1heDogMjAwIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgaGFuZGxlTWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG1zZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cudHlwZSxtc2cuZnJvbSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1zZy50eXBlO1xuICAgICAgICAgICAgbGV0IGNvbm5lY3Rpb24sZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ29mZmVyJzpcbiAgICAgICAgICAgICAgICAgICAgbXNnLmRlc2MgPSBtc2cuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKG1zZy5kZXNjKSkudGhlbigpLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3JlYXRlQW5zd2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Fuc3dlcic6XG4gICAgICAgICAgICAgICAgICAgIGlmKG1zZy5wYXlsb2FkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBtc2cucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gX3RoaXMucGNzW21zZy5mcm9tXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29ubmVjdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZGF0YSkpLnRoZW4oKS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5kaWRhdGUnOlxuXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBtc2cucGF5bG9hZCYme1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNkcE1MaW5lSW5kZXg6IG1zZy5wYXlsb2FkLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNkcE1pZDogbXNnLnBheWxvYWQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlOiBtc2cucGF5bG9hZC5jYW5kaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlID0gbmV3IFJUQ0ljZUNhbmRpZGF0ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBfdGhpcy5wY3NbbXNnLmZyb21dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29ubmVjdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKS50aGVuKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvdGhlcic6XG4gICAgICAgICAgICAgICAgICAgIGlmKG1zZy5kYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm90aGVycyA9bXNnLmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvdGhlcmpvaW4nOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdGhlcnMucHVzaChtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLm90aGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKF90aGlzLmlzU3RhcnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGNzW21zZy5kYXRhXT1fdGhpcy5jcmVhdGVDb25uZWN0aW9uKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvdGhlcmxlYXZlJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBfdGhpcy5vdGhlcnMuaW5kZXhPZihtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGk+LTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub3RoZXJzLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMuaXNTdGFydCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLm90aGVycyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjcmVhdGVDb25uZWN0aW9ucygpe1xuICAgICAgICB0aGlzLmlzU3RhcnQgPSB0cnVlO1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmluaXRWaWRlbygpLnRoZW4oZnVuY3Rpb24oc3RyZWFtKXtcbiAgICAgICAgICAgIF90aGlzLmVsLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIF90aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgIGZvcihsZXQgaT0wLGw9X3RoaXMub3RoZXJzLmxlbmd0aDtpPGw7aSsrKXtcbiAgICAgICAgICAgICAgICBfdGhpcy5wY3NbX3RoaXMub3RoZXJzW2ldXSA9IF90aGlzLmNyZWF0ZUNvbm5lY3Rpb24oX3RoaXMub3RoZXJzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qc2NyZWVuLmluaXQoJ2NvbnRhaW5lcicpO1xuICAgICAgICAgICAgc2NyZWVuLnN0YXJ0KCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc2NyZWVuLnN0b3AoKTtcbiAgICAgICAgICAgIH0sNTAwMCk7Ki9cbiAgICAgICAgICAgIC8qX3RoaXMucmVjb3JkZXIgPSBSZWNvcmRSVEMoW3N0cmVhbSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhd2NhbnZhcycpXSx7XG4gICAgICAgICAgICAgICAgdHlwZTondmlkZW8nLFxuICAgICAgICAgICAgICAgIHJlY29yZGVyVHlwZTogUmVjb3JkUlRDLk1lZGlhU3RyZWFtUmVjb3JkZXIsXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZBdWRpb0NoYW5uZWxzOiAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnJlY29yZGVyLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVjb3JkZXIuc3RvcFJlY29yZGluZyhmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBvciBtYW51YWxseTpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjb3JkZXIuc2F2ZSgnZmlsZW5hbWUud2VibScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSw1MDAwKTsqL1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUdldFVzZXJNZWRpYUVycm9yKGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2goZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOb3RGb3VuZEVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlVuYWJsZSB0byBvcGVuIHlvdXIgY2FsbCBiZWNhdXNlIG5vIGNhbWVyYSBhbmQvb3IgbWljcm9waG9uZVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlcmUgZm91bmQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTZWN1cml0eUVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQZXJtaXNzaW9uRGVuaWVkRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmc7IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIHVzZXIgY2FuY2VsaW5nIHRoZSBjYWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yIG9wZW5pbmcgeW91ciBjYW1lcmEgYW5kL29yIG1pY3JvcGhvbmU6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNsb3NlVmlkZW9DYWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICA7XG5cbiAgICB9XG5cbiAgICBpbml0RGF0YUNoYW5uZWwocGMpe1xuICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBkYyA9IHBjLmNyZWF0ZURhdGFDaGFubmVsKFwibXkgY2hhbm5lbFwiKTtcblxuICAgICAgICBkYy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuXG4gICAgICAgICAgICBSZWNlaXZlci5yZWNlaXZlKGRhdGEsZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICAgICAgICAgICAgLypsZXQgbXNnID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgaWYobXNnLnR5cGUgPT0naW1nJyl7XG4gICAgICAgICAgICAgICAgIGxldCBpbWdEb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgIGlmKGltZ0RvbSl7XG4gICAgICAgICAgICAgICAgIGltZ0RvbS5zcmMgPSBtc2cuZGF0YTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKG1lc3NhZ2UudHlwZSA9PSdpbWcnKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZ0RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoaW1nRG9tKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ0RvbS5zcmMgPSBtZXNzYWdlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIGRjLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YWNoYW5uZWwgb3BlblwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkYy5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkYXRhY2hhbm5lbCBjbG9zZVwiKTtcbiAgICAgICAgICAgIGRjID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgcGMuZGMgPSBkYztcbiAgICB9XG5cbiAgICBkcmF3SW1nKGltZyl7XG4gICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLnBjcyl7XG4gICAgICAgICAgICBpZih0aGlzLnBjcy5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5wY3NbaV0uZGMpe1xuICAgICAgICAgICAgICAgIGxldCBvID0ge3R5cGU6J2ltZycsZGF0YTppbWd9O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG8ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBTZW5kZXIuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6dGhpcy5wY3NbaV0uZGMsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6byxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtTaXplOjUwMDAsXG4gICAgICAgICAgICAgICAgICAgIGNodW5rSW50ZXJ2YWw6MTBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vdGhpcy5wY3NbaV0uZGMuc2VuZChvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbm5lY3Rpb24oaWQpe1xuICAgICAgICBsZXQgX3RoaXMgPXRoaXM7XG4gICAgICAgIGxldCBjb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgIF90aGlzLmluaXREYXRhQ2hhbm5lbChjb25uZWN0aW9uKTtcbiAgICAgICAgY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmKCFlLmNhbmRpZGF0ZXx8IWUuY2FuZGlkYXRlLnNkcE1pZCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMubWVzc2FnZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgdG86aWQsXG4gICAgICAgICAgICAgICAgdHlwZTonY2FuZGlkYXRlJyxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOntcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGUuY2FuZGlkYXRlJiZlLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpZDogZS5jYW5kaWRhdGUmJmUuY2FuZGlkYXRlLnNkcE1pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlOiBlLmNhbmRpZGF0ZSYmZS5jYW5kaWRhdGUuY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbm5lY3Rpb24ub25uZWdvdGlhdGlvbm5lZWRlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtcbiAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiAxLFxuICAgICAgICAgICAgICAgIG9mZmVyVG9SZWNlaXZlVmlkZW86IDFcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGVzYyl7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonb2ZmZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6ZGVzYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzppZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLm9ubmVnb3RpYXRpb25uZWVkZWQgPSBmdW5jdGlvbigpe307XG4gICAgICAgIH07XG4gICAgICAgIGNvbm5lY3Rpb24ub25yZW1vdmVzdHJlYW0gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKGlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzd2l0Y2goY29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xvc2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZhaWxlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNjb25uZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2goY29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjbG9zZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29ubmVjdGlvbi5vbmRhdGFjaGFubmVsID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gZXZlbnQuY2hhbm5lbDtcbiAgICAgICAgICAgIGNoYW5uZWwub25vcGVuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnNlbmQoJ0hpIGJhY2shJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFubmVsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goXG4gICAgICAgICAgICBmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkVHJhY2soXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLFxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdHJlYW1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICAvKnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkVHJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0cmVhbVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtcbiAgICAgICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiAxLFxuICAgICAgICAgICAgICAgIG9mZmVyVG9SZWNlaXZlVmlkZW86IDFcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGVzYyl7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonb2ZmZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoZGVzYyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86aWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sMTAwMCkqL1xuXG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH1cblxuICAgIGluaXRSVENQZWVyQ29ubmVjdGlvbigpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6J2NhbmRpZGF0ZScsXG4gICAgICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShlLmNhbmRpZGF0ZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGNyZWF0ZU9mZigpe1xuICAgICAgICBsZXQgX3RoaXMgPXRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5jcmVhdGVPZmZlcih7XG4gICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiAxLFxuICAgICAgICAgICAgb2ZmZXJUb1JlY2VpdmVWaWRlbzogMVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRlc2Mpe1xuICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonb2ZmZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShkZXNjKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOl90aGlzLmlkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNyZWF0ZUFuc3dlcigpe1xuICAgICAgICBsZXQgX3RoaXMgPXRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKS50aGVuKGZ1bmN0aW9uKGRlc2Mpe1xuICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonYW5zd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoZGVzYyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzpfdGhpcy5pZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNsb3NlVmlkZW9DYWxsKCkge1xuICAgICAgICBsZXQgcmVtb3RlVmlkZW8gPSB0aGlzLmVsO1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0gPXJlbW90ZVZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLnBjcyl7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5wY3MuaGFzT3duUHJvcGVydHkoaSkpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbihpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGNzPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlQ29ubmVjdGlvbihpZCl7XG4gICAgICAgIGxldCBjb25uZWN0aW9uID0gdGhpcy5wY3NbaWRdO1xuICAgICAgICBpZihjb25uZWN0aW9uKXtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGNzW2lkXTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3RlclJUQztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvTWFzdGVyUlRDLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by guominghui on 17/8/4.\n */\nvar Message = __webpack_require__(2);\nvar Receiver = __webpack_require__(1);\n\nvar SlaveRTC = function () {\n    function SlaveRTC(el) {\n        _classCallCheck(this, SlaveRTC);\n\n        this.el = el;\n        this.others = [];\n        this.connection = new RTCPeerConnection();\n        this.initRTCPeerConnection();\n        this.message = new Message(this.handleMessage());\n        this.initVideo();\n    }\n\n    _createClass(SlaveRTC, [{\n        key: 'initVideo',\n        value: function initVideo() {\n            var _this = this;\n            navigator.mediaDevices.getUserMedia({\n                audio: true,\n                video: true\n            }).then(function (stream) {\n                _this.stream = stream;\n                stream.getTracks().forEach(function (track) {\n                    if (track.kind == 'audio') {\n                        _this.connection.addTrack(track, stream);\n                    }\n                });\n            }).catch(function (e) {\n                console.log(e);\n            });\n            this.connection.ontrack = function (e) {\n                console.log(e.streams);\n                _this.el.srcObject = e.streams[0];\n            };\n        }\n    }, {\n        key: 'updateToMaster',\n        value: function updateToMaster() {\n            return {\n                message: this.message,\n                others: this.others,\n                id: this.id\n            };\n        }\n    }, {\n        key: 'handleMessage',\n        value: function handleMessage() {\n            var _this = this;\n            return function (msg) {\n                console.log(msg.type, msg.from);\n                var type = msg.type;\n                var data = void 0;\n                switch (type) {\n                    case 'id':\n                        _this.id = msg.data;\n                        console.log('id', msg);\n                        if (msg.masterId) {\n                            _this.masterId = msg.masterId;\n                        }\n                        break;\n                    case 'offer':\n                        msg.desc = msg.payload;\n                        _this.connection.setRemoteDescription(new RTCSessionDescription(msg.desc)).then().catch(function (e) {\n                            console.log(e);\n                        });\n                        _this.createAnswer();\n                        break;\n                    case 'answer':\n\n                        if (msg.data) {\n                            data = JSON.parse(msg.data);\n                        } else if (msg.payload) {\n                            data = JSON.parse(msg.payload);\n                        }\n                        _this.connection.setRemoteDescription(new RTCSessionDescription(data)).then();\n                        break;\n                    case 'candidate':\n\n                        data = msg.payload && {\n                            sdpMLineIndex: msg.payload.label,\n                            sdpMid: msg.payload.id,\n                            candidate: msg.payload.candidate\n                        };\n                        if (data) {\n                            var candidate = new RTCIceCandidate(data);\n                            _this.connection.addIceCandidate(candidate).then(function () {}).catch(function (e) {\n                                console.log(e);\n                            });\n                        }\n                        break;\n                    case 'other':\n                        if (msg.data) {\n                            _this.others = msg.data;\n                        }\n                        break;\n                    case 'otherjoin':\n\n                        _this.others.push(msg.data);\n                        break;\n                    case 'otherleave':\n                        var i = _this.others.indexOf(msg.data);\n                        if (i > -1) {\n                            _this.others.splice(i, 1);\n                        }\n                        break;\n                    case 'newmaster':\n                        _this.masterId = msg.data;\n                        break;\n                }\n            };\n        }\n    }, {\n        key: 'initRTCPeerConnection',\n        value: function initRTCPeerConnection() {\n            var _this = this;\n            var connection = this.connection;\n            connection.onicecandidate = function (e) {\n                _this.message.sendMessage({\n                    type: 'candidate',\n                    payload: {\n                        label: e.candidate && e.candidate.sdpMLineIndex,\n                        id: e.candidate && e.candidate.sdpMid,\n                        candidate: e.candidate && e.candidate.candidate\n                    },\n                    to: _this.masterId\n                });\n            };\n            connection.onremovestream = function () {\n                _this.closeVideoCall();\n            };\n            connection.oniceconnectionstatechange = function () {\n                switch (connection.iceConnectionState) {\n                    case \"closed\":\n                    case \"failed\":\n                    case \"disconnected\":\n                        _this.closeVideoCall();\n                        break;\n                }\n            };\n            connection.onsignalingstatechange = function (event) {\n                switch (connection.signalingState) {\n                    case \"closed\":\n                        _this.closeVideoCall();\n                        break;\n                }\n            };\n\n            connection.ondatachannel = function (event) {\n                var channel = event.channel;\n                channel.onopen = function (event) {\n                    channel.send('Hi back!');\n                };\n                channel.onmessage = function (event) {\n                    var data = JSON.parse(event.data);\n                    console.log(data);\n                    Receiver.receive(data, function (message) {\n                        /*let msg = JSON.parse(event.data);\n                        if(msg.type =='img'){\n                            let imgDom = document.getElementById('img');\n                            if(imgDom){\n                                imgDom.src = msg.data;\n                            }\n                        }*/\n                        console.log(message.data);\n                        if (message.type == 'img') {\n                            var imgDom = document.getElementById('img');\n                            if (imgDom) {\n                                imgDom.src = message.data;\n                            }\n                        }\n                    });\n                };\n            };\n        }\n    }, {\n        key: 'createOff',\n        value: function createOff() {\n            var _this = this;\n            this.connection.createOffer({\n                offerToReceiveAudio: 1,\n                offerToReceiveVideo: 1\n            }).then(function (desc) {\n                _this.connection.setLocalDescription(desc).then(function () {\n                    _this.message.sendMessage({\n                        type: 'offer',\n                        data: JSON.stringify(desc),\n                        id: _this.id\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'createAnswer',\n        value: function createAnswer() {\n            var _this = this;\n            this.connection.createAnswer().then(function (desc) {\n                _this.connection.setLocalDescription(desc).then(function () {\n                    _this.message.sendMessage({\n                        type: 'answer',\n                        payload: desc,\n                        to: _this.masterId\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'closeVideoCall',\n        value: function closeVideoCall() {\n            var remoteVideo = this.el;\n            if (this.connection) {\n                if (this.stream) {\n                    this.stream.getTracks().forEach(function (track) {\n                        return track.stop();\n                    });\n                    this.stream = remoteVideo.srcObject = null;\n                }\n\n                this.connection.close();\n                this.connection = null;\n            }\n        }\n    }]);\n\n    return SlaveRTC;\n}();\n\nmodule.exports = SlaveRTC;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvU2xhdmVSVEMuanM/NzEzMiJdLCJuYW1lcyI6WyJNZXNzYWdlIiwicmVxdWlyZSIsIlJlY2VpdmVyIiwiU2xhdmVSVEMiLCJlbCIsIm90aGVycyIsImNvbm5lY3Rpb24iLCJSVENQZWVyQ29ubmVjdGlvbiIsImluaXRSVENQZWVyQ29ubmVjdGlvbiIsIm1lc3NhZ2UiLCJoYW5kbGVNZXNzYWdlIiwiaW5pdFZpZGVvIiwiX3RoaXMiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsInZpZGVvIiwidGhlbiIsInN0cmVhbSIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsImtpbmQiLCJhZGRUcmFjayIsImNhdGNoIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJvbnRyYWNrIiwic3RyZWFtcyIsInNyY09iamVjdCIsImlkIiwibXNnIiwidHlwZSIsImZyb20iLCJkYXRhIiwibWFzdGVySWQiLCJkZXNjIiwicGF5bG9hZCIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwiY3JlYXRlQW5zd2VyIiwiSlNPTiIsInBhcnNlIiwic2RwTUxpbmVJbmRleCIsImxhYmVsIiwic2RwTWlkIiwiY2FuZGlkYXRlIiwiUlRDSWNlQ2FuZGlkYXRlIiwiYWRkSWNlQ2FuZGlkYXRlIiwicHVzaCIsImkiLCJpbmRleE9mIiwic3BsaWNlIiwib25pY2VjYW5kaWRhdGUiLCJzZW5kTWVzc2FnZSIsInRvIiwib25yZW1vdmVzdHJlYW0iLCJjbG9zZVZpZGVvQ2FsbCIsIm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwib25zaWduYWxpbmdzdGF0ZWNoYW5nZSIsImV2ZW50Iiwic2lnbmFsaW5nU3RhdGUiLCJvbmRhdGFjaGFubmVsIiwiY2hhbm5lbCIsIm9ub3BlbiIsInNlbmQiLCJvbm1lc3NhZ2UiLCJyZWNlaXZlIiwiaW1nRG9tIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNyYyIsImNyZWF0ZU9mZmVyIiwib2ZmZXJUb1JlY2VpdmVBdWRpbyIsIm9mZmVyVG9SZWNlaXZlVmlkZW8iLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwic3RyaW5naWZ5IiwicmVtb3RlVmlkZW8iLCJzdG9wIiwiY2xvc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0FBR0EsSUFBTUEsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWhCO0FBQ0EsSUFBTUMsV0FBVyxtQkFBQUQsQ0FBUSxDQUFSLENBQWpCOztJQUNNRSxRO0FBQ0Ysc0JBQVlDLEVBQVosRUFBZTtBQUFBOztBQUNYLGFBQUtBLEVBQUwsR0FBVUEsRUFBVjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixJQUFJQyxpQkFBSixFQUFsQjtBQUNBLGFBQUtDLHFCQUFMO0FBQ0EsYUFBS0MsT0FBTCxHQUFlLElBQUlULE9BQUosQ0FBWSxLQUFLVSxhQUFMLEVBQVosQ0FBZjtBQUNBLGFBQUtDLFNBQUw7QUFDSDs7OztvQ0FFVTtBQUNQLGdCQUFJQyxRQUFRLElBQVo7QUFDQUMsc0JBQVVDLFlBQVYsQ0FBdUJDLFlBQXZCLENBQW9DO0FBQ2hDQyx1QkFBTyxJQUR5QjtBQUVoQ0MsdUJBQU87QUFGeUIsYUFBcEMsRUFHR0MsSUFISCxDQUdRLFVBQVNDLE1BQVQsRUFBZ0I7QUFDcEJQLHNCQUFNTyxNQUFOLEdBQWVBLE1BQWY7QUFDQUEsdUJBQU9DLFNBQVAsR0FBbUJDLE9BQW5CLENBQ0ssVUFBU0MsS0FBVCxFQUFnQjtBQUNaLHdCQUFHQSxNQUFNQyxJQUFOLElBQWMsT0FBakIsRUFBeUI7QUFDckJYLDhCQUFNTixVQUFOLENBQWlCa0IsUUFBakIsQ0FDSUYsS0FESixFQUVJSCxNQUZKO0FBSUg7QUFDSixpQkFSTjtBQVVILGFBZkQsRUFlR00sS0FmSCxDQWVTLFVBQVNDLENBQVQsRUFBWTtBQUNqQkMsd0JBQVFDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNILGFBakJEO0FBa0JBLGlCQUFLcEIsVUFBTCxDQUFnQnVCLE9BQWhCLEdBQTBCLFVBQVNILENBQVQsRUFBVztBQUNqQ0Msd0JBQVFDLEdBQVIsQ0FBWUYsRUFBRUksT0FBZDtBQUNBbEIsc0JBQU1SLEVBQU4sQ0FBUzJCLFNBQVQsR0FBcUJMLEVBQUVJLE9BQUYsQ0FBVSxDQUFWLENBQXJCO0FBQ0gsYUFIRDtBQUlIOzs7eUNBR2U7QUFDWixtQkFBTztBQUNIckIseUJBQVEsS0FBS0EsT0FEVjtBQUVISix3QkFBTyxLQUFLQSxNQUZUO0FBR0gyQixvQkFBRyxLQUFLQTtBQUhMLGFBQVA7QUFLSDs7O3dDQUVlO0FBQ1osZ0JBQUlwQixRQUFRLElBQVo7QUFDQSxtQkFBTyxVQUFTcUIsR0FBVCxFQUFhO0FBQ2hCTix3QkFBUUMsR0FBUixDQUFZSyxJQUFJQyxJQUFoQixFQUFxQkQsSUFBSUUsSUFBekI7QUFDQSxvQkFBSUQsT0FBT0QsSUFBSUMsSUFBZjtBQUNBLG9CQUFJRSxhQUFKO0FBQ0Esd0JBQVFGLElBQVI7QUFDSSx5QkFBSyxJQUFMO0FBQ0l0Qiw4QkFBTW9CLEVBQU4sR0FBV0MsSUFBSUcsSUFBZjtBQUNBVCxnQ0FBUUMsR0FBUixDQUFZLElBQVosRUFBaUJLLEdBQWpCO0FBQ0EsNEJBQUdBLElBQUlJLFFBQVAsRUFBZ0I7QUFDWnpCLGtDQUFNeUIsUUFBTixHQUFpQkosSUFBSUksUUFBckI7QUFDSDtBQUNEO0FBQ0oseUJBQUssT0FBTDtBQUNJSiw0QkFBSUssSUFBSixHQUFXTCxJQUFJTSxPQUFmO0FBQ0EzQiw4QkFBTU4sVUFBTixDQUFpQmtDLG9CQUFqQixDQUFzQyxJQUFJQyxxQkFBSixDQUEwQlIsSUFBSUssSUFBOUIsQ0FBdEMsRUFBMkVwQixJQUEzRSxHQUFrRk8sS0FBbEYsQ0FBd0YsVUFBU0MsQ0FBVCxFQUFZO0FBQ2hHQyxvQ0FBUUMsR0FBUixDQUFZRixDQUFaO0FBQ0gseUJBRkQ7QUFHQWQsOEJBQU04QixZQUFOO0FBQ0E7QUFDSix5QkFBSyxRQUFMOztBQUVJLDRCQUFHVCxJQUFJRyxJQUFQLEVBQVk7QUFDUkEsbUNBQU9PLEtBQUtDLEtBQUwsQ0FBV1gsSUFBSUcsSUFBZixDQUFQO0FBQ0gseUJBRkQsTUFFTSxJQUFHSCxJQUFJTSxPQUFQLEVBQWU7QUFDakJILG1DQUFPTyxLQUFLQyxLQUFMLENBQVdYLElBQUlNLE9BQWYsQ0FBUDtBQUNIO0FBQ0QzQiw4QkFBTU4sVUFBTixDQUFpQmtDLG9CQUFqQixDQUFzQyxJQUFJQyxxQkFBSixDQUEwQkwsSUFBMUIsQ0FBdEMsRUFBdUVsQixJQUF2RTtBQUNBO0FBQ0oseUJBQUssV0FBTDs7QUFFSWtCLCtCQUFPSCxJQUFJTSxPQUFKLElBQWE7QUFDWk0sMkNBQWVaLElBQUlNLE9BQUosQ0FBWU8sS0FEZjtBQUVaQyxvQ0FBUWQsSUFBSU0sT0FBSixDQUFZUCxFQUZSO0FBR1pnQix1Q0FBV2YsSUFBSU0sT0FBSixDQUFZUztBQUhYLHlCQUFwQjtBQUtBLDRCQUFHWixJQUFILEVBQVE7QUFDSixnQ0FBSVksWUFBWSxJQUFJQyxlQUFKLENBQW9CYixJQUFwQixDQUFoQjtBQUNBeEIsa0NBQU1OLFVBQU4sQ0FBaUI0QyxlQUFqQixDQUFpQ0YsU0FBakMsRUFBNEM5QixJQUE1QyxDQUFpRCxZQUFVLENBRTFELENBRkQsRUFFR08sS0FGSCxDQUVTLFVBQVNDLENBQVQsRUFBWTtBQUNqQkMsd0NBQVFDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNILDZCQUpEO0FBS0g7QUFDRDtBQUNKLHlCQUFLLE9BQUw7QUFDSSw0QkFBR08sSUFBSUcsSUFBUCxFQUFZO0FBQ1J4QixrQ0FBTVAsTUFBTixHQUFjNEIsSUFBSUcsSUFBbEI7QUFDSDtBQUNEO0FBQ0oseUJBQUssV0FBTDs7QUFFSXhCLDhCQUFNUCxNQUFOLENBQWE4QyxJQUFiLENBQWtCbEIsSUFBSUcsSUFBdEI7QUFDQTtBQUNKLHlCQUFLLFlBQUw7QUFDSSw0QkFBSWdCLElBQUl4QyxNQUFNUCxNQUFOLENBQWFnRCxPQUFiLENBQXFCcEIsSUFBSUcsSUFBekIsQ0FBUjtBQUNBLDRCQUFHZ0IsSUFBRSxDQUFDLENBQU4sRUFBUTtBQUNKeEMsa0NBQU1QLE1BQU4sQ0FBYWlELE1BQWIsQ0FBb0JGLENBQXBCLEVBQXNCLENBQXRCO0FBQ0g7QUFDRDtBQUNKLHlCQUFLLFdBQUw7QUFDSXhDLDhCQUFNeUIsUUFBTixHQUFpQkosSUFBSUcsSUFBckI7QUFDQTtBQXpEUjtBQTJESCxhQS9ERDtBQWlFSDs7O2dEQUNzQjtBQUNuQixnQkFBSXhCLFFBQVEsSUFBWjtBQUNBLGdCQUFJTixhQUFhLEtBQUtBLFVBQXRCO0FBQ0FBLHVCQUFXaUQsY0FBWCxHQUE0QixVQUFTN0IsQ0FBVCxFQUFZO0FBQ3BDZCxzQkFBTUgsT0FBTixDQUFjK0MsV0FBZCxDQUEwQjtBQUN0QnRCLDBCQUFLLFdBRGlCO0FBRXRCSyw2QkFBUTtBQUNKTywrQkFBT3BCLEVBQUVzQixTQUFGLElBQWF0QixFQUFFc0IsU0FBRixDQUFZSCxhQUQ1QjtBQUVKYiw0QkFBSU4sRUFBRXNCLFNBQUYsSUFBYXRCLEVBQUVzQixTQUFGLENBQVlELE1BRnpCO0FBR0pDLG1DQUFXdEIsRUFBRXNCLFNBQUYsSUFBYXRCLEVBQUVzQixTQUFGLENBQVlBO0FBSGhDLHFCQUZjO0FBT3RCUyx3QkFBRzdDLE1BQU15QjtBQVBhLGlCQUExQjtBQVNILGFBVkQ7QUFXQS9CLHVCQUFXb0QsY0FBWCxHQUE0QixZQUFVO0FBQ2xDOUMsc0JBQU0rQyxjQUFOO0FBQ0gsYUFGRDtBQUdBckQsdUJBQVdzRCwwQkFBWCxHQUF3QyxZQUFVO0FBQzlDLHdCQUFPdEQsV0FBV3VELGtCQUFsQjtBQUNJLHlCQUFLLFFBQUw7QUFDQSx5QkFBSyxRQUFMO0FBQ0EseUJBQUssY0FBTDtBQUNJakQsOEJBQU0rQyxjQUFOO0FBQ0E7QUFMUjtBQU9ILGFBUkQ7QUFTQXJELHVCQUFXd0Qsc0JBQVgsR0FBb0MsVUFBU0MsS0FBVCxFQUFnQjtBQUNoRCx3QkFBT3pELFdBQVcwRCxjQUFsQjtBQUNJLHlCQUFLLFFBQUw7QUFDSXBELDhCQUFNK0MsY0FBTjtBQUNBO0FBSFI7QUFLSCxhQU5EOztBQVFBckQsdUJBQVcyRCxhQUFYLEdBQTJCLFVBQVNGLEtBQVQsRUFBZ0I7QUFDdkMsb0JBQUlHLFVBQVVILE1BQU1HLE9BQXBCO0FBQ0FBLHdCQUFRQyxNQUFSLEdBQWlCLFVBQVNKLEtBQVQsRUFBZ0I7QUFDN0JHLDRCQUFRRSxJQUFSLENBQWEsVUFBYjtBQUNILGlCQUZEO0FBR0FGLHdCQUFRRyxTQUFSLEdBQW9CLFVBQVNOLEtBQVQsRUFBZ0I7QUFDaEMsd0JBQUkzQixPQUFPTyxLQUFLQyxLQUFMLENBQVdtQixNQUFNM0IsSUFBakIsQ0FBWDtBQUNBVCw0QkFBUUMsR0FBUixDQUFZUSxJQUFaO0FBQ0FsQyw2QkFBU29FLE9BQVQsQ0FBaUJsQyxJQUFqQixFQUFzQixVQUFTM0IsT0FBVCxFQUFpQjtBQUNuQzs7Ozs7OztBQU9Ba0IsZ0NBQVFDLEdBQVIsQ0FBWW5CLFFBQVEyQixJQUFwQjtBQUNBLDRCQUFHM0IsUUFBUXlCLElBQVIsSUFBZSxLQUFsQixFQUF3QjtBQUNwQixnQ0FBSXFDLFNBQVNDLFNBQVNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBYjtBQUNBLGdDQUFHRixNQUFILEVBQVU7QUFDTkEsdUNBQU9HLEdBQVAsR0FBYWpFLFFBQVEyQixJQUFyQjtBQUNIO0FBQ0o7QUFDSixxQkFmRDtBQWlCSCxpQkFwQkQ7QUFxQkgsYUExQkQ7QUEyQkg7OztvQ0FFVTtBQUNQLGdCQUFJeEIsUUFBTyxJQUFYO0FBQ0EsaUJBQUtOLFVBQUwsQ0FBZ0JxRSxXQUFoQixDQUE0QjtBQUN4QkMscUNBQXFCLENBREc7QUFFeEJDLHFDQUFxQjtBQUZHLGFBQTVCLEVBR0czRCxJQUhILENBR1EsVUFBU29CLElBQVQsRUFBYztBQUNsQjFCLHNCQUFNTixVQUFOLENBQWlCd0UsbUJBQWpCLENBQXFDeEMsSUFBckMsRUFBMkNwQixJQUEzQyxDQUNJLFlBQVc7QUFDUE4sMEJBQU1ILE9BQU4sQ0FBYytDLFdBQWQsQ0FBMEI7QUFDdEJ0Qiw4QkFBSyxPQURpQjtBQUV0QkUsOEJBQUtPLEtBQUtvQyxTQUFMLENBQWV6QyxJQUFmLENBRmlCO0FBR3RCTiw0QkFBR3BCLE1BQU1vQjtBQUhhLHFCQUExQjtBQUtILGlCQVBMO0FBU0gsYUFiRDtBQWNIOzs7dUNBQ2E7QUFDVixnQkFBSXBCLFFBQU8sSUFBWDtBQUNBLGlCQUFLTixVQUFMLENBQWdCb0MsWUFBaEIsR0FBK0J4QixJQUEvQixDQUFvQyxVQUFTb0IsSUFBVCxFQUFjO0FBQzlDMUIsc0JBQU1OLFVBQU4sQ0FBaUJ3RSxtQkFBakIsQ0FBcUN4QyxJQUFyQyxFQUEyQ3BCLElBQTNDLENBQ0ksWUFBVztBQUNQTiwwQkFBTUgsT0FBTixDQUFjK0MsV0FBZCxDQUEwQjtBQUN0QnRCLDhCQUFLLFFBRGlCO0FBRXRCSyxpQ0FBUUQsSUFGYztBQUd0Qm1CLDRCQUFHN0MsTUFBTXlCO0FBSGEscUJBQTFCO0FBS0gsaUJBUEw7QUFTSCxhQVZEO0FBV0g7Ozt5Q0FFZ0I7QUFDYixnQkFBSTJDLGNBQWMsS0FBSzVFLEVBQXZCO0FBQ0EsZ0JBQUksS0FBS0UsVUFBVCxFQUFxQjtBQUNqQixvQkFBSSxLQUFLYSxNQUFULEVBQWlCO0FBQ2IseUJBQUtBLE1BQUwsQ0FBWUMsU0FBWixHQUF3QkMsT0FBeEIsQ0FBZ0M7QUFBQSwrQkFBU0MsTUFBTTJELElBQU4sRUFBVDtBQUFBLHFCQUFoQztBQUNBLHlCQUFLOUQsTUFBTCxHQUFjNkQsWUFBWWpELFNBQVosR0FBd0IsSUFBdEM7QUFDSDs7QUFFRCxxQkFBS3pCLFVBQUwsQ0FBZ0I0RSxLQUFoQjtBQUNBLHFCQUFLNUUsVUFBTCxHQUFrQixJQUFsQjtBQUNIO0FBQ0o7Ozs7OztBQUdMNkUsT0FBT0MsT0FBUCxHQUFpQmpGLFFBQWpCIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZ3VvbWluZ2h1aSBvbiAxNy84LzQuXG4gKi9cbmNvbnN0IE1lc3NhZ2UgPSByZXF1aXJlKCcuL3NvY2tldE1lc3NhZ2UnKTtcbmNvbnN0IFJlY2VpdmVyID0gcmVxdWlyZSgnLi9UZXh0UmVjZWl2ZXInKTtcbmNsYXNzIFNsYXZlUlRDIHtcbiAgICBjb25zdHJ1Y3RvcihlbCl7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5vdGhlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuaW5pdFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG5ldyBNZXNzYWdlKHRoaXMuaGFuZGxlTWVzc2FnZSgpKTtcbiAgICAgICAgdGhpcy5pbml0VmlkZW8oKTtcbiAgICB9XG5cbiAgICBpbml0VmlkZW8oKXtcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgICB2aWRlbzogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHN0cmVhbSl7XG4gICAgICAgICAgICBfdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgIGlmKHRyYWNrLmtpbmQgPT0gJ2F1ZGlvJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5hZGRUcmFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICApO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5vbnRyYWNrID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnN0cmVhbXMpO1xuICAgICAgICAgICAgX3RoaXMuZWwuc3JjT2JqZWN0ID0gZS5zdHJlYW1zWzBdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB1cGRhdGVUb01hc3Rlcigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTp0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBvdGhlcnM6dGhpcy5vdGhlcnMsXG4gICAgICAgICAgICBpZDp0aGlzLmlkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVNZXNzYWdlKCkge1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24obXNnKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1zZy50eXBlLG1zZy5mcm9tKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gbXNnLnR5cGU7XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lkJzpcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaWQgPSBtc2cuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lkJyxtc2cpO1xuICAgICAgICAgICAgICAgICAgICBpZihtc2cubWFzdGVySWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWFzdGVySWQgPSBtc2cubWFzdGVySWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2ZmZXInOlxuICAgICAgICAgICAgICAgICAgICBtc2cuZGVzYyA9IG1zZy5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24obXNnLmRlc2MpKS50aGVuKCkuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYW5zd2VyJzpcblxuICAgICAgICAgICAgICAgICAgICBpZihtc2cuZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKG1zZy5wYXlsb2FkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKG1zZy5wYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZGF0YSkpLnRoZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2FuZGlkYXRlJzpcblxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbXNnLnBheWxvYWQmJntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZHBNTGluZUluZGV4OiBtc2cucGF5bG9hZC5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZHBNaWQ6IG1zZy5wYXlsb2FkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZTogbXNnLnBheWxvYWQuY2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKS50aGVuKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ290aGVyJzpcbiAgICAgICAgICAgICAgICAgICAgaWYobXNnLmRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub3RoZXJzID1tc2cuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvdGhlcmpvaW4nOlxuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm90aGVycy5wdXNoKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb3RoZXJsZWF2ZSc6XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gX3RoaXMub3RoZXJzLmluZGV4T2YobXNnLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZihpPi0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm90aGVycy5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICduZXdtYXN0ZXInOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYXN0ZXJJZCA9IG1zZy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGluaXRSVENQZWVyQ29ubmVjdGlvbigpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHR5cGU6J2NhbmRpZGF0ZScsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDp7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlLmNhbmRpZGF0ZSYmZS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGUuY2FuZGlkYXRlJiZlLmNhbmRpZGF0ZS5zZHBNaWQsXG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZTogZS5jYW5kaWRhdGUmJmUuY2FuZGlkYXRlLmNhbmRpZGF0ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG86X3RoaXMubWFzdGVySWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0aW9uLm9ucmVtb3Zlc3RyZWFtID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmNsb3NlVmlkZW9DYWxsKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc3dpdGNoKGNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNsb3NlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmYWlsZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlVmlkZW9DYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgc3dpdGNoKGNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xvc2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlVmlkZW9DYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbm5lY3Rpb24ub25kYXRhY2hhbm5lbCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IGV2ZW50LmNoYW5uZWw7XG7vu78gICAgICAgICAgIGNoYW5uZWwub25vcGVuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnNlbmQoJ0hpIGJhY2shJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFubmVsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIFJlY2VpdmVyLnJlY2VpdmUoZGF0YSxmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgLypsZXQgbXNnID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYobXNnLnR5cGUgPT0naW1nJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW1nRG9tKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdEb20uc3JjID0gbXNnLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZihtZXNzYWdlLnR5cGUgPT0naW1nJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nRG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW1nRG9tKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdEb20uc3JjID0gbWVzc2FnZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNyZWF0ZU9mZigpe1xuICAgICAgICBsZXQgX3RoaXMgPXRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5jcmVhdGVPZmZlcih7XG4gICAgICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiAxLFxuICAgICAgICAgICAgb2ZmZXJUb1JlY2VpdmVWaWRlbzogMVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRlc2Mpe1xuICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonb2ZmZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTpKU09OLnN0cmluZ2lmeShkZXNjKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOl90aGlzLmlkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNyZWF0ZUFuc3dlcigpe1xuICAgICAgICBsZXQgX3RoaXMgPXRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKS50aGVuKGZ1bmN0aW9uKGRlc2Mpe1xuICAgICAgICAgICAgX3RoaXMuY29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2Uuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonYW5zd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6ZGVzYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOl90aGlzLm1hc3RlcklkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2xvc2VWaWRlb0NhbGwoKSB7XG4gICAgICAgIGxldCByZW1vdGVWaWRlbyA9IHRoaXMuZWw7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHJlbW90ZVZpZGVvLnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTbGF2ZVJUQztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvU2xhdmVSVEMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by guominghui on 17/8/15.\n */\nvar Drawer = function () {\n    function Drawer(config) {\n        _classCallCheck(this, Drawer);\n\n        this.dom = config.dom;\n        this.config = config;\n    }\n\n    _createClass(Drawer, [{\n        key: \"init\",\n        value: function init() {\n            var canvas = this.dom;\n            if (canvas.getContext) {\n                //\n                this.ctx = canvas.getContext('2d');\n                // drawing code here\n            } else {\n                //\n                // canvas-unsupported code here\n                console.log(\"canvas-unsupported code here\");\n            }\n\n            this.width = canvas.width = this.config.width;\n            this.height = canvas.height = this.config.height;\n            var isDrawing = false;\n            var lastX = 0;\n            var lastY = 0;\n            this.ctx.lineWidth = this.config.lineWidth || 4;\n            this.ctx.lineCap = \"round\";\n            this.ctx.lineJoin = \"round\";\n            this.ctx.strokeStyle = this.config.color || \"#f00\";\n            var ctx = this.ctx;\n            var x = 0;\n            var y = 0;\n            function draw(e) {\n                if (!isDrawing) return;\n                x = e.offsetX;\n                y = e.offsetY;\n                //\t\t\n                ctx.beginPath();\n                ctx.moveTo(lastX, lastY);\n                ctx.lineTo(x, y);\n                ctx.stroke();\n                lastX = x;\n                lastY = y;\n            }\n            canvas.addEventListener('mousedown', function (e) {\n                isDrawing = true;\n                var _ref = [e.offsetX, e.offsetY];\n                lastX = _ref[0];\n                lastY = _ref[1];\n            });\n            canvas.addEventListener('mousemove', draw);\n            canvas.addEventListener('mouseup', function () {\n                return isDrawing = false;\n            });\n            canvas.addEventListener('mouseout', function () {\n                return isDrawing = false;\n            });\n        }\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            this.ctx.clearRect(0, 0, this.width, this.height);\n        }\n    }, {\n        key: \"changeWidth\",\n        value: function changeWidth(lineWidth) {\n            if (lineWidth && typeof lineWidth == 'number' && lineWidth > 0) {\n                this.ctx.lineWidth = lineWidth;\n            }\n        }\n    }, {\n        key: \"changeColor\",\n        value: function changeColor(color) {\n            if (color) {\n                this.ctx.strokeStyle = color;\n            }\n        }\n    }, {\n        key: \"destroy\",\n        value: function destroy() {\n            var canvas = this.dom;\n            canvas.removeEventListener('mousemove');\n            canvas.removeEventListener('mousedown');\n            canvas.removeEventListener('mouseup');\n            canvas.removeEventListener('mouseout');\n        }\n    }, {\n        key: \"toImg\",\n        value: function toImg() {\n            return this.dom.toDataURL('image/png');\n        }\n    }]);\n\n    return Drawer;\n}();\n\nmodule.exports = Drawer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvY2FudmFzLmpzPzk5OWYiXSwibmFtZXMiOlsiRHJhd2VyIiwiY29uZmlnIiwiZG9tIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsImN0eCIsImNvbnNvbGUiLCJsb2ciLCJ3aWR0aCIsImhlaWdodCIsImlzRHJhd2luZyIsImxhc3RYIiwibGFzdFkiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJzdHJva2VTdHlsZSIsImNvbG9yIiwieCIsInkiLCJkcmF3IiwiZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFyUmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b0RhdGFVUkwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0lBR01BLE07QUFDRixvQkFBWUMsTUFBWixFQUFtQjtBQUFBOztBQUNmLGFBQUtDLEdBQUwsR0FBV0QsT0FBT0MsR0FBbEI7QUFDQSxhQUFLRCxNQUFMLEdBQWNBLE1BQWQ7QUFDSDs7OzsrQkFDSztBQUNGLGdCQUFJRSxTQUFTLEtBQUtELEdBQWxCO0FBQ0EsZ0JBQUlDLE9BQU9DLFVBQVgsRUFBdUI7QUFDbkI7QUFDQSxxQkFBS0MsR0FBTCxHQUFXRixPQUFPQyxVQUFQLENBQWtCLElBQWxCLENBQVg7QUFDQTtBQUNILGFBSkQsTUFJTztBQUNIO0FBQ0E7QUFDQUUsd0JBQVFDLEdBQVIsQ0FBWSw4QkFBWjtBQUNIOztBQUVELGlCQUFLQyxLQUFMLEdBQWFMLE9BQU9LLEtBQVAsR0FBZSxLQUFLUCxNQUFMLENBQVlPLEtBQXhDO0FBQ0EsaUJBQUtDLE1BQUwsR0FBY04sT0FBT00sTUFBUCxHQUFnQixLQUFLUixNQUFMLENBQVlRLE1BQTFDO0FBQ0EsZ0JBQUlDLFlBQVksS0FBaEI7QUFDQSxnQkFBSUMsUUFBUSxDQUFaO0FBQ0EsZ0JBQUlDLFFBQVEsQ0FBWjtBQUNBLGlCQUFLUCxHQUFMLENBQVNRLFNBQVQsR0FBcUIsS0FBS1osTUFBTCxDQUFZWSxTQUFaLElBQXVCLENBQTVDO0FBQ0EsaUJBQUtSLEdBQUwsQ0FBU1MsT0FBVCxHQUFtQixPQUFuQjtBQUNBLGlCQUFLVCxHQUFMLENBQVNVLFFBQVQsR0FBb0IsT0FBcEI7QUFDQSxpQkFBS1YsR0FBTCxDQUFTVyxXQUFULEdBQXVCLEtBQUtmLE1BQUwsQ0FBWWdCLEtBQVosSUFBbUIsTUFBMUM7QUFDQSxnQkFBSVosTUFBTSxLQUFLQSxHQUFmO0FBQ0EsZ0JBQUlhLElBQUksQ0FBUjtBQUNBLGdCQUFJQyxJQUFJLENBQVI7QUFDQSxxQkFBU0MsSUFBVCxDQUFjQyxDQUFkLEVBQWlCO0FBQ2Isb0JBQUksQ0FBQ1gsU0FBTCxFQUFnQjtBQUNoQlEsb0JBQUlHLEVBQUVDLE9BQU47QUFDQUgsb0JBQUlFLEVBQUVFLE9BQU47QUFDQTtBQUNBbEIsb0JBQUltQixTQUFKO0FBQ0FuQixvQkFBSW9CLE1BQUosQ0FBV2QsS0FBWCxFQUFrQkMsS0FBbEI7QUFDQVAsb0JBQUlxQixNQUFKLENBQVdSLENBQVgsRUFBY0MsQ0FBZDtBQUNBZCxvQkFBSXNCLE1BQUo7QUFDQ2hCLHFCQVRZLEdBU0tPLENBVEw7QUFTTE4scUJBVEssR0FTUU8sQ0FUUjtBQVVoQjtBQUNEaEIsbUJBQU95QixnQkFBUCxDQUF3QixXQUF4QixFQUFxQyxVQUFDUCxDQUFELEVBQU87QUFDeENYLDRCQUFZLElBQVo7QUFEd0MsMkJBRXZCLENBQUNXLEVBQUVDLE9BQUgsRUFBWUQsRUFBRUUsT0FBZCxDQUZ1QjtBQUV2Q1oscUJBRnVDO0FBRWhDQyxxQkFGZ0M7QUFHM0MsYUFIRDtBQUlBVCxtQkFBT3lCLGdCQUFQLENBQXdCLFdBQXhCLEVBQXFDUixJQUFyQztBQUNBakIsbUJBQU95QixnQkFBUCxDQUF3QixTQUF4QixFQUFtQztBQUFBLHVCQUFNbEIsWUFBWSxLQUFsQjtBQUFBLGFBQW5DO0FBQ0FQLG1CQUFPeUIsZ0JBQVAsQ0FBd0IsVUFBeEIsRUFBb0M7QUFBQSx1QkFBTWxCLFlBQVksS0FBbEI7QUFBQSxhQUFwQztBQUNIOzs7Z0NBQ007QUFDSCxpQkFBS0wsR0FBTCxDQUFTd0IsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixLQUFLckIsS0FBOUIsRUFBcUMsS0FBS0MsTUFBMUM7QUFDSDs7O29DQUNXSSxTLEVBQVU7QUFDbEIsZ0JBQUdBLGFBQWEsT0FBT0EsU0FBUCxJQUFvQixRQUFqQyxJQUE2Q0EsWUFBWSxDQUE1RCxFQUE4RDtBQUMxRCxxQkFBS1IsR0FBTCxDQUFTUSxTQUFULEdBQXFCQSxTQUFyQjtBQUNIO0FBQ0o7OztvQ0FDV0ksSyxFQUFNO0FBQ2QsZ0JBQUdBLEtBQUgsRUFBUztBQUNMLHFCQUFLWixHQUFMLENBQVNXLFdBQVQsR0FBdUJDLEtBQXZCO0FBQ0g7QUFDSjs7O2tDQUNRO0FBQ0wsZ0JBQUlkLFNBQVMsS0FBS0QsR0FBbEI7QUFDQUMsbUJBQU8yQixtQkFBUCxDQUEyQixXQUEzQjtBQUNBM0IsbUJBQU8yQixtQkFBUCxDQUEyQixXQUEzQjtBQUNBM0IsbUJBQU8yQixtQkFBUCxDQUEyQixTQUEzQjtBQUNBM0IsbUJBQU8yQixtQkFBUCxDQUEyQixVQUEzQjtBQUNIOzs7Z0NBQ007QUFDSCxtQkFBTyxLQUFLNUIsR0FBTCxDQUFTNkIsU0FBVCxDQUFtQixXQUFuQixDQUFQO0FBQ0g7Ozs7OztBQUdMQyxPQUFPQyxPQUFQLEdBQWlCakMsTUFBakIiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBndW9taW5naHVpIG9uIDE3LzgvMTUuXG4gKi9cbmNsYXNzIERyYXdlcntcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpe1xuICAgICAgICB0aGlzLmRvbSA9IGNvbmZpZy5kb207XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLmRvbTtcbiAgICAgICAgaWYgKGNhbnZhcy5nZXRDb250ZXh0KSB7XG4gICAgICAgICAgICAvL+aUr+aMgVxuICAgICAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIC8vIGRyYXdpbmcgY29kZSBoZXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL+S4jeaUr+aMgVxuICAgICAgICAgICAgLy8gY2FudmFzLXVuc3VwcG9ydGVkIGNvZGUgaGVyZVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYW52YXMtdW5zdXBwb3J0ZWQgY29kZSBoZXJlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IGNhbnZhcy53aWR0aCA9IHRoaXMuY29uZmlnLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWlnaHQ7XG4gICAgICAgIGxldCBpc0RyYXdpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGxhc3RYID0gMDtcbiAgICAgICAgbGV0IGxhc3RZID0gMDtcbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gdGhpcy5jb25maWcubGluZVdpZHRofHw0O1xuICAgICAgICB0aGlzLmN0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuICAgICAgICB0aGlzLmN0eC5saW5lSm9pbiA9IFwicm91bmRcIjtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbmZpZy5jb2xvcnx8XCIjZjAwXCI7XG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBsZXQgeSA9IDA7XG4gICAgICAgIGZ1bmN0aW9uIGRyYXcoZSkge1xuICAgICAgICAgICAgaWYgKCFpc0RyYXdpbmcpIHJldHVybjtcbiAgICAgICAgICAgIHggPSBlLm9mZnNldFg7XG4gICAgICAgICAgICB5ID0gZS5vZmZzZXRZO1xuICAgICAgICAgICAgLy9cdFx05o6n5Yi257uY5Yi26Lev5b6EXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGxhc3RYLCBsYXN0WSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgW2xhc3RYLCBsYXN0WV0gPSBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgICBpc0RyYXdpbmcgPSB0cnVlO1xuICAgICAgICAgICAgW2xhc3RYLCBsYXN0WV0gPSBbZS5vZmZzZXRYLCBlLm9mZnNldFldO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGRyYXcpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IGlzRHJhd2luZyA9IGZhbHNlKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4gaXNEcmF3aW5nID0gZmFsc2UpO1xuICAgIH1cbiAgICBjbGVhcigpe1xuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbiAgICBjaGFuZ2VXaWR0aChsaW5lV2lkdGgpe1xuICAgICAgICBpZihsaW5lV2lkdGggJiYgdHlwZW9mIGxpbmVXaWR0aCA9PSAnbnVtYmVyJyAmJiBsaW5lV2lkdGggPiAwKXtcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGFuZ2VDb2xvcihjb2xvcil7XG4gICAgICAgIGlmKGNvbG9yKXtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpe1xuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5kb207XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicpO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcpO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnKTtcbiAgICB9XG4gICAgdG9JbWcoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERyYXdlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9jYW52YXMuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by guominghui on 17/8/4.\n */\nvar id = 1;\nfunction getId() {\n  return id++;\n}\nmodule.exports = getId;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvaWQuanM/NmI1NyJdLCJuYW1lcyI6WyJpZCIsImdldElkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7O0FBR0EsSUFBSUEsS0FBSyxDQUFUO0FBQ0EsU0FBU0MsS0FBVCxHQUFnQjtBQUNaLFNBQU9ELElBQVA7QUFDSDtBQUNERSxPQUFPQyxPQUFQLEdBQWlCRixLQUFqQiIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGd1b21pbmdodWkgb24gMTcvOC80LlxuICovXG5sZXQgaWQgPSAxO1xuZnVuY3Rpb24gZ2V0SWQoKXtcbiAgICByZXR1cm4gaWQrKztcbn1cbm1vZHVsZS5leHBvcnRzID0gZ2V0SWQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2lkLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar util = __webpack_require__(3);\nvar TextSender = {\n    send: function send(config) {\n        var channel = config.channel;\n        var initialText = config.text;\n        var packetSize = config.chunkSize || 1000;\n        var textToTransfer = '';\n        var isobject = '0';\n\n        if (typeof initialText !== 'string') {\n            isobject = '1';\n            initialText = JSON.stringify(initialText);\n        }\n\n        // uuid is used to uniquely identify sending instance\n        var uuid = util.getRandomString();\n        var sendingTime = new Date().getTime();\n\n        sendText(initialText);\n\n        function sendText(textMessage, text) {\n            var data = {\n                type: 'text',\n                uuid: uuid,\n                sendingTime: sendingTime\n            };\n\n            if (textMessage) {\n                text = textMessage;\n                data.packets = parseInt(text.length / packetSize);\n            }\n\n            if (text.length > packetSize) {\n                data.message = text.slice(0, packetSize);\n                data.last = '0';\n                data.isobject = isobject;\n            } else {\n                data.message = text;\n                data.last = '1';\n                data.isobject = isobject;\n            }\n            if (channel.readyState === 'open') {\n                channel.send(JSON.stringify(data));\n            }\n            textToTransfer = text.slice(data.message.length);\n\n            if (textToTransfer.length) {\n                setTimeout(function () {\n                    sendText(null, textToTransfer);\n                }, config.chunkInterval || 100);\n            }\n        }\n    }\n};\n\nmodule.exports = TextSender;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvVGV4dFNlbmRlci5qcz8yYjA3Il0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwiVGV4dFNlbmRlciIsInNlbmQiLCJjb25maWciLCJjaGFubmVsIiwiaW5pdGlhbFRleHQiLCJ0ZXh0IiwicGFja2V0U2l6ZSIsImNodW5rU2l6ZSIsInRleHRUb1RyYW5zZmVyIiwiaXNvYmplY3QiLCJKU09OIiwic3RyaW5naWZ5IiwidXVpZCIsImdldFJhbmRvbVN0cmluZyIsInNlbmRpbmdUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJzZW5kVGV4dCIsInRleHRNZXNzYWdlIiwiZGF0YSIsInR5cGUiLCJwYWNrZXRzIiwicGFyc2VJbnQiLCJsZW5ndGgiLCJtZXNzYWdlIiwic2xpY2UiLCJsYXN0IiwicmVhZHlTdGF0ZSIsInNldFRpbWVvdXQiLCJjaHVua0ludGVydmFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLG1CQUFBQyxDQUFRLENBQVIsQ0FBWDtBQUNBLElBQUlDLGFBQWE7QUFDYkMsVUFBTSxjQUFTQyxNQUFULEVBQWlCO0FBQ25CLFlBQUlDLFVBQVVELE9BQU9DLE9BQXJCO0FBQ0EsWUFBSUMsY0FBY0YsT0FBT0csSUFBekI7QUFDQSxZQUFJQyxhQUFhSixPQUFPSyxTQUFQLElBQW9CLElBQXJDO0FBQ0EsWUFBSUMsaUJBQWlCLEVBQXJCO0FBQ0EsWUFBSUMsV0FBVyxHQUFmOztBQUVBLFlBQUksT0FBT0wsV0FBUCxLQUF1QixRQUEzQixFQUFxQztBQUNqQ0ssdUJBQVcsR0FBWDtBQUNBTCwwQkFBY00sS0FBS0MsU0FBTCxDQUFlUCxXQUFmLENBQWQ7QUFDSDs7QUFFRDtBQUNBLFlBQUlRLE9BQU9kLEtBQUtlLGVBQUwsRUFBWDtBQUNBLFlBQUlDLGNBQWMsSUFBSUMsSUFBSixHQUFXQyxPQUFYLEVBQWxCOztBQUVBQyxpQkFBU2IsV0FBVDs7QUFFQSxpQkFBU2EsUUFBVCxDQUFrQkMsV0FBbEIsRUFBK0JiLElBQS9CLEVBQXFDO0FBQ2pDLGdCQUFJYyxPQUFPO0FBQ1BDLHNCQUFNLE1BREM7QUFFUFIsc0JBQU1BLElBRkM7QUFHUEUsNkJBQWFBO0FBSE4sYUFBWDs7QUFNQSxnQkFBSUksV0FBSixFQUFpQjtBQUNiYix1QkFBT2EsV0FBUDtBQUNBQyxxQkFBS0UsT0FBTCxHQUFlQyxTQUFTakIsS0FBS2tCLE1BQUwsR0FBY2pCLFVBQXZCLENBQWY7QUFDSDs7QUFFRCxnQkFBSUQsS0FBS2tCLE1BQUwsR0FBY2pCLFVBQWxCLEVBQThCO0FBQzFCYSxxQkFBS0ssT0FBTCxHQUFlbkIsS0FBS29CLEtBQUwsQ0FBVyxDQUFYLEVBQWNuQixVQUFkLENBQWY7QUFDQWEscUJBQUtPLElBQUwsR0FBWSxHQUFaO0FBQ0FQLHFCQUFLVixRQUFMLEdBQWdCQSxRQUFoQjtBQUNILGFBSkQsTUFJTztBQUNIVSxxQkFBS0ssT0FBTCxHQUFlbkIsSUFBZjtBQUNBYyxxQkFBS08sSUFBTCxHQUFZLEdBQVo7QUFDQVAscUJBQUtWLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0g7QUFDRCxnQkFBSU4sUUFBUXdCLFVBQVIsS0FBdUIsTUFBM0IsRUFBbUM7QUFDL0J4Qix3QkFBUUYsSUFBUixDQUFhUyxLQUFLQyxTQUFMLENBQWVRLElBQWYsQ0FBYjtBQUNIO0FBQ0RYLDZCQUFpQkgsS0FBS29CLEtBQUwsQ0FBV04sS0FBS0ssT0FBTCxDQUFhRCxNQUF4QixDQUFqQjs7QUFFQSxnQkFBSWYsZUFBZWUsTUFBbkIsRUFBMkI7QUFDdkJLLDJCQUFXLFlBQVc7QUFDbEJYLDZCQUFTLElBQVQsRUFBZVQsY0FBZjtBQUNILGlCQUZELEVBRUdOLE9BQU8yQixhQUFQLElBQXdCLEdBRjNCO0FBR0g7QUFDSjtBQUNKO0FBbkRZLENBQWpCOztBQXNEQUMsT0FBT0MsT0FBUCxHQUFpQi9CLFVBQWpCIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xubGV0IFRleHRTZW5kZXIgPSB7XG4gICAgc2VuZDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gY29uZmlnLmNoYW5uZWw7XG4gICAgICAgIHZhciBpbml0aWFsVGV4dCA9IGNvbmZpZy50ZXh0O1xuICAgICAgICB2YXIgcGFja2V0U2l6ZSA9IGNvbmZpZy5jaHVua1NpemUgfHwgMTAwMDtcbiAgICAgICAgdmFyIHRleHRUb1RyYW5zZmVyID0gJyc7XG4gICAgICAgIHZhciBpc29iamVjdCA9ICcwJztcblxuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxUZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaXNvYmplY3QgPSAnMSc7XG4gICAgICAgICAgICBpbml0aWFsVGV4dCA9IEpTT04uc3RyaW5naWZ5KGluaXRpYWxUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHV1aWQgaXMgdXNlZCB0byB1bmlxdWVseSBpZGVudGlmeSBzZW5kaW5nIGluc3RhbmNlXG4gICAgICAgIHZhciB1dWlkID0gdXRpbC5nZXRSYW5kb21TdHJpbmcoKTtcbiAgICAgICAgdmFyIHNlbmRpbmdUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgc2VuZFRleHQoaW5pdGlhbFRleHQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRUZXh0KHRleHRNZXNzYWdlLCB0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgdXVpZDogdXVpZCxcbiAgICAgICAgICAgICAgICBzZW5kaW5nVGltZTogc2VuZGluZ1RpbWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0TWVzc2FnZTtcbiAgICAgICAgICAgICAgICBkYXRhLnBhY2tldHMgPSBwYXJzZUludCh0ZXh0Lmxlbmd0aCAvIHBhY2tldFNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPiBwYWNrZXRTaXplKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5tZXNzYWdlID0gdGV4dC5zbGljZSgwLCBwYWNrZXRTaXplKTtcbiAgICAgICAgICAgICAgICBkYXRhLmxhc3QgPSAnMCc7XG4gICAgICAgICAgICAgICAgZGF0YS5pc29iamVjdCA9IGlzb2JqZWN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhLm1lc3NhZ2UgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIGRhdGEubGFzdCA9ICcxJztcbiAgICAgICAgICAgICAgICBkYXRhLmlzb2JqZWN0ID0gaXNvYmplY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbm5lbC5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dFRvVHJhbnNmZXIgPSB0ZXh0LnNsaWNlKGRhdGEubWVzc2FnZS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGV4dFRvVHJhbnNmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFRleHQobnVsbCwgdGV4dFRvVHJhbnNmZXIpO1xuICAgICAgICAgICAgICAgIH0sIGNvbmZpZy5jaHVua0ludGVydmFsIHx8IDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHRTZW5kZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvVGV4dFNlbmRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by guominghui on 17/8/8.\n */\nvar config = {\n  socketServer: 'http://localhost:3001'\n};\nmodule.exports = config;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvY29uZmlnLmpzP2MzNmMiXSwibmFtZXMiOlsiY29uZmlnIiwic29ja2V0U2VydmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7O0FBR0EsSUFBSUEsU0FBUztBQUNUQyxnQkFBYTtBQURKLENBQWI7QUFHQUMsT0FBT0MsT0FBUCxHQUFpQkgsTUFBakIiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBndW9taW5naHVpIG9uIDE3LzgvOC5cbiAqL1xubGV0IGNvbmZpZyA9IHtcbiAgICBzb2NrZXRTZXJ2ZXI6J2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMSdcbn1cbm1vZHVsZS5leHBvcnRzID0gY29uZmlnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2NvbmZpZy5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by guominghui on 17/8/4.\n */\nvar SlaveRTC = __webpack_require__(5);\nvar MasterRTC = __webpack_require__(4);\nvar Drawer = __webpack_require__(6);\nvar getId = __webpack_require__(7);\nwindow.onload = function () {\n    var videoDomSelf = document.querySelector('#self');\n    //let videoDomOther = document.querySelector('#other');\n    var self = void 0;\n    var masterbtn = document.querySelector('#masterbtn');\n    var slavebtn = document.querySelector('#slavebtn');\n    var closebtn = document.querySelector('#closebtn');\n    var printbtn = document.querySelector('#printbtn');\n    var drawbtn = document.querySelector('#drawbtn');\n    var clearbtn = document.querySelector('#clearbtn');\n    masterbtn.onclick = function () {\n        if (self instanceof MasterRTC) {\n            return;\n        }\n        var slave = self.updateToMaster();\n        self = new MasterRTC(videoDomSelf, slave);\n        self.createConnections();\n        //self.initVideo();\n    };\n    slavebtn.onclick = function () {\n        self = new SlaveRTC(videoDomSelf);\n        //self.initVideo();\n    };\n    closebtn.onclick = function () {\n        self && self.closeVideoCall();\n        //self.initVideo();\n    };\n    printbtn.onclick = function () {\n        var video = document.getElementById(\"self\"); //video\n        var canvas = document.getElementById('canvas'); //canvas\n        var ctx = canvas.getContext('2d'); //canvas2d\n        var width = 480; //canvas\n        var height = 270; //canvas\n        canvas.width = width;\n        canvas.height = height;\n        ctx.drawImage(video, 0, 0, width, height); //videocanvas\n        //self.initVideo();\n        var images = canvas.toDataURL('image/png');\n        self.drawImg(images);\n    };\n    var canvas = document.getElementById('drawcanvas');\n    var drawer = new Drawer({ dom: canvas, width: 200, height: 200 });\n    drawbtn.onclick = function () {\n        drawer.init();\n        var type = [{\n            color: '#f00',\n            lineWidth: 4\n        }, {\n            color: '#0f0',\n            lineWidth: 6\n        }, {\n            color: '#00f',\n            lineWidth: 8\n        }];\n        var times = 0;\n        setInterval(function () {\n            var obj = type[times % 3];\n            times++;\n            drawer.changeColor(obj.color);\n            drawer.changeWidth(obj.lineWidth);\n        }, 2000);\n    };\n    clearbtn.onclick = function () {\n        console.log(drawer.toImg().length);\n        drawer.clear();\n    };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvaW5kZXguanM/ZGFkYyJdLCJuYW1lcyI6WyJTbGF2ZVJUQyIsInJlcXVpcmUiLCJNYXN0ZXJSVEMiLCJEcmF3ZXIiLCJnZXRJZCIsIndpbmRvdyIsIm9ubG9hZCIsInZpZGVvRG9tU2VsZiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlbGYiLCJtYXN0ZXJidG4iLCJzbGF2ZWJ0biIsImNsb3NlYnRuIiwicHJpbnRidG4iLCJkcmF3YnRuIiwiY2xlYXJidG4iLCJvbmNsaWNrIiwic2xhdmUiLCJ1cGRhdGVUb01hc3RlciIsImNyZWF0ZUNvbm5lY3Rpb25zIiwiY2xvc2VWaWRlb0NhbGwiLCJ2aWRlbyIsImdldEVsZW1lbnRCeUlkIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiaW1hZ2VzIiwidG9EYXRhVVJMIiwiZHJhd0ltZyIsImRyYXdlciIsImRvbSIsImluaXQiLCJ0eXBlIiwiY29sb3IiLCJsaW5lV2lkdGgiLCJ0aW1lcyIsInNldEludGVydmFsIiwib2JqIiwiY2hhbmdlQ29sb3IiLCJjaGFuZ2VXaWR0aCIsImNvbnNvbGUiLCJsb2ciLCJ0b0ltZyIsImxlbmd0aCIsImNsZWFyIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7QUFHQSxJQUFJQSxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLFlBQVksbUJBQUFELENBQVEsQ0FBUixDQUFoQjtBQUNBLElBQUlFLFNBQVMsbUJBQUFGLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUcsUUFBUSxtQkFBQUgsQ0FBUSxDQUFSLENBQVo7QUFDQUksT0FBT0MsTUFBUCxHQUFnQixZQUFVO0FBQ3RCLFFBQUlDLGVBQWVDLFNBQVNDLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBbkI7QUFDQTtBQUNBLFFBQUlDLGFBQUo7QUFDQSxRQUFJQyxZQUFZSCxTQUFTQyxhQUFULENBQXVCLFlBQXZCLENBQWhCO0FBQ0EsUUFBSUcsV0FBV0osU0FBU0MsYUFBVCxDQUF1QixXQUF2QixDQUFmO0FBQ0EsUUFBSUksV0FBV0wsU0FBU0MsYUFBVCxDQUF1QixXQUF2QixDQUFmO0FBQ0EsUUFBSUssV0FBV04sU0FBU0MsYUFBVCxDQUF1QixXQUF2QixDQUFmO0FBQ0EsUUFBSU0sVUFBVVAsU0FBU0MsYUFBVCxDQUF1QixVQUF2QixDQUFkO0FBQ0EsUUFBSU8sV0FBV1IsU0FBU0MsYUFBVCxDQUF1QixXQUF2QixDQUFmO0FBQ0FFLGNBQVVNLE9BQVYsR0FBb0IsWUFBVTtBQUMxQixZQUFHUCxnQkFBZ0JSLFNBQW5CLEVBQTZCO0FBQ3pCO0FBQ0g7QUFDRCxZQUFJZ0IsUUFBUVIsS0FBS1MsY0FBTCxFQUFaO0FBQ0FULGVBQU8sSUFBSVIsU0FBSixDQUFjSyxZQUFkLEVBQTJCVyxLQUEzQixDQUFQO0FBQ0FSLGFBQUtVLGlCQUFMO0FBQ0E7QUFDSCxLQVJEO0FBU0FSLGFBQVNLLE9BQVQsR0FBbUIsWUFBVTtBQUN6QlAsZUFBTyxJQUFJVixRQUFKLENBQWFPLFlBQWIsQ0FBUDtBQUNBO0FBQ0gsS0FIRDtBQUlBTSxhQUFTSSxPQUFULEdBQW1CLFlBQVU7QUFDekJQLGdCQUFRQSxLQUFLVyxjQUFMLEVBQVI7QUFDQTtBQUNILEtBSEQ7QUFJQVAsYUFBU0csT0FBVCxHQUFtQixZQUFVO0FBQ3pCLFlBQUlLLFFBQVFkLFNBQVNlLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBWixDQUR5QixDQUNtQjtBQUM1QyxZQUFJQyxTQUFTaEIsU0FBU2UsY0FBVCxDQUF3QixRQUF4QixDQUFiLENBRnlCLENBRXNCO0FBQy9DLFlBQUlFLE1BQU1ELE9BQU9FLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBVixDQUh5QixDQUdTO0FBQ2xDLFlBQUlDLFFBQVEsR0FBWixDQUp5QixDQUlUO0FBQ2hCLFlBQUlDLFNBQVMsR0FBYixDQUx5QixDQUtSO0FBQ2pCSixlQUFPRyxLQUFQLEdBQWVBLEtBQWY7QUFDQUgsZUFBT0ksTUFBUCxHQUFnQkEsTUFBaEI7QUFDQUgsWUFBSUksU0FBSixDQUFjUCxLQUFkLEVBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCSyxLQUEzQixFQUFrQ0MsTUFBbEMsRUFSeUIsQ0FRaUI7QUFDMUM7QUFDQSxZQUFJRSxTQUFTTixPQUFPTyxTQUFQLENBQWlCLFdBQWpCLENBQWI7QUFDQXJCLGFBQUtzQixPQUFMLENBQWFGLE1BQWI7QUFDSCxLQVpEO0FBYUEsUUFBSU4sU0FBU2hCLFNBQVNlLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBYjtBQUNBLFFBQUlVLFNBQVMsSUFBSTlCLE1BQUosQ0FBVyxFQUFDK0IsS0FBSVYsTUFBTCxFQUFZRyxPQUFNLEdBQWxCLEVBQXNCQyxRQUFPLEdBQTdCLEVBQVgsQ0FBYjtBQUNBYixZQUFRRSxPQUFSLEdBQWtCLFlBQVU7QUFDeEJnQixlQUFPRSxJQUFQO0FBQ0EsWUFBSUMsT0FBTSxDQUFDO0FBQ1BDLG1CQUFNLE1BREM7QUFFUEMsdUJBQVU7QUFGSCxTQUFELEVBR1I7QUFDRUQsbUJBQU0sTUFEUjtBQUVFQyx1QkFBVTtBQUZaLFNBSFEsRUFPTjtBQUNJRCxtQkFBTSxNQURWO0FBRUlDLHVCQUFVO0FBRmQsU0FQTSxDQUFWO0FBV0EsWUFBSUMsUUFBUSxDQUFaO0FBQ0FDLG9CQUFZLFlBQVU7QUFDbEIsZ0JBQUlDLE1BQU1MLEtBQUtHLFFBQU0sQ0FBWCxDQUFWO0FBQ0FBO0FBQ0FOLG1CQUFPUyxXQUFQLENBQW1CRCxJQUFJSixLQUF2QjtBQUNBSixtQkFBT1UsV0FBUCxDQUFtQkYsSUFBSUgsU0FBdkI7QUFDSCxTQUxELEVBS0UsSUFMRjtBQU1ILEtBcEJEO0FBcUJBdEIsYUFBU0MsT0FBVCxHQUFtQixZQUFVO0FBQ3pCMkIsZ0JBQVFDLEdBQVIsQ0FBWVosT0FBT2EsS0FBUCxHQUFlQyxNQUEzQjtBQUNBZCxlQUFPZSxLQUFQO0FBQ0gsS0FIRDtBQUtILENBcEVEIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGd1b21pbmdodWkgb24gMTcvOC80LlxuICovXG5sZXQgU2xhdmVSVEMgPSByZXF1aXJlKCcuL1NsYXZlUlRDLmpzJyk7XG5sZXQgTWFzdGVyUlRDID0gcmVxdWlyZSgnLi9NYXN0ZXJSVEMnKTtcbmxldCBEcmF3ZXIgPSByZXF1aXJlKCcuL2NhbnZhcycpO1xubGV0IGdldElkID0gcmVxdWlyZSgnLi9pZC5qcycpO1xud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgbGV0IHZpZGVvRG9tU2VsZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWxmJyk7XG4gICAgLy9sZXQgdmlkZW9Eb21PdGhlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdGhlcicpO1xuICAgIGxldCBzZWxmO1xuICAgIGxldCBtYXN0ZXJidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFzdGVyYnRuJyk7XG4gICAgbGV0IHNsYXZlYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsYXZlYnRuJyk7XG4gICAgbGV0IGNsb3NlYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlYnRuJyk7XG4gICAgbGV0IHByaW50YnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaW50YnRuJyk7XG4gICAgbGV0IGRyYXdidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZHJhd2J0bicpO1xuICAgIGxldCBjbGVhcmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGVhcmJ0bicpO1xuICAgIG1hc3RlcmJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoc2VsZiBpbnN0YW5jZW9mIE1hc3RlclJUQyl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNsYXZlID0gc2VsZi51cGRhdGVUb01hc3RlcigpO1xuICAgICAgICBzZWxmID0gbmV3IE1hc3RlclJUQyh2aWRlb0RvbVNlbGYsc2xhdmUpO1xuICAgICAgICBzZWxmLmNyZWF0ZUNvbm5lY3Rpb25zKCk7XG4gICAgICAgIC8vc2VsZi5pbml0VmlkZW8oKTtcbiAgICB9XG4gICAgc2xhdmVidG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHNlbGYgPSBuZXcgU2xhdmVSVEModmlkZW9Eb21TZWxmKTtcbiAgICAgICAgLy9zZWxmLmluaXRWaWRlbygpO1xuICAgIH1cbiAgICBjbG9zZWJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZiAmJiBzZWxmLmNsb3NlVmlkZW9DYWxsKCk7XG4gICAgICAgIC8vc2VsZi5pbml0VmlkZW8oKTtcbiAgICB9XG4gICAgcHJpbnRidG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZlwiKTsvL+iOt+WPluWJjeWPsOimgeaIquWbvueahHZpZGVv5a+56LGh77yMXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7Ly/ojrflj5bliY3lj7DnmoRjYW52YXPlr7nosaHvvIznlKjkuo7kvZzlm75cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOy8v6K6+572uY2FudmFz57uY5Yi2MmTlm77vvIxcbiAgICAgICAgdmFyIHdpZHRoID0gNDgwOy8v6K6+572uY2FudmFz5a69XG4gICAgICAgIHZhciBoZWlnaHQgPSAyNzA7Ly/orr7nva5jYW52YXPpq5hcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIHdpZHRoLCBoZWlnaHQpOy8v5bCGdmlkZW/op4bpopHnu5jliLbliLBjYW52YXPkuK1cbiAgICAgICAgLy9zZWxmLmluaXRWaWRlbygpO1xuICAgICAgICB2YXIgaW1hZ2VzID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgIHNlbGYuZHJhd0ltZyhpbWFnZXMpO1xuICAgIH1cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdjYW52YXMnKTtcbiAgICBsZXQgZHJhd2VyID0gbmV3IERyYXdlcih7ZG9tOmNhbnZhcyx3aWR0aDoyMDAsaGVpZ2h0OjIwMH0pO1xuICAgIGRyYXdidG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGRyYXdlci5pbml0KCk7XG4gICAgICAgIHZhciB0eXBlID1be1xuICAgICAgICAgICAgY29sb3I6JyNmMDAnLFxuICAgICAgICAgICAgbGluZVdpZHRoOjRcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBjb2xvcjonIzBmMCcsXG4gICAgICAgICAgICBsaW5lV2lkdGg6NlxuICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbG9yOicjMDBmJyxcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6OFxuICAgICAgICAgICAgfV07XG4gICAgICAgIHZhciB0aW1lcyA9IDA7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgb2JqID0gdHlwZVt0aW1lcyUzXTtcbiAgICAgICAgICAgIHRpbWVzKys7XG4gICAgICAgICAgICBkcmF3ZXIuY2hhbmdlQ29sb3Iob2JqLmNvbG9yKTtcbiAgICAgICAgICAgIGRyYXdlci5jaGFuZ2VXaWR0aChvYmoubGluZVdpZHRoKTtcbiAgICAgICAgfSwyMDAwKVxuICAgIH1cbiAgICBjbGVhcmJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coZHJhd2VyLnRvSW1nKCkubGVuZ3RoKTtcbiAgICAgICAgZHJhd2VyLmNsZWFyKCk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by guominghui on 17/8/17.\n */\n/*\nlet html2canvas = require('./screenshot');\n*/\nvar RecordRTC = __webpack_require__(0);\n\nvar isRecordingStarted = false;\nvar isStoppedRecording = false;\n\nvar rc = {\n    start: function start() {\n        isStoppedRecording = false;\n        isRecordingStarted = true;\n        // this.recorder.startRecording();\n    },\n    stop: function stop() {\n        isStoppedRecording = true;\n        var _this = this;\n        /* this.recorder.stopRecording(function () {\n              // or manually:\n             _this.recorder.save('filename.webm');\n         });*/\n    },\n    init: function init(id) {\n        var elementToShare = document.getElementById(id);\n        var canvas2d = document.createElement('canvas');\n        var context = canvas2d.getContext('2d');\n\n        canvas2d.width = elementToShare.clientWidth;\n        canvas2d.height = elementToShare.clientHeight;\n\n        canvas2d.style.top = 0;\n        canvas2d.style.left = 0;\n        canvas2d.style.zIndex = -1;\n        (document.body || document.documentElement).appendChild(canvas2d);\n        (function looper() {\n            if (!isRecordingStarted) {\n                return setTimeout(looper, 500);\n            }\n\n            html2canvas(elementToShare, {\n                grabMouse: true,\n                onrendered: function onrendered(canvas) {\n                    context.clearRect(0, 0, canvas2d.width, canvas2d.height);\n                    context.drawImage(canvas, 0, 0, canvas2d.width, canvas2d.height);\n\n                    if (isStoppedRecording) {\n                        return;\n                    }\n\n                    requestAnimationFrame(looper);\n                }\n            });\n        })();\n        this.recorder = new RecordRTC(canvas2d, {\n            type: 'canvas'\n        });\n    }\n};\nmodule.exports = rc;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc2NyZWVucmVvY3JkZXIuanM/NjQzYSJdLCJuYW1lcyI6WyJSZWNvcmRSVEMiLCJyZXF1aXJlIiwiaXNSZWNvcmRpbmdTdGFydGVkIiwiaXNTdG9wcGVkUmVjb3JkaW5nIiwicmMiLCJzdGFydCIsInN0b3AiLCJfdGhpcyIsImluaXQiLCJpZCIsImVsZW1lbnRUb1NoYXJlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhczJkIiwiY3JlYXRlRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsInN0eWxlIiwidG9wIiwibGVmdCIsInpJbmRleCIsImJvZHkiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImxvb3BlciIsInNldFRpbWVvdXQiLCJodG1sMmNhbnZhcyIsImdyYWJNb3VzZSIsIm9ucmVuZGVyZWQiLCJjYW52YXMiLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZWNvcmRlciIsInR5cGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7QUFHQTs7O0FBR0EsSUFBSUEsWUFBWSxtQkFBQUMsQ0FBUSxDQUFSLENBQWhCOztBQUVBLElBQUlDLHFCQUFxQixLQUF6QjtBQUNBLElBQUlDLHFCQUFxQixLQUF6Qjs7QUFFQSxJQUFJQyxLQUFLO0FBQ0xDLFdBQU0saUJBQVU7QUFDWkYsNkJBQXFCLEtBQXJCO0FBQ0FELDZCQUFxQixJQUFyQjtBQUNEO0FBQ0YsS0FMSTtBQU1MSSxVQUFLLGdCQUFXO0FBQ1pILDZCQUFxQixJQUFyQjtBQUNBLFlBQUlJLFFBQVEsSUFBWjtBQUNEOzs7O0FBS0YsS0FkSTtBQWVMQyxVQUFLLGNBQVNDLEVBQVQsRUFBWTtBQUNiLFlBQUlDLGlCQUFpQkMsU0FBU0MsY0FBVCxDQUF3QkgsRUFBeEIsQ0FBckI7QUFDQSxZQUFJSSxXQUFXRixTQUFTRyxhQUFULENBQXVCLFFBQXZCLENBQWY7QUFDQSxZQUFJQyxVQUFVRixTQUFTRyxVQUFULENBQW9CLElBQXBCLENBQWQ7O0FBRUFILGlCQUFTSSxLQUFULEdBQWlCUCxlQUFlUSxXQUFoQztBQUNBTCxpQkFBU00sTUFBVCxHQUFrQlQsZUFBZVUsWUFBakM7O0FBRUFQLGlCQUFTUSxLQUFULENBQWVDLEdBQWYsR0FBcUIsQ0FBckI7QUFDQVQsaUJBQVNRLEtBQVQsQ0FBZUUsSUFBZixHQUFzQixDQUF0QjtBQUNBVixpQkFBU1EsS0FBVCxDQUFlRyxNQUFmLEdBQXdCLENBQUMsQ0FBekI7QUFDQSxTQUFDYixTQUFTYyxJQUFULElBQWlCZCxTQUFTZSxlQUEzQixFQUE0Q0MsV0FBNUMsQ0FBd0RkLFFBQXhEO0FBQ0EsU0FBQyxTQUFTZSxNQUFULEdBQWtCO0FBQ2YsZ0JBQUcsQ0FBQzFCLGtCQUFKLEVBQXdCO0FBQ3BCLHVCQUFPMkIsV0FBV0QsTUFBWCxFQUFtQixHQUFuQixDQUFQO0FBQ0g7O0FBRURFLHdCQUFZcEIsY0FBWixFQUE0QjtBQUN4QnFCLDJCQUFXLElBRGE7QUFFeEJDLDRCQUFZLG9CQUFTQyxNQUFULEVBQWlCO0FBQ3pCbEIsNEJBQVFtQixTQUFSLENBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCckIsU0FBU0ksS0FBakMsRUFBd0NKLFNBQVNNLE1BQWpEO0FBQ0FKLDRCQUFRb0IsU0FBUixDQUFrQkYsTUFBbEIsRUFBMEIsQ0FBMUIsRUFBNkIsQ0FBN0IsRUFBZ0NwQixTQUFTSSxLQUF6QyxFQUFnREosU0FBU00sTUFBekQ7O0FBRUEsd0JBQUdoQixrQkFBSCxFQUF1QjtBQUNuQjtBQUNIOztBQUVEaUMsMENBQXNCUixNQUF0QjtBQUNIO0FBWHVCLGFBQTVCO0FBYUgsU0FsQkQ7QUFtQkEsYUFBS1MsUUFBTCxHQUFnQixJQUFJckMsU0FBSixDQUFjYSxRQUFkLEVBQXdCO0FBQ3BDeUIsa0JBQU07QUFEOEIsU0FBeEIsQ0FBaEI7QUFHSDtBQWpESSxDQUFUO0FBbURBQyxPQUFPQyxPQUFQLEdBQWlCcEMsRUFBakIiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgZ3VvbWluZ2h1aSBvbiAxNy84LzE3LlxuICovXG4vKlxubGV0IGh0bWwyY2FudmFzID0gcmVxdWlyZSgnLi9zY3JlZW5zaG90Jyk7XG4qL1xubGV0IFJlY29yZFJUQyA9IHJlcXVpcmUoJy4vUmVjb3JkUlRDJyk7XG5cbnZhciBpc1JlY29yZGluZ1N0YXJ0ZWQgPSBmYWxzZTtcbnZhciBpc1N0b3BwZWRSZWNvcmRpbmcgPSBmYWxzZTtcblxudmFyIHJjID0ge1xuICAgIHN0YXJ0OmZ1bmN0aW9uKCl7XG4gICAgICAgIGlzU3RvcHBlZFJlY29yZGluZyA9IGZhbHNlO1xuICAgICAgICBpc1JlY29yZGluZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgIC8vIHRoaXMucmVjb3JkZXIuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICB9LFxuICAgIHN0b3A6ZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzU3RvcHBlZFJlY29yZGluZyA9IHRydWU7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICAgLyogdGhpcy5yZWNvcmRlci5zdG9wUmVjb3JkaW5nKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gb3IgbWFudWFsbHk6XG4gICAgICAgICAgICBfdGhpcy5yZWNvcmRlci5zYXZlKCdmaWxlbmFtZS53ZWJtJyk7XG4gICAgICAgIH0pOyovXG4gICAgfSxcbiAgICBpbml0OmZ1bmN0aW9uKGlkKXtcbiAgICAgICAgdmFyIGVsZW1lbnRUb1NoYXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICB2YXIgY2FudmFzMmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMyZC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNhbnZhczJkLndpZHRoID0gZWxlbWVudFRvU2hhcmUuY2xpZW50V2lkdGg7XG4gICAgICAgIGNhbnZhczJkLmhlaWdodCA9IGVsZW1lbnRUb1NoYXJlLmNsaWVudEhlaWdodDtcblxuICAgICAgICBjYW52YXMyZC5zdHlsZS50b3AgPSAwO1xuICAgICAgICBjYW52YXMyZC5zdHlsZS5sZWZ0ID0gMDtcbiAgICAgICAgY2FudmFzMmQuc3R5bGUuekluZGV4ID0gLTE7XG4gICAgICAgIChkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoY2FudmFzMmQpO1xuICAgICAgICAoZnVuY3Rpb24gbG9vcGVyKCkge1xuICAgICAgICAgICAgaWYoIWlzUmVjb3JkaW5nU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGxvb3BlciwgNTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbDJjYW52YXMoZWxlbWVudFRvU2hhcmUsIHtcbiAgICAgICAgICAgICAgICBncmFiTW91c2U6IHRydWUsXG4gICAgICAgICAgICAgICAgb25yZW5kZXJlZDogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhczJkLndpZHRoLCBjYW52YXMyZC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIGNhbnZhczJkLndpZHRoLCBjYW52YXMyZC5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzU3RvcHBlZFJlY29yZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3Blcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHRoaXMucmVjb3JkZXIgPSBuZXcgUmVjb3JkUlRDKGNhbnZhczJkLCB7XG4gICAgICAgICAgICB0eXBlOiAnY2FudmFzJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHJjO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9zY3JlZW5yZW9jcmRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";function r(t,e){\"object\"===(\"undefined\"==typeof t?\"undefined\":o(t))&&(e=t,t=void 0),e=e||{};var n,r=i(t),s=r.source,u=r.id,h=r.path,f=p[u]&&h in p[u].nsps,l=e.forceNew||e[\"force new connection\"]||!1===e.multiplex||f;return l?(c(\"ignoring socket cache for %s\",s),n=a(s,e)):(p[u]||(c(\"new io instance for %s\",s),p[u]=a(s,e)),n=p[u]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(1),s=n(7),a=n(13),c=n(3)(\"socket.io-client\");t.exports=e=r;var p=e.managers={};e.protocol=s.protocol,e.connect=r,e.Manager=n(13),e.Socket=n(39)},function(t,e,n){(function(e){\"use strict\";function r(t,n){var r=t;n=n||e.location,null==t&&(t=n.protocol+\"//\"+n.host),\"string\"==typeof t&&(\"/\"===t.charAt(0)&&(t=\"/\"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\\/\\//.test(t)||(i(\"protocol-less url %s\",t),t=\"undefined\"!=typeof n?n.protocol+\"//\"+t:\"https://\"+t),i(\"parse %s\",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";var s=r.host.indexOf(\":\")!==-1,a=s?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+a+\":\"+r.port,r.href=r.protocol+\"://\"+a+(n&&n.port===r.port?\"\":\":\"+r.port),r}var o=n(2),i=n(3)(\"socket.io-client:url\");t.exports=r}).call(e,function(){return this}())},function(t,e){var n=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,r=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];t.exports=function(t){var e=t,o=t.indexOf(\"[\"),i=t.indexOf(\"]\");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,\";\")+t.substring(i,t.length));for(var s=n.exec(t||\"\"),a={},c=14;c--;)a[r[c]]=s[c]||\"\";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a}},function(t,e,n){(function(r){function o(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?\"%c\":\"\")+this.namespace+(n?\" %c\":\" \")+t[0]+(n?\"%c \":\" \")+\"+\"+e.humanize(this.diff),n){var r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){\"%%\"!==t&&(o++,\"%c\"===t&&(i=o))}),t.splice(i,0,r)}}function s(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&\"undefined\"!=typeof r&&\"env\"in r&&(t=r.env.DEBUG),t}function p(){try{return window.localStorage}catch(t){}}e=t.exports=n(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:p(),e.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},e.enable(c())}).call(e,n(4))},function(t,e){function n(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):m=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++m<e;)l&&l[m].run();m=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function p(){}var u,h,f=t.exports={};!function(){try{u=\"function\"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h=\"function\"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var l,d=[],y=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title=\"browser\",f.browser=!0,f.env={},f.argv=[],f.version=\"\",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(t){return[]},f.binding=function(t){throw new Error(\"process.binding is not supported\")},f.cwd=function(){return\"/\"},f.chdir=function(t){throw new Error(\"process.chdir is not supported\")},f.umask=function(){return 0}},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(p||r);t.diff=o,t.prev=p,t.curr=r,p=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if(\"%%\"===n)return n;a++;var o=e.formatters[r];if(\"function\"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),e.formatArgs.call(t,i);var c=n.log||e.log||console.log.bind(console);c.apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),\"function\"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\\*/g,\".*?\"),\"-\"===t[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))}function s(){e.enable(\"\")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o[\"default\"]=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=n(6),e.names=[],e.skips=[],e.formatters={};var p},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||\"ms\").toLowerCase();switch(r){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return n*u;case\"days\":case\"day\":case\"d\":return n*p;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return n*c;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return n*a;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return n*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return n;default:return}}}}function r(t){return t>=p?Math.round(t/p)+\"d\":t>=c?Math.round(t/c)+\"h\":t>=a?Math.round(t/a)+\"m\":t>=s?Math.round(t/s)+\"s\":t+\"ms\"}function o(t){return i(t,p,\"day\")||i(t,c,\"hour\")||i(t,a,\"minute\")||i(t,s,\"second\")||t+\" ms\"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+n:Math.ceil(t/e)+\" \"+n+\"s\"}var s=1e3,a=60*s,c=60*a,p=24*c,u=365.25*p;t.exports=function(t,e){e=e||{};var i=typeof t;if(\"string\"===i&&t.length>0)return n(t);if(\"number\"===i&&isNaN(t)===!1)return e[\"long\"]?o(t):r(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},function(t,e,n){function r(){}function o(t){var n=\"\"+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(n+=t.nsp+\",\"),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),h(\"encoded %j as %s\",t,n),n}function i(t,e){function n(t){var n=d.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}d.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return u();if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o=\"\";\"-\"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||\"-\"!==t.charAt(n))throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(\"/\"===t.charAt(n+1))for(r.nsp=\"\";++n;){var i=t.charAt(n);if(\",\"===i)break;if(r.nsp+=i,n===t.length)break}else r.nsp=\"/\";var s=t.charAt(n+1);if(\"\"!==s&&Number(s)==s){for(r.id=\"\";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),h(\"decoded %s as %j\",t,r),r}function c(t,e){try{t.data=JSON.parse(e)}catch(n){return u()}return t}function p(t){this.reconPack=t,this.buffers=[]}function u(){return{type:e.ERROR,data:\"parser error\"}}var h=n(3)(\"socket.io-parser\"),f=n(8),l=n(9),d=n(11),y=n(12);e.protocol=4,e.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=s,r.prototype.encode=function(t,n){if(t.type!==e.EVENT&&t.type!==e.ACK||!l(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),h(\"encoding packet %j\",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)i(t,n);else{var r=o(t);n([r])}},f(s.prototype),s.prototype.add=function(t){var n;if(\"string\"==typeof t)n=a(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",n)):this.emit(\"decoded\",n);else{if(!y(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit(\"decoded\",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+t]=this._callbacks[\"$\"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[\"$\"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[\"$\"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(e){function r(t){if(!t||\"object\"!=typeof t)return!1;if(o(t)){for(var n=0,i=t.length;n<i;n++)if(r(t[n]))return!0;return!1}if(\"function\"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||\"function\"==typeof e.ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&\"function\"==typeof t.toJSON&&1===arguments.length)return r(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&r(t[c]))return!0;return!1}var o=n(10),i=Object.prototype.toString,s=\"function\"==typeof e.Blob||\"[object BlobConstructor]\"===i.call(e.Blob),a=\"function\"==typeof e.File||\"[object FileConstructor]\"===i.call(e.File);t.exports=r}).call(e,function(){return this}())},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==n.call(t)}},function(t,e,n){(function(t){function r(t,e){if(!t)return t;if(s(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=r(t[a],e);return o}if(\"object\"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=r(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=o(t[n],e);else if(\"object\"==typeof t)for(var r in t)t[r]=o(t[r],e);return t}var i=n(10),s=n(12),a=Object.prototype.toString,c=\"function\"==typeof t.Blob||\"[object BlobConstructor]\"===a.call(t.Blob),p=\"function\"==typeof t.File||\"[object FileConstructor]\"===a.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=r(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,a,u){if(!t)return t;if(c&&t instanceof Blob||p&&t instanceof File){r++;var h=new FileReader;h.onload=function(){u?u[a]=this.result:o=this.result,--r||e(o)},h.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)n(t[f],f,t);else if(\"object\"==typeof t&&!s(t))for(var l in t)n(t[l],l,t)}var r=0,o=t;n(o),r||e(o)}}).call(e,function(){return this}())},function(t,e){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(e,function(){return this}())},function(t,e,n){\"use strict\";function r(t,e){if(!(this instanceof r))return new r(t,e);t&&\"object\"===(\"undefined\"==typeof t?\"undefined\":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState=\"closed\",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(14),s=n(39),a=n(8),c=n(7),p=n(41),u=n(42),h=n(3)(\"socket.io-client:manager\"),f=n(37),l=n(43),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return(\"/\"===t?\"\":t+\"#\")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(h(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;h(\"opening %s\",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState=\"opening\",this.skipReconnect=!1;var o=p(n,\"open\",function(){r.onopen(),t&&t()}),s=p(n,\"error\",function(e){if(h(\"connect_error\"),r.cleanup(),r.readyState=\"closed\",r.emitAll(\"connect_error\",e),t){var n=new Error(\"Connection error\");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;h(\"connect attempt will timeout after %d\",a);var c=setTimeout(function(){h(\"connect attempt timed out after %d\",a),o.destroy(),n.close(),n.emit(\"error\",\"timeout\"),r.emitAll(\"connect_timeout\",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},r.prototype.onopen=function(){h(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var t=this.engine;this.subs.push(p(t,\"data\",u(this,\"ondata\"))),this.subs.push(p(t,\"ping\",u(this,\"onping\"))),this.subs.push(p(t,\"pong\",u(this,\"onpong\"))),this.subs.push(p(t,\"error\",u(this,\"onerror\"))),this.subs.push(p(t,\"close\",u(this,\"onclose\"))),this.subs.push(p(this.decoder,\"decoded\",u(this,\"ondecoded\")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},r.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit(\"packet\",t)},r.prototype.onerror=function(t){h(\"error\",t),this.emitAll(\"error\",t)},r.prototype.socket=function(t,e){function n(){~f(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[t];if(!r){r=new s(this,t,e),this.nsps[t]=r;var o=this;r.on(\"connecting\",n),r.on(\"connect\",function(){r.id=o.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){h(\"writing packet %j\",t);var e=this;t.query&&0===t.type&&(t.nsp+=\"?\"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){h(\"cleanup\");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){h(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},r.prototype.onclose=function(t){h(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var e=this.backoff.duration();h(\"will wait %dms before reconnect attempt\",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(h(\"attempting reconnect\"),t.emitAll(\"reconnect_attempt\",t.backoff.attempts),t.emitAll(\"reconnecting\",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h(\"reconnect attempt error\"),t.reconnecting=!1,t.reconnect(),t.emitAll(\"reconnect_error\",e.data)):(h(\"reconnect success\"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",t)}},function(t,e,n){t.exports=n(15)},function(t,e,n){t.exports=n(16),t.exports.parser=n(23)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);n=n||{},t&&\"object\"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure=\"https\"===t.protocol||\"wss\"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&\"https:\"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?\"443\":\"80\"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:\"localhost\"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},\"string\"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||\"t\",this.timestampRequests=n.timestampRequests,this.transports=n.transports||[\"polling\",\"websocket\"],this.transportOptions=n.transportOptions||{},this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var o=\"object\"==typeof e&&e;o.global===o&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=n(17),s=n(8),a=n(3)(\"engine.io-client:socket\"),c=n(37),p=n(23),u=n(2),h=n(38),f=n(31);t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(22),r.transports=n(17),r.parser=n(23),r.prototype.createTransport=function(t){a('creating transport \"%s\"',t);var e=o(this.query);e.EIO=p.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0});return r},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf(\"websocket\")!==-1)t=\"websocket\";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit(\"error\",\"No transports available\")},0)}t=this.transports[0]}this.readyState=\"opening\";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){a(\"setting transport %s\",t.name);var e=this;this.transport&&(a(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on(\"drain\",function(){e.onDrain()}).on(\"packet\",function(t){e.onPacket(t)}).on(\"error\",function(t){e.onError(t)}).on(\"close\",function(){e.onClose(\"transport close\")})},r.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(a('probe transport \"%s\" opened',t),u.send([{type:\"ping\",data:\"probe\"}]),u.once(\"packet\",function(e){if(!h)if(\"pong\"===e.type&&\"probe\"===e.data){if(a('probe transport \"%s\" pong',t),f.upgrading=!0,f.emit(\"upgrading\",u),!u)return;r.priorWebsocketSuccess=\"websocket\"===u.name,a('pausing current transport \"%s\"',f.transport.name),f.transport.pause(function(){h||\"closed\"!==f.readyState&&(a(\"changing transport and sending upgrade packet\"),p(),f.setTransport(u),u.send([{type:\"upgrade\"}]),f.emit(\"upgrade\",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport \"%s\" failed',t);var n=new Error(\"probe error\");n.transport=u.name,f.emit(\"upgradeError\",n)}}))}function n(){h||(h=!0,p(),u.close(),u=null)}function o(e){var r=new Error(\"probe error: \"+e);r.transport=u.name,n(),a('probe transport \"%s\" failed because of error: %s',t,e),f.emit(\"upgradeError\",r)}function i(){o(\"transport closed\")}function s(){o(\"socket closed\")}function c(t){u&&t.name!==u.name&&(a('\"%s\" works - aborting \"%s\"',t.name,u.name),n())}function p(){u.removeListener(\"open\",e),u.removeListener(\"error\",o),u.removeListener(\"close\",i),f.removeListener(\"close\",s),f.removeListener(\"upgrading\",c)}a('probing transport \"%s\"',t);var u=this.createTransport(t,{probe:1}),h=!1,f=this;r.priorWebsocketSuccess=!1,u.once(\"open\",e),u.once(\"error\",o),u.once(\"close\",i),this.once(\"close\",s),this.once(\"upgrading\",c),u.open()},r.prototype.onOpen=function(){if(a(\"socket open\"),this.readyState=\"open\",r.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){a(\"starting upgrade probes\");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(a('socket receive: type \"%s\", data \"%s\"',t.type,t.data),this.emit(\"packet\",t),this.emit(\"heartbeat\"),t.type){case\"open\":this.onHandshake(h(t.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var e=new Error(\"server error\");e.code=t.data,this.onError(e);break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else a('packet received with socket readyState \"%s\"',this.readyState)},r.prototype.onHandshake=function(t){this.emit(\"handshake\",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){\"closed\"!==e.readyState&&e.onClose(\"ping timeout\")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a(\"writing ping packet - expecting pong within %sms\",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket(\"ping\",function(){t.emit(\"ping\")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},r.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket(\"message\",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if(\"function\"==typeof e&&(r=e,e=void 0),\"function\"==typeof n&&(r=n,n=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit(\"packetCreate\",o),this.writeBuffer.push(o),r&&this.once(\"flush\",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose(\"forced close\"),a(\"socket closing - telling transport to close\"),r.transport.close()}function e(){r.removeListener(\"upgrade\",e),r.removeListener(\"upgradeError\",e),t()}function n(){r.once(\"upgrade\",e),r.once(\"upgradeError\",e)}if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var r=this;this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){a(\"socket error %j\",t),r.priorWebsocketSuccess=!1,this.emit(\"error\",t),this.onClose(\"transport error\",t)},r.prototype.onClose=function(t,e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){a('socket close with reason: \"%s\"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){var n,r=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p=\"https:\"===location.protocol,u=location.port;u||(u=p?443:80),r=e.hostname!==location.hostname||u!==e.port,a=e.secure!==p}if(e.xdomain=r,e.xscheme=a,n=new o(e),\"open\"in n&&!e.forceJSONP)return new i(e);if(!c)throw new Error(\"JSONP disabled\");return new s(e)}var o=n(18),i=n(20),s=n(34),a=n(35);e.polling=r,e.websocket=a}).call(e,function(){return this}())},function(t,e,n){(function(e){var r=n(19);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(s){}try{if(\"undefined\"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(s){}if(!n)try{\nreturn new(e[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(s){}}}).call(e,function(){return this}())},function(t,e){try{t.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(n){t.exports=!1}},function(t,e,n){(function(e){function r(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n=\"https:\"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function i(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=n(18),c=n(21),p=n(8),u=n(32),h=n(3)(\"engine.io-client:polling-xhr\");t.exports=o,t.exports.Request=i,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n=\"string\"!=typeof t&&void 0!==t,r=this.request({method:\"POST\",data:t,isBinary:n}),o=this;r.on(\"success\",e),r.on(\"error\",function(t){o.onError(\"xhr post error\",t)}),this.sendXhr=r},o.prototype.doPoll=function(){h(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(t),r=this;try{h(\"xhr open %s: %s\",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(s){}if(\"POST\"===this.method)try{this.isBinary?n.setRequestHeader(\"Content-type\",\"application/octet-stream\"):n.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(s){}try{n.setRequestHeader(\"Accept\",\"*/*\")}catch(s){}\"withCredentials\"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var t;try{t=n.getResponseHeader(\"Content-Type\")}catch(e){}\"application/octet-stream\"===t&&(n.responseType=\"arraybuffer\")}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},h(\"xhr data %s\",this.data),n.send(this.data)}catch(s){return void setTimeout(function(){r.onError(s)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},i.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},i.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(\"undefined\"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(n){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\")}catch(n){}t=\"application/octet-stream\"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return\"undefined\"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent(\"onunload\",s):e.addEventListener&&e.addEventListener(\"beforeunload\",s,!1))}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=n(22),i=n(31),s=n(23),a=n(32),c=n(33),p=n(3)(\"engine.io-client:polling\");t.exports=r;var u=function(){var t=n(18),e=new t({xdomain:!1});return null!=e.responseType}();a(r,o),r.prototype.name=\"polling\",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){p(\"paused\"),n.readyState=\"paused\",t()}var n=this;if(this.readyState=\"pausing\",this.polling||!this.writable){var r=0;this.polling&&(p(\"we are currently polling - waiting to pause\"),r++,this.once(\"pollComplete\",function(){p(\"pre-pause polling complete\"),--r||e()})),this.writable||(p(\"we are currently writing - waiting to pause\"),r++,this.once(\"drain\",function(){p(\"pre-pause writing complete\"),--r||e()}))}else e()},r.prototype.poll=function(){p(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},r.prototype.onData=function(t){var e=this;p(\"polling got data %s\",t);var n=function(t,n,r){return\"opening\"===e.readyState&&e.onOpen(),\"close\"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():p('ignoring poll - transport state \"%s\"',this.readyState))},r.prototype.doClose=function(){function t(){p(\"writing close packet\"),e.write([{type:\"close\"}])}var e=this;\"open\"===this.readyState?(p(\"transport open - closing\"),t()):(p(\"transport not open - deferring close\"),this.once(\"open\",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit(\"drain\")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?\"https\":\"http\",n=\"\";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&(\"https\"===e&&443!==Number(this.port)||\"http\"===e&&80!==Number(this.port))&&(n=\":\"+this.port),t.length&&(t=\"?\"+t);var r=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(r?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+t}},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=\"\",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=n(23),i=n(8);t.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type=\"TransportError\",n.description=e,this.emit(\"error\",n),this},r.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},r.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(t)},r.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit(\"packet\",t)},r.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(t,e,n){(function(t){function r(t,n){var r=\"b\"+e.packets[t.type]+t.data.data;return n(r)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(g)return i(t,n,r);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return r(s)}function a(t){try{t=d.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,n){for(var r=new Array(t.length),o=l(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},s=0;s<t.length;s++)i(s,t[s],o)}var p,u=n(24),h=n(9),f=n(25),l=n(26),d=n(27);t&&t.ArrayBuffer&&(p=n(29));var y=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),m=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=y||m;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),w={type:\"error\",data:\"parser error\"},k=n(30);e.encodePacket=function(e,n,i,a){\"function\"==typeof n&&(a=n,n=!1),\"function\"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,a);if(k&&c instanceof t.Blob)return s(e,n,a);if(c&&c.base64)return r(e,a);var p=v[e.type];return void 0!==e.data&&(p+=i?d.encode(String(e.data),{strict:!1}):String(e.data)),a(\"\"+p)},e.encodeBase64Packet=function(n,r){var o=\"b\"+e.packets[n.type];if(k&&n.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(\",\")[1];r(o+t)},i.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(a){for(var c=new Uint8Array(n.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];s=String.fromCharCode.apply(null,p)}return o+=t.btoa(s),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return w;if(\"string\"==typeof t){if(\"b\"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&\"blob\"===n&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var n=b[t.charAt(0)];if(!p)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=p.decode(t.substr(1));return\"blob\"===e&&k&&(r=new k([r])),{type:n,data:r}},e.encodePayload=function(t,n,r){function o(t){return t.length+\":\"+t}function i(t,r){e.encodePacket(t,!!s&&n,!1,function(t){r(null,o(t))})}\"function\"==typeof n&&(r=n,n=null);var s=h(t);return n&&s?k&&!g?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void c(t,i,function(t,e){return r(e.join(\"\"))}):r(\"0:\")},e.decodePayload=function(t,n,r){if(\"string\"!=typeof t)return e.decodePayloadAsBinary(t,n,r);\"function\"==typeof n&&(r=n,n=null);var o;if(\"\"===t)return r(w,0,1);for(var i,s,a=\"\",c=0,p=t.length;c<p;c++){var u=t.charAt(c);if(\":\"===u){if(\"\"===a||a!=(i=Number(a)))return r(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(w,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),w.type===o.type&&w.data===o.data)return r(w,0,1);var h=r(o,c+i,p);if(!1===h)return}c+=i,a=\"\"}else a+=u}return\"\"!==a?r(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}return t.length?void c(t,r,function(t,e){var r=e.reduce(function(t,e){var n;return n=\"string\"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e=\"string\"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}e?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)}):n(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,\"string\"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);n(null,c)}})}c(t,r,function(t,e){return n(new k(e))})},e.decodePayloadAsBinary=function(t,n,r){\"function\"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c=\"\",p=1;255!==s[p];p++){if(c.length>310)return r(w,0,1);c+=s[p]}o=f(o,2+c.length),c=parseInt(c);var u=f(o,0,c);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(h){var l=new Uint8Array(u);u=\"\";for(var p=0;p<l.length;p++)u+=String.fromCharCode(l[p])}i.push(u),o=f(o,c)}var d=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(t,e,n){function o(t,r){if(o.count<=0)throw new Error(\"after called too many times\");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}var i=!1;return n=n||r,o.count=t,0===t?e():o}function r(){}t.exports=n},function(t,e,n){var r;(function(t,o){!function(i){function s(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function a(t){for(var e,n=t.length,r=-1,o=\"\";++r<n;)e=t[r],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error(\"Lone surrogate U+\"+t.toString(16).toUpperCase()+\" is not a scalar value\");return!1}return!0}function p(t,e){return w(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return w(t);var n=\"\";return 0==(4294965248&t)?n=w(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=w(t>>12&15|224),n+=p(t,6)):0==(4292870144&t)&&(n=w(t>>18&7|240),n+=p(t,12),n+=p(t,6)),n+=w(63&t|128)}function h(t,e){e=e||{};for(var n,r=!1!==e.strict,o=s(t),i=o.length,a=-1,c=\"\";++a<i;)n=o[a],c+=u(n,r);return c}function f(){if(b>=v)throw Error(\"Invalid byte index\");var t=255&g[b];if(b++,128==(192&t))return 63&t;throw Error(\"Invalid continuation byte\")}function l(t){var e,n,r,o,i;if(b>v)throw Error(\"Invalid byte index\");if(b==v)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){if(n=f(),i=(31&e)<<6|n,i>=128)return i;throw Error(\"Invalid continuation byte\")}if(224==(240&e)){if(n=f(),r=f(),i=(15&e)<<12|n<<6|r,i>=2048)return c(i,t)?i:65533;throw Error(\"Invalid continuation byte\")}if(240==(248&e)&&(n=f(),r=f(),o=f(),i=(7&e)<<18|n<<12|r<<6|o,i>=65536&&i<=1114111))return i;throw Error(\"Invalid UTF-8 detected\")}function d(t,e){e=e||{};var n=!1!==e.strict;g=s(t),v=g.length,b=0;for(var r,o=[];(r=l(n))!==!1;)o.push(r);return a(o)}var y=\"object\"==typeof e&&e,m=(\"object\"==typeof t&&t&&t.exports==y&&t,\"object\"==typeof o&&o);m.global!==m&&m.window!==m||(i=m);var g,v,b,w=String.fromCharCode,k={version:\"2.1.2\",encode:h,decode:d};r=function(){return k}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(28)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){\"use strict\";for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i=\"\";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+\"=\":o%3===1&&(i=i.substring(0,i.length-2)+\"==\"),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,p=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[p++]=r<<2|o>>4,h[p++]=(15&o)<<4|i>>2,h[p++]=(3&i)<<6|63&s;return u}}()},function(t,e){(function(e){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob([\"hi\"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?r:void 0}()}).call(e,function(){return this}())},function(t,e){e.encode=function(t){var e=\"\";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+=\"&\"),e+=encodeURIComponent(n)+\"=\"+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split(\"&\"),r=0,o=n.length;r<o;r++){var i=n[r].split(\"=\");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){\"use strict\";function n(t){var e=\"\";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function r(t){var e=0;for(u=0;u<t.length;u++)e=e*a+c[t.charAt(u)];return e}function o(){var t=n(+new Date);return t!==i?(p=0,i=t):t+\".\"+n(p++)}for(var i,s=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),a=64,c={},p=0,u=0;u<a;u++)c[s[u]]=u;o.encode=n,o.decode=r,t.exports=o},function(t,e,n){(function(e){function r(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var n=this;a.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener(\"beforeunload\",function(){n.script&&(n.script.onerror=r)},!1)}var i=n(21),s=n(32);t.exports=o;var a,c=/\\n/g,p=/\\\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError(\"jsonp poll error\",e)};var n=document.getElementsByTagName(\"script\")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var r=\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement(\"iframe\");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError(\"jsonp polling iframe removal error\",t)}try{var e='<iframe src=\"javascript:0\" name=\"'+o.iframeId+'\">';i=document.createElement(e)}catch(t){i=document.createElement(\"iframe\"),i.name=o.iframeId,i.src=\"javascript:0\"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement(\"form\"),a=document.createElement(\"textarea\"),u=this.iframeId=\"eio_iframe_\"+this.index;s.className=\"socketio\",s.style.position=\"absolute\",s.style.top=\"-1000px\",s.style.left=\"-1000px\",s.target=u,s.method=\"POST\",s.setAttribute(\"accept-charset\",\"utf-8\"),a.name=\"d\",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(p,\"\\\\\\n\"),this.area.value=t.replace(c,\"\\\\n\");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=o),i.call(this,t)}var o,i=n(22),s=n(23),a=n(31),c=n(32),p=n(33),u=n(3)(\"engine.io-client:websocket\"),h=e.WebSocket||e.MozWebSocket;if(\"undefined\"==typeof window)try{o=n(36)}catch(f){}var l=h;l||\"undefined\"!=typeof window||(l=o),t.exports=r,c(r,i),r.prototype.name=\"websocket\",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new l(t,e):new l(t):new l(t,e,n)}catch(r){return this.emit(\"error\",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError(\"websocket error\",e)}},r.prototype.write=function(t){function n(){r.emit(\"flush\"),setTimeout(function(){r.writable=!0,r.emit(\"drain\")},0)}var r=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),r.perMessageDeflate){var a=\"string\"==typeof i?e.Buffer.byteLength(i):i.length;a<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(c){u(\"websocket closed before onclose event\")}--o||n()})}(t[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){\"undefined\"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?\"wss\":\"ws\",n=\"\";this.port&&(\"wss\"===e&&443!==Number(this.port)||\"ws\"===e&&80!==Number(this.port))&&(n=\":\"+this.port),this.timestampRequests&&(t[this.timestampParam]=p()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t=\"?\"+t);var r=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(r?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!l||\"__initialize\"in l&&this.name===r.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e){(function(e){var n=/^[\\],:{}\\s]*$/,r=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,i=/(?:^|:|,)(?:\\s*\\[)+/g,s=/^\\s+/,a=/\\s+$/;t.exports=function(t){return\"string\"==typeof t&&t?(t=t.replace(s,\"\").replace(a,\"\"),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,\"@\").replace(o,\"]\").replace(i,\"\"))?new Function(\"return \"+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,n){\"use strict\";function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(7),s=n(8),a=n(40),c=n(41),p=n(42),u=n(3)(\"socket.io-client:socket\"),h=n(31);t.exports=e=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,\"open\",p(this,\"onopen\")),c(t,\"packet\",p(this,\"onpacket\")),c(t,\"close\",p(this,\"onclose\"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return l.apply(this,arguments),this;var e=a(arguments),n={type:i.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof e[e.length-1]&&(u(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){if(u(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var t=\"object\"===o(this.query)?h.encode(this.query):this.query;u(\"sending connect packet with query %s\",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){u(\"close (%s)\",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",t)},r.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit(\"error\",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u(\"emitting event %j\",e),null!=t.id&&(u(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u(\"sending ack %j\",r),e.packet({type:i.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(u(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u(\"bad ack %s\",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u(\"performing disconnect (%s)\",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function n(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=n},function(t,e){\"use strict\";function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if(\"string\"==typeof e&&(e=t[e]),\"function\"!=typeof e)throw new Error(\"bind() requires a function\");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])});\n//# sourceMappingURL=socket.io.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3NvY2tldC5pby1jbGllbnQvZGlzdC9zb2NrZXQuaW8uanM/NGQ3MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlLDZIQUF5SyxpQkFBaUIsbUJBQW1CLGNBQWMsNEJBQTRCLFlBQVksVUFBVSxpQkFBaUIsZ0VBQWdFLFNBQVMsK0JBQStCLGtCQUFrQixhQUFhLGdCQUFnQiw0RUFBNEUsNEhBQTRILDJLQUEySyw4RUFBOEUsZ0JBQWdCLGFBQWEsb0dBQW9HLGtEQUFrRCxjQUFjLG9CQUFvQixpRUFBaUUsaUJBQWlCLGFBQWEsYUFBYSxnQkFBZ0IsUUFBUSw0WUFBNFkseURBQXlELHlHQUF5RywwQ0FBMEMsWUFBWSxvQkFBb0IsWUFBWSxJQUFJLGVBQWUsc0dBQXNHLElBQUksR0FBRyxJQUFJLFNBQVMsSUFBSSx1UEFBdVAsc0JBQXNCLDBDQUEwQyxrRUFBa0UsNEJBQTRCLDRCQUE0QixNQUFNLElBQUksa0JBQWtCLHNGQUFzRiwwRUFBMEUseUJBQXlCLGlCQUFpQixhQUFhLGFBQWEsc2xCQUFzbEIsY0FBYyxxQkFBcUIsaUdBQWlHLDJCQUEyQixpQ0FBaUMsWUFBWSx1Q0FBdUMsZ0NBQWdDLG1CQUFtQixhQUFhLDBHQUEwRyxjQUFjLElBQUksd0RBQXdELFdBQVcsYUFBYSxNQUFNLElBQUksa0JBQWtCLFVBQVUsOERBQThELGFBQWEsSUFBSSwyQkFBMkIsV0FBVyw4UkFBOFIsSUFBSSx5QkFBeUIsU0FBUyxnREFBZ0QsZUFBZSxlQUFlLGVBQWUsYUFBYSxtREFBbUQsYUFBYSxxREFBcUQsY0FBYyx5Q0FBeUMsK0RBQStELElBQUksY0FBYyxTQUFTLElBQUksd0JBQXdCLFNBQVMsMEJBQTBCLGNBQWMsMkNBQTJDLG1FQUFtRSxJQUFJLFlBQVksU0FBUyxJQUFJLHNCQUFzQixTQUFTLHdCQUF3QixhQUFhLHVEQUF1RCxhQUFhLE9BQU8sV0FBVyxLQUFLLG1CQUFtQixFQUFFLEVBQUUsYUFBYSxNQUFNLGVBQWUsZ0JB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c0MsTUFBTSx3Q0FBd0MsaUNBQWlDLGlCQUFpQiw2SkFBNkosNkJBQTZCLGdCQUFnQixrQkFBa0IsT0FBTyxLQUFLLG1CQUFtQixnQ0FBZ0MsdUJBQXVCLElBQUksK0JBQStCLHNCQUFzQixnSUFBZ0ksa0NBQWtDLGdGQUFnRixxQ0FBcUMsTUFBTSxRQUFRLDRCQUE0Qix3Q0FBd0MsOEJBQThCLHlCQUF5QixvQ0FBb0MsbUJBQW1CLHFDQUFxQyx5RkFBeUYsZ0NBQWdDLGNBQWMsWUFBWSxtQkFBbUIsMkJBQTJCLGVBQWUsc0JBQXNCLHFEQUFxRCw4RUFBOEUsa0JBQWtCLDRFQUE0RSxrQ0FBa0MsZ0NBQWdDLDZCQUE2QixlQUFlLGdCQUFnQixTQUFTLE9BQU8sZUFBZSxXQUFXLGdCQUFnQixTQUFTLFlBQVksZUFBZSxhQUFhLGtCQUFrQixrQkFBa0IsbUJBQW1CLHdCQUF3QixZQUFZLGVBQWUsZUFBZSx3QkFBd0IsbUdBQW1HLDBCQUEwQixrQkFBa0IsZ0RBQWdELGVBQWUsY0FBYyxPQUFPLCtIQUErSCw0Q0FBNEMsb0RBQW9ELGdCQUFnQixrREFBa0Qsa0NBQWtDLDhCQUE4Qiw4QkFBOEIsZ0JBQWdCLGdDQUFnQyxVQUFVLGdDQUFnQyxXQUFXLG1DQUFtQyxlQUFlLEdBQUc7QUFDLys0QiIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuaW89ZSgpOnQuaW89ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBvPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGUpLG8ubG9hZGVkPSEwLG8uZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOm8odCkpJiYoZT10LHQ9dm9pZCAwKSxlPWV8fHt9O3ZhciBuLHI9aSh0KSxzPXIuc291cmNlLHU9ci5pZCxoPXIucGF0aCxmPXBbdV0mJmggaW4gcFt1XS5uc3BzLGw9ZS5mb3JjZU5ld3x8ZVtcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdfHwhMT09PWUubXVsdGlwbGV4fHxmO3JldHVybiBsPyhjKFwiaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlc1wiLHMpLG49YShzLGUpKToocFt1XXx8KGMoXCJuZXcgaW8gaW5zdGFuY2UgZm9yICVzXCIscykscFt1XT1hKHMsZSkpLG49cFt1XSksci5xdWVyeSYmIWUucXVlcnkmJihlLnF1ZXJ5PXIucXVlcnkpLG4uc29ja2V0KHIucGF0aCxlKX12YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpPW4oMSkscz1uKDcpLGE9bigxMyksYz1uKDMpKFwic29ja2V0LmlvLWNsaWVudFwiKTt0LmV4cG9ydHM9ZT1yO3ZhciBwPWUubWFuYWdlcnM9e307ZS5wcm90b2NvbD1zLnByb3RvY29sLGUuY29ubmVjdD1yLGUuTWFuYWdlcj1uKDEzKSxlLlNvY2tldD1uKDM5KX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsbil7dmFyIHI9dDtuPW58fGUubG9jYXRpb24sbnVsbD09dCYmKHQ9bi5wcm90b2NvbCtcIi8vXCIrbi5ob3N0KSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKFwiL1wiPT09dC5jaGFyQXQoMCkmJih0PVwiL1wiPT09dC5jaGFyQXQoMSk/bi5wcm90b2NvbCt0Om4uaG9zdCt0KSwvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHQpfHwoaShcInByb3RvY29sLWxlc3MgdXJsICVzXCIsdCksdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygbj9uLnByb3RvY29sK1wiLy9cIit0OlwiaHR0cHM6Ly9cIit0KSxpKFwicGFyc2UgJXNcIix0KSxyPW8odCkpLHIucG9ydHx8KC9eKGh0dHB8d3MpJC8udGVzdChyLnByb3RvY29sKT9yLnBvcnQ9XCI4MFwiOi9eKGh0dHB8d3MpcyQvLnRlc3Qoci5wcm90b2NvbCkmJihyLnBvcnQ9XCI0NDNcIikpLHIucGF0aD1yLnBhdGh8fFwiL1wiO3ZhciBzPXIuaG9zdC5pbmRleE9mKFwiOlwiKSE9PS0xLGE9cz9cIltcIityLmhvc3QrXCJdXCI6ci5ob3N0O3JldHVybiByLmlkPXIucHJvdG9jb2wrXCI6Ly9cIithK1wiOlwiK3IucG9ydCxyLmhyZWY9ci5wcm90b2NvbCtcIjovL1wiK2ErKG4mJm4ucG9ydD09PXIucG9ydD9cIlwiOlwiOlwiK3IucG9ydCkscn12YXIgbz1uKDIpLGk9bigzKShcInNvY2tldC5pby1jbGllbnQ6dXJsXCIpO3QuZXhwb3J0cz1yfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3ZhciBuPS9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLHI9W1wic291cmNlXCIsXCJwcm90b2NvbFwiLFwiYXV0aG9yaXR5XCIsXCJ1c2VySW5mb1wiLFwidXNlclwiLFwicGFzc3dvcmRcIixcImhvc3RcIixcInBvcnRcIixcInJlbGF0aXZlXCIsXCJwYXRoXCIsXCJkaXJlY3RvcnlcIixcImZpbGVcIixcInF1ZXJ5XCIsXCJhbmNob3JcIl07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQsbz10LmluZGV4T2YoXCJbXCIpLGk9dC5pbmRleE9mKFwiXVwiKTtvIT0tMSYmaSE9LTEmJih0PXQuc3Vic3RyaW5nKDAsbykrdC5zdWJzdHJpbmcobyxpKS5yZXBsYWNlKC86L2csXCI7XCIpK3Quc3Vic3RyaW5nKGksdC5sZW5ndGgpKTtmb3IodmFyIHM9bi5leGVjKHR8fFwiXCIpLGE9e30sYz0xNDtjLS07KWFbcltjXV09c1tjXXx8XCJcIjtyZXR1cm4gbyE9LTEmJmkhPS0xJiYoYS5zb3VyY2U9ZSxhLmhvc3Q9YS5ob3N0LnN1YnN0cmluZygxLGEuaG9zdC5sZW5ndGgtMSkucmVwbGFjZSgvOy9nLFwiOlwiKSxhLmF1dGhvcml0eT1hLmF1dGhvcml0eS5yZXBsYWNlKFwiW1wiLFwiXCIpLnJlcGxhY2UoXCJdXCIsXCJcIikucmVwbGFjZSgvOy9nLFwiOlwiKSxhLmlwdjZ1cmk9ITApLGF9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cucHJvY2Vzc3x8XCJyZW5kZXJlclwiIT09d2luZG93LnByb2Nlc3MudHlwZSl8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS5maXJlYnVnfHx3aW5kb3cuY29uc29sZS5leGNlcHRpb24mJndpbmRvdy5jb25zb2xlLnRhYmxlKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpfWZ1bmN0aW9uIGkodCl7dmFyIG49dGhpcy51c2VDb2xvcnM7aWYodFswXT0obj9cIiVjXCI6XCJcIikrdGhpcy5uYW1lc3BhY2UrKG4/XCIgJWNcIjpcIiBcIikrdFswXSsobj9cIiVjIFwiOlwiIFwiKStcIitcIitlLmh1bWFuaXplKHRoaXMuZGlmZiksbil7dmFyIHI9XCJjb2xvcjogXCIrdGhpcy5jb2xvcjt0LnNwbGljZSgxLDAscixcImNvbG9yOiBpbmhlcml0XCIpO3ZhciBvPTAsaT0wO3RbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLGZ1bmN0aW9uKHQpe1wiJSVcIiE9PXQmJihvKyssXCIlY1wiPT09dCYmKGk9bykpfSksdC5zcGxpY2UoaSwwLHIpfX1mdW5jdGlvbiBzKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYSh0KXt0cnl7bnVsbD09dD9lLnN0b3JhZ2UucmVtb3ZlSXRlbShcImRlYnVnXCIpOmUuc3RvcmFnZS5kZWJ1Zz10fWNhdGNoKG4pe319ZnVuY3Rpb24gYygpe3ZhciB0O3RyeXt0PWUuc3RvcmFnZS5kZWJ1Z31jYXRjaChuKXt9cmV0dXJuIXQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiByJiZcImVudlwiaW4gciYmKHQ9ci5lbnYuREVCVUcpLHR9ZnVuY3Rpb24gcCgpe3RyeXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaCh0KXt9fWU9dC5leHBvcnRzPW4oNSksZS5sb2c9cyxlLmZvcm1hdEFyZ3M9aSxlLnNhdmU9YSxlLmxvYWQ9YyxlLnVzZUNvbG9ycz1vLGUuc3RvcmFnZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6cCgpLGUuY29sb3JzPVtcImxpZ2h0c2VhZ3JlZW5cIixcImZvcmVzdGdyZWVuXCIsXCJnb2xkZW5yb2RcIixcImRvZGdlcmJsdWVcIixcImRhcmtvcmNoaWRcIixcImNyaW1zb25cIl0sZS5mb3JtYXR0ZXJzLmo9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1jYXRjaChlKXtyZXR1cm5cIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiBcIitlLm1lc3NhZ2V9fSxlLmVuYWJsZShjKCkpfSkuY2FsbChlLG4oNCkpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbyh0KXtpZih1PT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKCh1PT09bnx8IXUpJiZzZXRUaW1lb3V0KXJldHVybiB1PXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gdSh0LDApfWNhdGNoKGUpe3RyeXtyZXR1cm4gdS5jYWxsKG51bGwsdCwwKX1jYXRjaChlKXtyZXR1cm4gdS5jYWxsKHRoaXMsdCwwKX19fWZ1bmN0aW9uIGkodCl7aWYoaD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChoPT09cnx8IWgpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGg9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cmV0dXJuIGgodCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBoLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gaC5jYWxsKHRoaXMsdCl9fX1mdW5jdGlvbiBzKCl7eSYmbCYmKHk9ITEsbC5sZW5ndGg/ZD1sLmNvbmNhdChkKTptPS0xLGQubGVuZ3RoJiZhKCkpfWZ1bmN0aW9uIGEoKXtpZigheSl7dmFyIHQ9byhzKTt5PSEwO2Zvcih2YXIgZT1kLmxlbmd0aDtlOyl7Zm9yKGw9ZCxkPVtdOysrbTxlOylsJiZsW21dLnJ1bigpO209LTEsZT1kLmxlbmd0aH1sPW51bGwseT0hMSxpKHQpfX1mdW5jdGlvbiBjKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gcCgpe312YXIgdSxoLGY9dC5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXt1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpufWNhdGNoKHQpe3U9bn10cnl7aD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnJ9Y2F0Y2godCl7aD1yfX0oKTt2YXIgbCxkPVtdLHk9ITEsbT0tMTtmLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07ZC5wdXNoKG5ldyBjKHQsZSkpLDEhPT1kLmxlbmd0aHx8eXx8byhhKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZi50aXRsZT1cImJyb3dzZXJcIixmLmJyb3dzZXI9ITAsZi5lbnY9e30sZi5hcmd2PVtdLGYudmVyc2lvbj1cIlwiLGYudmVyc2lvbnM9e30sZi5vbj1wLGYuYWRkTGlzdGVuZXI9cCxmLm9uY2U9cCxmLm9mZj1wLGYucmVtb3ZlTGlzdGVuZXI9cCxmLnJlbW92ZUFsbExpc3RlbmVycz1wLGYuZW1pdD1wLGYucHJlcGVuZExpc3RlbmVyPXAsZi5wcmVwZW5kT25jZUxpc3RlbmVyPXAsZi5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuW119LGYuYmluZGluZz1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sZi5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sZi5jaGRpcj1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGYudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBuLHI9MDtmb3IobiBpbiB0KXI9KHI8PDUpLXIrdC5jaGFyQ29kZUF0KG4pLHJ8PTA7cmV0dXJuIGUuY29sb3JzW01hdGguYWJzKHIpJWUuY29sb3JzLmxlbmd0aF19ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBuKCl7aWYobi5lbmFibGVkKXt2YXIgdD1uLHI9K25ldyBEYXRlLG89ci0ocHx8cik7dC5kaWZmPW8sdC5wcmV2PXAsdC5jdXJyPXIscD1yO2Zvcih2YXIgaT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCkscz0wO3M8aS5sZW5ndGg7cysrKWlbc109YXJndW1lbnRzW3NdO2lbMF09ZS5jb2VyY2UoaVswXSksXCJzdHJpbmdcIiE9dHlwZW9mIGlbMF0mJmkudW5zaGlmdChcIiVPXCIpO3ZhciBhPTA7aVswXT1pWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLGZ1bmN0aW9uKG4scil7aWYoXCIlJVwiPT09bilyZXR1cm4gbjthKys7dmFyIG89ZS5mb3JtYXR0ZXJzW3JdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pe3ZhciBzPWlbYV07bj1vLmNhbGwodCxzKSxpLnNwbGljZShhLDEpLGEtLX1yZXR1cm4gbn0pLGUuZm9ybWF0QXJncy5jYWxsKHQsaSk7dmFyIGM9bi5sb2d8fGUubG9nfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO2MuYXBwbHkodCxpKX19cmV0dXJuIG4ubmFtZXNwYWNlPXQsbi5lbmFibGVkPWUuZW5hYmxlZCh0KSxuLnVzZUNvbG9ycz1lLnVzZUNvbG9ycygpLG4uY29sb3I9cih0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmluaXQmJmUuaW5pdChuKSxufWZ1bmN0aW9uIGkodCl7ZS5zYXZlKHQpLGUubmFtZXM9W10sZS5za2lwcz1bXTtmb3IodmFyIG49KFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJcIikuc3BsaXQoL1tcXHMsXSsvKSxyPW4ubGVuZ3RoLG89MDtvPHI7bysrKW5bb10mJih0PW5bb10ucmVwbGFjZSgvXFwqL2csXCIuKj9cIiksXCItXCI9PT10WzBdP2Uuc2tpcHMucHVzaChuZXcgUmVnRXhwKFwiXlwiK3Quc3Vic3RyKDEpK1wiJFwiKSk6ZS5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrdCtcIiRcIikpKX1mdW5jdGlvbiBzKCl7ZS5lbmFibGUoXCJcIil9ZnVuY3Rpb24gYSh0KXt2YXIgbixyO2ZvcihuPTAscj1lLnNraXBzLmxlbmd0aDtuPHI7bisrKWlmKGUuc2tpcHNbbl0udGVzdCh0KSlyZXR1cm4hMTtmb3Iobj0wLHI9ZS5uYW1lcy5sZW5ndGg7bjxyO24rKylpZihlLm5hbWVzW25dLnRlc3QodCkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2t8fHQubWVzc2FnZTp0fWU9dC5leHBvcnRzPW8uZGVidWc9b1tcImRlZmF1bHRcIl09byxlLmNvZXJjZT1jLGUuZGlzYWJsZT1zLGUuZW5hYmxlPWksZS5lbmFibGVkPWEsZS5odW1hbml6ZT1uKDYpLGUubmFtZXM9W10sZS5za2lwcz1bXSxlLmZvcm1hdHRlcnM9e307dmFyIHB9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtpZih0PVN0cmluZyh0KSwhKHQubGVuZ3RoPjEwMCkpe3ZhciBlPS9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWModCk7aWYoZSl7dmFyIG49cGFyc2VGbG9hdChlWzFdKSxyPShlWzJdfHxcIm1zXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHIpe2Nhc2VcInllYXJzXCI6Y2FzZVwieWVhclwiOmNhc2VcInlyc1wiOmNhc2VcInlyXCI6Y2FzZVwieVwiOnJldHVybiBuKnU7Y2FzZVwiZGF5c1wiOmNhc2VcImRheVwiOmNhc2VcImRcIjpyZXR1cm4gbipwO2Nhc2VcImhvdXJzXCI6Y2FzZVwiaG91clwiOmNhc2VcImhyc1wiOmNhc2VcImhyXCI6Y2FzZVwiaFwiOnJldHVybiBuKmM7Y2FzZVwibWludXRlc1wiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcIm1pbnNcIjpjYXNlXCJtaW5cIjpjYXNlXCJtXCI6cmV0dXJuIG4qYTtjYXNlXCJzZWNvbmRzXCI6Y2FzZVwic2Vjb25kXCI6Y2FzZVwic2Vjc1wiOmNhc2VcInNlY1wiOmNhc2VcInNcIjpyZXR1cm4gbipzO2Nhc2VcIm1pbGxpc2Vjb25kc1wiOmNhc2VcIm1pbGxpc2Vjb25kXCI6Y2FzZVwibXNlY3NcIjpjYXNlXCJtc2VjXCI6Y2FzZVwibXNcIjpyZXR1cm4gbjtkZWZhdWx0OnJldHVybn19fX1mdW5jdGlvbiByKHQpe3JldHVybiB0Pj1wP01hdGgucm91bmQodC9wKStcImRcIjp0Pj1jP01hdGgucm91bmQodC9jKStcImhcIjp0Pj1hP01hdGgucm91bmQodC9hKStcIm1cIjp0Pj1zP01hdGgucm91bmQodC9zKStcInNcIjp0K1wibXNcIn1mdW5jdGlvbiBvKHQpe3JldHVybiBpKHQscCxcImRheVwiKXx8aSh0LGMsXCJob3VyXCIpfHxpKHQsYSxcIm1pbnV0ZVwiKXx8aSh0LHMsXCJzZWNvbmRcIil8fHQrXCIgbXNcIn1mdW5jdGlvbiBpKHQsZSxuKXtpZighKHQ8ZSkpcmV0dXJuIHQ8MS41KmU/TWF0aC5mbG9vcih0L2UpK1wiIFwiK246TWF0aC5jZWlsKHQvZSkrXCIgXCIrbitcInNcIn12YXIgcz0xZTMsYT02MCpzLGM9NjAqYSxwPTI0KmMsdT0zNjUuMjUqcDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciBpPXR5cGVvZiB0O2lmKFwic3RyaW5nXCI9PT1pJiZ0Lmxlbmd0aD4wKXJldHVybiBuKHQpO2lmKFwibnVtYmVyXCI9PT1pJiZpc05hTih0KT09PSExKXJldHVybiBlW1wibG9uZ1wiXT9vKHQpOnIodCk7dGhyb3cgbmV3IEVycm9yKFwidmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD1cIitKU09OLnN0cmluZ2lmeSh0KSl9fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKHQpe3ZhciBuPVwiXCIrdC50eXBlO3JldHVybiBlLkJJTkFSWV9FVkVOVCE9PXQudHlwZSYmZS5CSU5BUllfQUNLIT09dC50eXBlfHwobis9dC5hdHRhY2htZW50cytcIi1cIiksdC5uc3AmJlwiL1wiIT09dC5uc3AmJihuKz10Lm5zcCtcIixcIiksbnVsbCE9dC5pZCYmKG4rPXQuaWQpLG51bGwhPXQuZGF0YSYmKG4rPUpTT04uc3RyaW5naWZ5KHQuZGF0YSkpLGgoXCJlbmNvZGVkICVqIGFzICVzXCIsdCxuKSxufWZ1bmN0aW9uIGkodCxlKXtmdW5jdGlvbiBuKHQpe3ZhciBuPWQuZGVjb25zdHJ1Y3RQYWNrZXQodCkscj1vKG4ucGFja2V0KSxpPW4uYnVmZmVycztpLnVuc2hpZnQociksZShpKX1kLnJlbW92ZUJsb2JzKHQsbil9ZnVuY3Rpb24gcygpe3RoaXMucmVjb25zdHJ1Y3Rvcj1udWxsfWZ1bmN0aW9uIGEodCl7dmFyIG49MCxyPXt0eXBlOk51bWJlcih0LmNoYXJBdCgwKSl9O2lmKG51bGw9PWUudHlwZXNbci50eXBlXSlyZXR1cm4gdSgpO2lmKGUuQklOQVJZX0VWRU5UPT09ci50eXBlfHxlLkJJTkFSWV9BQ0s9PT1yLnR5cGUpe2Zvcih2YXIgbz1cIlwiO1wiLVwiIT09dC5jaGFyQXQoKytuKSYmKG8rPXQuY2hhckF0KG4pLG4hPXQubGVuZ3RoKTspO2lmKG8hPU51bWJlcihvKXx8XCItXCIhPT10LmNoYXJBdChuKSl0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO3IuYXR0YWNobWVudHM9TnVtYmVyKG8pfWlmKFwiL1wiPT09dC5jaGFyQXQobisxKSlmb3Ioci5uc3A9XCJcIjsrK247KXt2YXIgaT10LmNoYXJBdChuKTtpZihcIixcIj09PWkpYnJlYWs7aWYoci5uc3ArPWksbj09PXQubGVuZ3RoKWJyZWFrfWVsc2Ugci5uc3A9XCIvXCI7dmFyIHM9dC5jaGFyQXQobisxKTtpZihcIlwiIT09cyYmTnVtYmVyKHMpPT1zKXtmb3Ioci5pZD1cIlwiOysrbjspe3ZhciBpPXQuY2hhckF0KG4pO2lmKG51bGw9PWl8fE51bWJlcihpKSE9aSl7LS1uO2JyZWFrfWlmKHIuaWQrPXQuY2hhckF0KG4pLG49PT10Lmxlbmd0aClicmVha31yLmlkPU51bWJlcihyLmlkKX1yZXR1cm4gdC5jaGFyQXQoKytuKSYmKHI9YyhyLHQuc3Vic3RyKG4pKSksaChcImRlY29kZWQgJXMgYXMgJWpcIix0LHIpLHJ9ZnVuY3Rpb24gYyh0LGUpe3RyeXt0LmRhdGE9SlNPTi5wYXJzZShlKX1jYXRjaChuKXtyZXR1cm4gdSgpfXJldHVybiB0fWZ1bmN0aW9uIHAodCl7dGhpcy5yZWNvblBhY2s9dCx0aGlzLmJ1ZmZlcnM9W119ZnVuY3Rpb24gdSgpe3JldHVybnt0eXBlOmUuRVJST1IsZGF0YTpcInBhcnNlciBlcnJvclwifX12YXIgaD1uKDMpKFwic29ja2V0LmlvLXBhcnNlclwiKSxmPW4oOCksbD1uKDkpLGQ9bigxMSkseT1uKDEyKTtlLnByb3RvY29sPTQsZS50eXBlcz1bXCJDT05ORUNUXCIsXCJESVNDT05ORUNUXCIsXCJFVkVOVFwiLFwiQUNLXCIsXCJFUlJPUlwiLFwiQklOQVJZX0VWRU5UXCIsXCJCSU5BUllfQUNLXCJdLGUuQ09OTkVDVD0wLGUuRElTQ09OTkVDVD0xLGUuRVZFTlQ9MixlLkFDSz0zLGUuRVJST1I9NCxlLkJJTkFSWV9FVkVOVD01LGUuQklOQVJZX0FDSz02LGUuRW5jb2Rlcj1yLGUuRGVjb2Rlcj1zLHIucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0LG4pe2lmKHQudHlwZSE9PWUuRVZFTlQmJnQudHlwZSE9PWUuQUNLfHwhbCh0LmRhdGEpfHwodC50eXBlPXQudHlwZT09PWUuRVZFTlQ/ZS5CSU5BUllfRVZFTlQ6ZS5CSU5BUllfQUNLKSxoKFwiZW5jb2RpbmcgcGFja2V0ICVqXCIsdCksZS5CSU5BUllfRVZFTlQ9PT10LnR5cGV8fGUuQklOQVJZX0FDSz09PXQudHlwZSlpKHQsbik7ZWxzZXt2YXIgcj1vKHQpO24oW3JdKX19LGYocy5wcm90b3R5cGUpLHMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgbjtpZihcInN0cmluZ1wiPT10eXBlb2YgdCluPWEodCksZS5CSU5BUllfRVZFTlQ9PT1uLnR5cGV8fGUuQklOQVJZX0FDSz09PW4udHlwZT8odGhpcy5yZWNvbnN0cnVjdG9yPW5ldyBwKG4pLDA9PT10aGlzLnJlY29uc3RydWN0b3IucmVjb25QYWNrLmF0dGFjaG1lbnRzJiZ0aGlzLmVtaXQoXCJkZWNvZGVkXCIsbikpOnRoaXMuZW1pdChcImRlY29kZWRcIixuKTtlbHNle2lmKCF5KHQpJiYhdC5iYXNlNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0KTtpZighdGhpcy5yZWNvbnN0cnVjdG9yKXRocm93IG5ldyBFcnJvcihcImdvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtuPXRoaXMucmVjb25zdHJ1Y3Rvci50YWtlQmluYXJ5RGF0YSh0KSxuJiYodGhpcy5yZWNvbnN0cnVjdG9yPW51bGwsdGhpcy5lbWl0KFwiZGVjb2RlZFwiLG4pKX19LHMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlY29uc3RydWN0b3ImJnRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCl9LHAucHJvdG90eXBlLnRha2VCaW5hcnlEYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYnVmZmVycy5wdXNoKHQpLHRoaXMuYnVmZmVycy5sZW5ndGg9PT10aGlzLnJlY29uUGFjay5hdHRhY2htZW50cyl7dmFyIGU9ZC5yZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjayx0aGlzLmJ1ZmZlcnMpO3JldHVybiB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSxlfXJldHVybiBudWxsfSxwLnByb3RvdHlwZS5maW5pc2hlZFJlY29uc3RydWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5yZWNvblBhY2s9bnVsbCx0aGlzLmJ1ZmZlcnM9W119fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZih0KXJldHVybiBvKHQpfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlIGluIHIucHJvdG90eXBlKXRbZV09ci5wcm90b3R5cGVbZV07cmV0dXJuIHR9dC5leHBvcnRzPXIsci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W10pLnB1c2goZSksdGhpc30sci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLm9mZih0LG4pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuLmZuPWUsdGhpcy5vbih0LG4pLHRoaXN9LHIucHJvdG90eXBlLm9mZj1yLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1yLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBuPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XTtpZighbilyZXR1cm4gdGhpcztpZigxPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdLHRoaXM7Zm9yKHZhciByLG89MDtvPG4ubGVuZ3RoO28rKylpZihyPW5bb10scj09PWV8fHIuZm49PT1lKXtuLnNwbGljZShvLDEpO2JyZWFrfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKG4pe249bi5zbGljZSgwKTtmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bzsrK3IpbltyXS5hcHBseSh0aGlzLGUpfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W119LHIucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKHQpLmxlbmd0aH19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0KXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7aWYobyh0KSl7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKHIodFtuXSkpcmV0dXJuITA7cmV0dXJuITF9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5CdWZmZXImJmUuQnVmZmVyLmlzQnVmZmVyJiZlLkJ1ZmZlci5pc0J1ZmZlcih0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZS5BcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxzJiZ0IGluc3RhbmNlb2YgQmxvYnx8YSYmdCBpbnN0YW5jZW9mIEZpbGUpcmV0dXJuITA7aWYodC50b0pTT04mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9KU09OJiYxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcih0LnRvSlNPTigpLCEwKTtmb3IodmFyIGMgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxjKSYmcih0W2NdKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgbz1uKDEwKSxpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLkJsb2J8fFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCI9PT1pLmNhbGwoZS5CbG9iKSxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuRmlsZXx8XCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIj09PWkuY2FsbChlLkZpbGUpO3QuZXhwb3J0cz1yfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PW4uY2FsbCh0KX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXJldHVybiB0O2lmKHModCkpe3ZhciBuPXtfcGxhY2Vob2xkZXI6ITAsbnVtOmUubGVuZ3RofTtyZXR1cm4gZS5wdXNoKHQpLG59aWYoaSh0KSl7Zm9yKHZhciBvPW5ldyBBcnJheSh0Lmxlbmd0aCksYT0wO2E8dC5sZW5ndGg7YSsrKW9bYV09cih0W2FdLGUpO3JldHVybiBvfWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhKHQgaW5zdGFuY2VvZiBEYXRlKSl7dmFyIG89e307Zm9yKHZhciBjIGluIHQpb1tjXT1yKHRbY10sZSk7cmV0dXJuIG99cmV0dXJuIHR9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXJldHVybiB0O2lmKHQmJnQuX3BsYWNlaG9sZGVyKXJldHVybiBlW3QubnVtXTtpZihpKHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl09byh0W25dLGUpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKHZhciByIGluIHQpdFtyXT1vKHRbcl0sZSk7cmV0dXJuIHR9dmFyIGk9bigxMCkscz1uKDEyKSxhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LkJsb2J8fFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCI9PT1hLmNhbGwodC5CbG9iKSxwPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuRmlsZXx8XCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIj09PWEuY2FsbCh0LkZpbGUpO2UuZGVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10LmRhdGEsbz10O3JldHVybiBvLmRhdGE9cihuLGUpLG8uYXR0YWNobWVudHM9ZS5sZW5ndGgse3BhY2tldDpvLGJ1ZmZlcnM6ZX19LGUucmVjb25zdHJ1Y3RQYWNrZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kYXRhPW8odC5kYXRhLGUpLHQuYXR0YWNobWVudHM9dm9pZCAwLHR9LGUucmVtb3ZlQmxvYnM9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsYSx1KXtpZighdClyZXR1cm4gdDtpZihjJiZ0IGluc3RhbmNlb2YgQmxvYnx8cCYmdCBpbnN0YW5jZW9mIEZpbGUpe3IrKzt2YXIgaD1uZXcgRmlsZVJlYWRlcjtoLm9ubG9hZD1mdW5jdGlvbigpe3U/dVthXT10aGlzLnJlc3VsdDpvPXRoaXMucmVzdWx0LC0tcnx8ZShvKX0saC5yZWFkQXNBcnJheUJ1ZmZlcih0KX1lbHNlIGlmKGkodCkpZm9yKHZhciBmPTA7Zjx0Lmxlbmd0aDtmKyspbih0W2ZdLGYsdCk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmIXModCkpZm9yKHZhciBsIGluIHQpbih0W2xdLGwsdCl9dmFyIHI9MCxvPXQ7bihvKSxyfHxlKG8pfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gZS5CdWZmZXImJmUuQnVmZmVyLmlzQnVmZmVyKHQpfHxlLkFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9dC5leHBvcnRzPW59KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpcmV0dXJuIG5ldyByKHQsZSk7dCYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOm8odCkpJiYoZT10LHQ9dm9pZCAwKSxlPWV8fHt9LGUucGF0aD1lLnBhdGh8fFwiL3NvY2tldC5pb1wiLHRoaXMubnNwcz17fSx0aGlzLnN1YnM9W10sdGhpcy5vcHRzPWUsdGhpcy5yZWNvbm5lY3Rpb24oZS5yZWNvbm5lY3Rpb24hPT0hMSksdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhlLnJlY29ubmVjdGlvbkF0dGVtcHRzfHwxLzApLHRoaXMucmVjb25uZWN0aW9uRGVsYXkoZS5yZWNvbm5lY3Rpb25EZWxheXx8MWUzKSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KGUucmVjb25uZWN0aW9uRGVsYXlNYXh8fDVlMyksdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKGUucmFuZG9taXphdGlvbkZhY3Rvcnx8LjUpLHRoaXMuYmFja29mZj1uZXcgbCh7bWluOnRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxtYXg6dGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLGppdHRlcjp0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKX0pLHRoaXMudGltZW91dChudWxsPT1lLnRpbWVvdXQ/MmU0OmUudGltZW91dCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy51cmk9dCx0aGlzLmNvbm5lY3Rpbmc9W10sdGhpcy5sYXN0UGluZz1udWxsLHRoaXMuZW5jb2Rpbmc9ITEsdGhpcy5wYWNrZXRCdWZmZXI9W107dmFyIG49ZS5wYXJzZXJ8fGM7dGhpcy5lbmNvZGVyPW5ldyBuLkVuY29kZXIsdGhpcy5kZWNvZGVyPW5ldyBuLkRlY29kZXIsdGhpcy5hdXRvQ29ubmVjdD1lLmF1dG9Db25uZWN0IT09ITEsdGhpcy5hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCl9dmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saT1uKDE0KSxzPW4oMzkpLGE9big4KSxjPW4oNykscD1uKDQxKSx1PW4oNDIpLGg9bigzKShcInNvY2tldC5pby1jbGllbnQ6bWFuYWdlclwiKSxmPW4oMzcpLGw9big0MyksZD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1yLHIucHJvdG90eXBlLmVtaXRBbGw9ZnVuY3Rpb24oKXt0aGlzLmVtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgdCBpbiB0aGlzLm5zcHMpZC5jYWxsKHRoaXMubnNwcyx0KSYmdGhpcy5uc3BzW3RdLmVtaXQuYXBwbHkodGhpcy5uc3BzW3RdLGFyZ3VtZW50cyl9LHIucHJvdG90eXBlLnVwZGF0ZVNvY2tldElkcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLm5zcHMpZC5jYWxsKHRoaXMubnNwcyx0KSYmKHRoaXMubnNwc1t0XS5pZD10aGlzLmdlbmVyYXRlSWQodCkpfSxyLnByb3RvdHlwZS5nZW5lcmF0ZUlkPWZ1bmN0aW9uKHQpe3JldHVybihcIi9cIj09PXQ/XCJcIjp0K1wiI1wiKSt0aGlzLmVuZ2luZS5pZH0sYShyLnByb3RvdHlwZSksci5wcm90b3R5cGUucmVjb25uZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb249ISF0LHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbn0sci5wcm90b3R5cGUucmVjb25uZWN0aW9uQXR0ZW1wdHM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzPXQsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHN9LHIucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25EZWxheT10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldE1pbih0KSx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheX0sci5wcm90b3R5cGUucmFuZG9taXphdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmFuZG9taXphdGlvbkZhY3Rvcj10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldEppdHRlcih0KSx0aGlzKTp0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yfSxyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25EZWxheU1heD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg9dCx0aGlzLmJhY2tvZmYmJnRoaXMuYmFja29mZi5zZXRNYXgodCksdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXh9LHIucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dCx0aGlzKTp0aGlzLl90aW1lb3V0fSxyLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3Blbj1mdW5jdGlvbigpeyF0aGlzLnJlY29ubmVjdGluZyYmdGhpcy5fcmVjb25uZWN0aW9uJiYwPT09dGhpcy5iYWNrb2ZmLmF0dGVtcHRzJiZ0aGlzLnJlY29ubmVjdCgpfSxyLnByb3RvdHlwZS5vcGVuPXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24odCxlKXtpZihoKFwicmVhZHlTdGF0ZSAlc1wiLHRoaXMucmVhZHlTdGF0ZSksfnRoaXMucmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlyZXR1cm4gdGhpcztoKFwib3BlbmluZyAlc1wiLHRoaXMudXJpKSx0aGlzLmVuZ2luZT1pKHRoaXMudXJpLHRoaXMub3B0cyk7dmFyIG49dGhpcy5lbmdpbmUscj10aGlzO3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLnNraXBSZWNvbm5lY3Q9ITE7dmFyIG89cChuLFwib3BlblwiLGZ1bmN0aW9uKCl7ci5vbm9wZW4oKSx0JiZ0KCl9KSxzPXAobixcImVycm9yXCIsZnVuY3Rpb24oZSl7aWYoaChcImNvbm5lY3RfZXJyb3JcIiksci5jbGVhbnVwKCksci5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsci5lbWl0QWxsKFwiY29ubmVjdF9lcnJvclwiLGUpLHQpe3ZhciBuPW5ldyBFcnJvcihcIkNvbm5lY3Rpb24gZXJyb3JcIik7bi5kYXRhPWUsdChuKX1lbHNlIHIubWF5YmVSZWNvbm5lY3RPbk9wZW4oKX0pO2lmKCExIT09dGhpcy5fdGltZW91dCl7dmFyIGE9dGhpcy5fdGltZW91dDtoKFwiY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZFwiLGEpO3ZhciBjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtoKFwiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZFwiLGEpLG8uZGVzdHJveSgpLG4uY2xvc2UoKSxuLmVtaXQoXCJlcnJvclwiLFwidGltZW91dFwiKSxyLmVtaXRBbGwoXCJjb25uZWN0X3RpbWVvdXRcIixhKX0sYSk7dGhpcy5zdWJzLnB1c2goe2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYyl9fSl9cmV0dXJuIHRoaXMuc3Vicy5wdXNoKG8pLHRoaXMuc3Vicy5wdXNoKHMpLHRoaXN9LHIucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe2goXCJvcGVuXCIpLHRoaXMuY2xlYW51cCgpLHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLmVtaXQoXCJvcGVuXCIpO3ZhciB0PXRoaXMuZW5naW5lO3RoaXMuc3Vicy5wdXNoKHAodCxcImRhdGFcIix1KHRoaXMsXCJvbmRhdGFcIikpKSx0aGlzLnN1YnMucHVzaChwKHQsXCJwaW5nXCIsdSh0aGlzLFwib25waW5nXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0LFwicG9uZ1wiLHUodGhpcyxcIm9ucG9uZ1wiKSkpLHRoaXMuc3Vicy5wdXNoKHAodCxcImVycm9yXCIsdSh0aGlzLFwib25lcnJvclwiKSkpLHRoaXMuc3Vicy5wdXNoKHAodCxcImNsb3NlXCIsdSh0aGlzLFwib25jbG9zZVwiKSkpLHRoaXMuc3Vicy5wdXNoKHAodGhpcy5kZWNvZGVyLFwiZGVjb2RlZFwiLHUodGhpcyxcIm9uZGVjb2RlZFwiKSkpfSxyLnByb3RvdHlwZS5vbnBpbmc9ZnVuY3Rpb24oKXt0aGlzLmxhc3RQaW5nPW5ldyBEYXRlLHRoaXMuZW1pdEFsbChcInBpbmdcIil9LHIucHJvdG90eXBlLm9ucG9uZz1mdW5jdGlvbigpe3RoaXMuZW1pdEFsbChcInBvbmdcIixuZXcgRGF0ZS10aGlzLmxhc3RQaW5nKX0sci5wcm90b3R5cGUub25kYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZGVjb2Rlci5hZGQodCl9LHIucHJvdG90eXBlLm9uZGVjb2RlZD1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwYWNrZXRcIix0KX0sci5wcm90b3R5cGUub25lcnJvcj1mdW5jdGlvbih0KXtoKFwiZXJyb3JcIix0KSx0aGlzLmVtaXRBbGwoXCJlcnJvclwiLHQpfSxyLnByb3RvdHlwZS5zb2NrZXQ9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7fmYoby5jb25uZWN0aW5nLHIpfHxvLmNvbm5lY3RpbmcucHVzaChyKX12YXIgcj10aGlzLm5zcHNbdF07aWYoIXIpe3I9bmV3IHModGhpcyx0LGUpLHRoaXMubnNwc1t0XT1yO3ZhciBvPXRoaXM7ci5vbihcImNvbm5lY3RpbmdcIixuKSxyLm9uKFwiY29ubmVjdFwiLGZ1bmN0aW9uKCl7ci5pZD1vLmdlbmVyYXRlSWQodCl9KSx0aGlzLmF1dG9Db25uZWN0JiZuKCl9cmV0dXJuIHJ9LHIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dmFyIGU9Zih0aGlzLmNvbm5lY3RpbmcsdCk7fmUmJnRoaXMuY29ubmVjdGluZy5zcGxpY2UoZSwxKSx0aGlzLmNvbm5lY3RpbmcubGVuZ3RofHx0aGlzLmNsb3NlKCl9LHIucHJvdG90eXBlLnBhY2tldD1mdW5jdGlvbih0KXtoKFwid3JpdGluZyBwYWNrZXQgJWpcIix0KTt2YXIgZT10aGlzO3QucXVlcnkmJjA9PT10LnR5cGUmJih0Lm5zcCs9XCI/XCIrdC5xdWVyeSksZS5lbmNvZGluZz9lLnBhY2tldEJ1ZmZlci5wdXNoKHQpOihlLmVuY29kaW5nPSEwLHRoaXMuZW5jb2Rlci5lbmNvZGUodCxmdW5jdGlvbihuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyllLmVuZ2luZS53cml0ZShuW3JdLHQub3B0aW9ucyk7ZS5lbmNvZGluZz0hMSxlLnByb2Nlc3NQYWNrZXRRdWV1ZSgpfSkpfSxyLnByb3RvdHlwZS5wcm9jZXNzUGFja2V0UXVldWU9ZnVuY3Rpb24oKXtpZih0aGlzLnBhY2tldEJ1ZmZlci5sZW5ndGg+MCYmIXRoaXMuZW5jb2Rpbmcpe3ZhciB0PXRoaXMucGFja2V0QnVmZmVyLnNoaWZ0KCk7dGhpcy5wYWNrZXQodCl9fSxyLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7aChcImNsZWFudXBcIik7Zm9yKHZhciB0PXRoaXMuc3Vicy5sZW5ndGgsZT0wO2U8dDtlKyspe3ZhciBuPXRoaXMuc3Vicy5zaGlmdCgpO24uZGVzdHJveSgpfXRoaXMucGFja2V0QnVmZmVyPVtdLHRoaXMuZW5jb2Rpbmc9ITEsdGhpcy5sYXN0UGluZz1udWxsLHRoaXMuZGVjb2Rlci5kZXN0cm95KCl9LHIucHJvdG90eXBlLmNsb3NlPXIucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtoKFwiZGlzY29ubmVjdFwiKSx0aGlzLnNraXBSZWNvbm5lY3Q9ITAsdGhpcy5yZWNvbm5lY3Rpbmc9ITEsXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMuY2xlYW51cCgpLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW5naW5lJiZ0aGlzLmVuZ2luZS5jbG9zZSgpfSxyLnByb3RvdHlwZS5vbmNsb3NlPWZ1bmN0aW9uKHQpe2goXCJvbmNsb3NlXCIpLHRoaXMuY2xlYW51cCgpLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW1pdChcImNsb3NlXCIsdCksdGhpcy5fcmVjb25uZWN0aW9uJiYhdGhpcy5za2lwUmVjb25uZWN0JiZ0aGlzLnJlY29ubmVjdCgpfSxyLnByb3RvdHlwZS5yZWNvbm5lY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnJlY29ubmVjdGluZ3x8dGhpcy5za2lwUmVjb25uZWN0KXJldHVybiB0aGlzO3ZhciB0PXRoaXM7aWYodGhpcy5iYWNrb2ZmLmF0dGVtcHRzPj10aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyloKFwicmVjb25uZWN0IGZhaWxlZFwiKSx0aGlzLmJhY2tvZmYucmVzZXQoKSx0aGlzLmVtaXRBbGwoXCJyZWNvbm5lY3RfZmFpbGVkXCIpLHRoaXMucmVjb25uZWN0aW5nPSExO2Vsc2V7dmFyIGU9dGhpcy5iYWNrb2ZmLmR1cmF0aW9uKCk7aChcIndpbGwgd2FpdCAlZG1zIGJlZm9yZSByZWNvbm5lY3QgYXR0ZW1wdFwiLGUpLHRoaXMucmVjb25uZWN0aW5nPSEwO3ZhciBuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNraXBSZWNvbm5lY3R8fChoKFwiYXR0ZW1wdGluZyByZWNvbm5lY3RcIiksdC5lbWl0QWxsKFwicmVjb25uZWN0X2F0dGVtcHRcIix0LmJhY2tvZmYuYXR0ZW1wdHMpLHQuZW1pdEFsbChcInJlY29ubmVjdGluZ1wiLHQuYmFja29mZi5hdHRlbXB0cyksdC5za2lwUmVjb25uZWN0fHx0Lm9wZW4oZnVuY3Rpb24oZSl7ZT8oaChcInJlY29ubmVjdCBhdHRlbXB0IGVycm9yXCIpLHQucmVjb25uZWN0aW5nPSExLHQucmVjb25uZWN0KCksdC5lbWl0QWxsKFwicmVjb25uZWN0X2Vycm9yXCIsZS5kYXRhKSk6KGgoXCJyZWNvbm5lY3Qgc3VjY2Vzc1wiKSx0Lm9ucmVjb25uZWN0KCkpfSkpfSxlKTt0aGlzLnN1YnMucHVzaCh7ZGVzdHJveTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChuKX19KX19LHIucHJvdG90eXBlLm9ucmVjb25uZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYWNrb2ZmLmF0dGVtcHRzO3RoaXMucmVjb25uZWN0aW5nPSExLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMudXBkYXRlU29ja2V0SWRzKCksdGhpcy5lbWl0QWxsKFwicmVjb25uZWN0XCIsdCl9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTUpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTYpLHQuZXhwb3J0cy5wYXJzZXI9bigyMyl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0LG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXJldHVybiBuZXcgcih0LG4pO249bnx8e30sdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSx0Pyh0PXUodCksbi5ob3N0bmFtZT10Lmhvc3Qsbi5zZWN1cmU9XCJodHRwc1wiPT09dC5wcm90b2NvbHx8XCJ3c3NcIj09PXQucHJvdG9jb2wsbi5wb3J0PXQucG9ydCx0LnF1ZXJ5JiYobi5xdWVyeT10LnF1ZXJ5KSk6bi5ob3N0JiYobi5ob3N0bmFtZT11KG4uaG9zdCkuaG9zdCksdGhpcy5zZWN1cmU9bnVsbCE9bi5zZWN1cmU/bi5zZWN1cmU6ZS5sb2NhdGlvbiYmXCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLG4uaG9zdG5hbWUmJiFuLnBvcnQmJihuLnBvcnQ9dGhpcy5zZWN1cmU/XCI0NDNcIjpcIjgwXCIpLHRoaXMuYWdlbnQ9bi5hZ2VudHx8ITEsdGhpcy5ob3N0bmFtZT1uLmhvc3RuYW1lfHwoZS5sb2NhdGlvbj9sb2NhdGlvbi5ob3N0bmFtZTpcImxvY2FsaG9zdFwiKSx0aGlzLnBvcnQ9bi5wb3J0fHwoZS5sb2NhdGlvbiYmbG9jYXRpb24ucG9ydD9sb2NhdGlvbi5wb3J0OnRoaXMuc2VjdXJlPzQ0Mzo4MCksdGhpcy5xdWVyeT1uLnF1ZXJ5fHx7fSxcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5xdWVyeSYmKHRoaXMucXVlcnk9Zi5kZWNvZGUodGhpcy5xdWVyeSkpLHRoaXMudXBncmFkZT0hMSE9PW4udXBncmFkZSx0aGlzLnBhdGg9KG4ucGF0aHx8XCIvZW5naW5lLmlvXCIpLnJlcGxhY2UoL1xcLyQvLFwiXCIpK1wiL1wiLHRoaXMuZm9yY2VKU09OUD0hIW4uZm9yY2VKU09OUCx0aGlzLmpzb25wPSExIT09bi5qc29ucCx0aGlzLmZvcmNlQmFzZTY0PSEhbi5mb3JjZUJhc2U2NCx0aGlzLmVuYWJsZXNYRFI9ISFuLmVuYWJsZXNYRFIsdGhpcy50aW1lc3RhbXBQYXJhbT1uLnRpbWVzdGFtcFBhcmFtfHxcInRcIix0aGlzLnRpbWVzdGFtcFJlcXVlc3RzPW4udGltZXN0YW1wUmVxdWVzdHMsdGhpcy50cmFuc3BvcnRzPW4udHJhbnNwb3J0c3x8W1wicG9sbGluZ1wiLFwid2Vic29ja2V0XCJdLHRoaXMudHJhbnNwb3J0T3B0aW9ucz1uLnRyYW5zcG9ydE9wdGlvbnN8fHt9LHRoaXMucmVhZHlTdGF0ZT1cIlwiLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5wcmV2QnVmZmVyTGVuPTAsdGhpcy5wb2xpY3lQb3J0PW4ucG9saWN5UG9ydHx8ODQzLHRoaXMucmVtZW1iZXJVcGdyYWRlPW4ucmVtZW1iZXJVcGdyYWRlfHwhMSx0aGlzLmJpbmFyeVR5cGU9bnVsbCx0aGlzLm9ubHlCaW5hcnlVcGdyYWRlcz1uLm9ubHlCaW5hcnlVcGdyYWRlcyx0aGlzLnBlck1lc3NhZ2VEZWZsYXRlPSExIT09bi5wZXJNZXNzYWdlRGVmbGF0ZSYmKG4ucGVyTWVzc2FnZURlZmxhdGV8fHt9KSwhMD09PXRoaXMucGVyTWVzc2FnZURlZmxhdGUmJih0aGlzLnBlck1lc3NhZ2VEZWZsYXRlPXt9KSx0aGlzLnBlck1lc3NhZ2VEZWZsYXRlJiZudWxsPT10aGlzLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCYmKHRoaXMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkPTEwMjQpLHRoaXMucGZ4PW4ucGZ4fHxudWxsLHRoaXMua2V5PW4ua2V5fHxudWxsLHRoaXMucGFzc3BocmFzZT1uLnBhc3NwaHJhc2V8fG51bGwsdGhpcy5jZXJ0PW4uY2VydHx8bnVsbCx0aGlzLmNhPW4uY2F8fG51bGwsdGhpcy5jaXBoZXJzPW4uY2lwaGVyc3x8bnVsbCx0aGlzLnJlamVjdFVuYXV0aG9yaXplZD12b2lkIDA9PT1uLnJlamVjdFVuYXV0aG9yaXplZHx8bi5yZWplY3RVbmF1dGhvcml6ZWQsdGhpcy5mb3JjZU5vZGU9ISFuLmZvcmNlTm9kZTt2YXIgbz1cIm9iamVjdFwiPT10eXBlb2YgZSYmZTtvLmdsb2JhbD09PW8mJihuLmV4dHJhSGVhZGVycyYmT2JqZWN0LmtleXMobi5leHRyYUhlYWRlcnMpLmxlbmd0aD4wJiYodGhpcy5leHRyYUhlYWRlcnM9bi5leHRyYUhlYWRlcnMpLG4ubG9jYWxBZGRyZXNzJiYodGhpcy5sb2NhbEFkZHJlc3M9bi5sb2NhbEFkZHJlc3MpKSx0aGlzLmlkPW51bGwsdGhpcy51cGdyYWRlcz1udWxsLHRoaXMucGluZ0ludGVydmFsPW51bGwsdGhpcy5waW5nVGltZW91dD1udWxsLHRoaXMucGluZ0ludGVydmFsVGltZXI9bnVsbCx0aGlzLnBpbmdUaW1lb3V0VGltZXI9bnVsbCx0aGlzLm9wZW4oKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pO3JldHVybiBlfXZhciBpPW4oMTcpLHM9big4KSxhPW4oMykoXCJlbmdpbmUuaW8tY2xpZW50OnNvY2tldFwiKSxjPW4oMzcpLHA9bigyMyksdT1uKDIpLGg9bigzOCksZj1uKDMxKTt0LmV4cG9ydHM9cixyLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSxzKHIucHJvdG90eXBlKSxyLnByb3RvY29sPXAucHJvdG9jb2wsci5Tb2NrZXQ9cixyLlRyYW5zcG9ydD1uKDIyKSxyLnRyYW5zcG9ydHM9bigxNyksci5wYXJzZXI9bigyMyksci5wcm90b3R5cGUuY3JlYXRlVHJhbnNwb3J0PWZ1bmN0aW9uKHQpe2EoJ2NyZWF0aW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciBlPW8odGhpcy5xdWVyeSk7ZS5FSU89cC5wcm90b2NvbCxlLnRyYW5zcG9ydD10O3ZhciBuPXRoaXMudHJhbnNwb3J0T3B0aW9uc1t0XXx8e307dGhpcy5pZCYmKGUuc2lkPXRoaXMuaWQpO3ZhciByPW5ldyBpW3RdKHtxdWVyeTplLHNvY2tldDp0aGlzLGFnZW50Om4uYWdlbnR8fHRoaXMuYWdlbnQsaG9zdG5hbWU6bi5ob3N0bmFtZXx8dGhpcy5ob3N0bmFtZSxwb3J0Om4ucG9ydHx8dGhpcy5wb3J0LHNlY3VyZTpuLnNlY3VyZXx8dGhpcy5zZWN1cmUscGF0aDpuLnBhdGh8fHRoaXMucGF0aCxmb3JjZUpTT05QOm4uZm9yY2VKU09OUHx8dGhpcy5mb3JjZUpTT05QLGpzb25wOm4uanNvbnB8fHRoaXMuanNvbnAsZm9yY2VCYXNlNjQ6bi5mb3JjZUJhc2U2NHx8dGhpcy5mb3JjZUJhc2U2NCxlbmFibGVzWERSOm4uZW5hYmxlc1hEUnx8dGhpcy5lbmFibGVzWERSLHRpbWVzdGFtcFJlcXVlc3RzOm4udGltZXN0YW1wUmVxdWVzdHN8fHRoaXMudGltZXN0YW1wUmVxdWVzdHMsdGltZXN0YW1wUGFyYW06bi50aW1lc3RhbXBQYXJhbXx8dGhpcy50aW1lc3RhbXBQYXJhbSxwb2xpY3lQb3J0Om4ucG9saWN5UG9ydHx8dGhpcy5wb2xpY3lQb3J0LHBmeDpuLnBmeHx8dGhpcy5wZngsa2V5Om4ua2V5fHx0aGlzLmtleSxwYXNzcGhyYXNlOm4ucGFzc3BocmFzZXx8dGhpcy5wYXNzcGhyYXNlLGNlcnQ6bi5jZXJ0fHx0aGlzLmNlcnQsY2E6bi5jYXx8dGhpcy5jYSxjaXBoZXJzOm4uY2lwaGVyc3x8dGhpcy5jaXBoZXJzLHJlamVjdFVuYXV0aG9yaXplZDpuLnJlamVjdFVuYXV0aG9yaXplZHx8dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQscGVyTWVzc2FnZURlZmxhdGU6bi5wZXJNZXNzYWdlRGVmbGF0ZXx8dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSxleHRyYUhlYWRlcnM6bi5leHRyYUhlYWRlcnN8fHRoaXMuZXh0cmFIZWFkZXJzLGZvcmNlTm9kZTpuLmZvcmNlTm9kZXx8dGhpcy5mb3JjZU5vZGUsbG9jYWxBZGRyZXNzOm4ubG9jYWxBZGRyZXNzfHx0aGlzLmxvY2FsQWRkcmVzcyxyZXF1ZXN0VGltZW91dDpuLnJlcXVlc3RUaW1lb3V0fHx0aGlzLnJlcXVlc3RUaW1lb3V0LHByb3RvY29sczpuLnByb3RvY29sc3x8dm9pZCAwfSk7cmV0dXJuIHJ9LHIucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmci5wcmlvcldlYnNvY2tldFN1Y2Nlc3MmJnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpIT09LTEpdD1cIndlYnNvY2tldFwiO2Vsc2V7aWYoMD09PXRoaXMudHJhbnNwb3J0cy5sZW5ndGgpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2UuZW1pdChcImVycm9yXCIsXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKX0sMCl9dD10aGlzLnRyYW5zcG9ydHNbMF19dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiO3RyeXt0PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpfWNhdGNoKG4pe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXQub3BlbigpLHRoaXMuc2V0VHJhbnNwb3J0KHQpfSxyLnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odCl7YShcInNldHRpbmcgdHJhbnNwb3J0ICVzXCIsdC5uYW1lKTt2YXIgZT10aGlzO3RoaXMudHJhbnNwb3J0JiYoYShcImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlc1wiLHRoaXMudHJhbnNwb3J0Lm5hbWUpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpKSx0aGlzLnRyYW5zcG9ydD10LHQub24oXCJkcmFpblwiLGZ1bmN0aW9uKCl7ZS5vbkRyYWluKCl9KS5vbihcInBhY2tldFwiLGZ1bmN0aW9uKHQpe2Uub25QYWNrZXQodCl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5vbkVycm9yKHQpfSkub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7ZS5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIpfSl9LHIucHJvdG90eXBlLnByb2JlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZihmLm9ubHlCaW5hcnlVcGdyYWRlcyl7dmFyIGU9IXRoaXMuc3VwcG9ydHNCaW5hcnkmJmYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O2g9aHx8ZX1ofHwoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLHQpLHUuc2VuZChbe3R5cGU6XCJwaW5nXCIsZGF0YTpcInByb2JlXCJ9XSksdS5vbmNlKFwicGFja2V0XCIsZnVuY3Rpb24oZSl7aWYoIWgpaWYoXCJwb25nXCI9PT1lLnR5cGUmJlwicHJvYmVcIj09PWUuZGF0YSl7aWYoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJyx0KSxmLnVwZ3JhZGluZz0hMCxmLmVtaXQoXCJ1cGdyYWRpbmdcIix1KSwhdSlyZXR1cm47ci5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXUubmFtZSxhKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsZi50cmFuc3BvcnQubmFtZSksZi50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24oKXtofHxcImNsb3NlZFwiIT09Zi5yZWFkeVN0YXRlJiYoYShcImNoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldFwiKSxwKCksZi5zZXRUcmFuc3BvcnQodSksdS5zZW5kKFt7dHlwZTpcInVwZ3JhZGVcIn1dKSxmLmVtaXQoXCJ1cGdyYWRlXCIsdSksdT1udWxsLGYudXBncmFkaW5nPSExLGYuZmx1c2goKSl9KX1lbHNle2EoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJyx0KTt2YXIgbj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtuLnRyYW5zcG9ydD11Lm5hbWUsZi5lbWl0KFwidXBncmFkZUVycm9yXCIsbil9fSkpfWZ1bmN0aW9uIG4oKXtofHwoaD0hMCxwKCksdS5jbG9zZSgpLHU9bnVsbCl9ZnVuY3Rpb24gbyhlKXt2YXIgcj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIrZSk7ci50cmFuc3BvcnQ9dS5uYW1lLG4oKSxhKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsdCxlKSxmLmVtaXQoXCJ1cGdyYWRlRXJyb3JcIixyKX1mdW5jdGlvbiBpKCl7byhcInRyYW5zcG9ydCBjbG9zZWRcIil9ZnVuY3Rpb24gcygpe28oXCJzb2NrZXQgY2xvc2VkXCIpfWZ1bmN0aW9uIGModCl7dSYmdC5uYW1lIT09dS5uYW1lJiYoYSgnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJyx0Lm5hbWUsdS5uYW1lKSxuKCkpfWZ1bmN0aW9uIHAoKXt1LnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLGUpLHUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG8pLHUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGkpLGYucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHMpLGYucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRpbmdcIixjKX1hKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciB1PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQse3Byb2JlOjF9KSxoPSExLGY9dGhpcztyLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSx1Lm9uY2UoXCJvcGVuXCIsZSksdS5vbmNlKFwiZXJyb3JcIixvKSx1Lm9uY2UoXCJjbG9zZVwiLGkpLHRoaXMub25jZShcImNsb3NlXCIscyksdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsYyksdS5vcGVuKCl9LHIucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKGEoXCJzb2NrZXQgb3BlblwiKSx0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsci5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXRoaXMudHJhbnNwb3J0Lm5hbWUsdGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLmZsdXNoKCksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudXBncmFkZSYmdGhpcy50cmFuc3BvcnQucGF1c2Upe2EoXCJzdGFydGluZyB1cGdyYWRlIHByb2Jlc1wiKTtmb3IodmFyIHQ9MCxlPXRoaXMudXBncmFkZXMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW3RdKX19LHIucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpc3dpdGNoKGEoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLHQudHlwZSx0LmRhdGEpLHRoaXMuZW1pdChcInBhY2tldFwiLHQpLHRoaXMuZW1pdChcImhlYXJ0YmVhdFwiKSx0LnR5cGUpe2Nhc2VcIm9wZW5cIjp0aGlzLm9uSGFuZHNoYWtlKGgodC5kYXRhKSk7YnJlYWs7Y2FzZVwicG9uZ1wiOnRoaXMuc2V0UGluZygpLHRoaXMuZW1pdChcInBvbmdcIik7YnJlYWs7Y2FzZVwiZXJyb3JcIjp2YXIgZT1uZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7ZS5jb2RlPXQuZGF0YSx0aGlzLm9uRXJyb3IoZSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOnRoaXMuZW1pdChcImRhdGFcIix0LmRhdGEpLHRoaXMuZW1pdChcIm1lc3NhZ2VcIix0LmRhdGEpfWVsc2UgYSgncGFja2V0IHJlY2VpdmVkIHdpdGggc29ja2V0IHJlYWR5U3RhdGUgXCIlc1wiJyx0aGlzLnJlYWR5U3RhdGUpfSxyLnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJoYW5kc2hha2VcIix0KSx0aGlzLmlkPXQuc2lkLHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZD10LnNpZCx0aGlzLnVwZ3JhZGVzPXRoaXMuZmlsdGVyVXBncmFkZXModC51cGdyYWRlcyksdGhpcy5waW5nSW50ZXJ2YWw9dC5waW5nSW50ZXJ2YWwsdGhpcy5waW5nVGltZW91dD10LnBpbmdUaW1lb3V0LHRoaXMub25PcGVuKCksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuc2V0UGluZygpLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJoZWFydGJlYXRcIix0aGlzLm9uSGVhcnRiZWF0KSx0aGlzLm9uKFwiaGVhcnRiZWF0XCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxyLnByb3RvdHlwZS5vbkhlYXJ0YmVhdD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTt2YXIgZT10aGlzO2UucGluZ1RpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJjbG9zZWRcIiE9PWUucmVhZHlTdGF0ZSYmZS5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSx0fHxlLnBpbmdJbnRlcnZhbCtlLnBpbmdUaW1lb3V0KX0sci5wcm90b3R5cGUuc2V0UGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHQucGluZ0ludGVydmFsVGltZXIpLHQucGluZ0ludGVydmFsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2EoXCJ3cml0aW5nIHBpbmcgcGFja2V0IC0gZXhwZWN0aW5nIHBvbmcgd2l0aGluICVzbXNcIix0LnBpbmdUaW1lb3V0KSx0LnBpbmcoKSx0Lm9uSGVhcnRiZWF0KHQucGluZ1RpbWVvdXQpfSx0LnBpbmdJbnRlcnZhbCl9LHIucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VuZFBhY2tldChcInBpbmdcIixmdW5jdGlvbigpe3QuZW1pdChcInBpbmdcIil9KX0sci5wcm90b3R5cGUub25EcmFpbj1mdW5jdGlvbigpe3RoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsdGhpcy5wcmV2QnVmZmVyTGVuKSx0aGlzLnByZXZCdWZmZXJMZW49MCwwPT09dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5lbWl0KFwiZHJhaW5cIik6dGhpcy5mbHVzaCgpfSxyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe1wiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudHJhbnNwb3J0LndyaXRhYmxlJiYhdGhpcy51cGdyYWRpbmcmJnRoaXMud3JpdGVCdWZmZXIubGVuZ3RoJiYoYShcImZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0XCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy5wcmV2QnVmZmVyTGVuPXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoLHRoaXMuZW1pdChcImZsdXNoXCIpKX0sci5wcm90b3R5cGUud3JpdGU9ci5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIix0LGUsbiksdGhpc30sci5wcm90b3R5cGUuc2VuZFBhY2tldD1mdW5jdGlvbih0LGUsbixyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYocj1lLGU9dm9pZCAwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYocj1uLG49bnVsbCksXCJjbG9zaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUpe249bnx8e30sbi5jb21wcmVzcz0hMSE9PW4uY29tcHJlc3M7dmFyIG89e3R5cGU6dCxkYXRhOmUsb3B0aW9uczpufTt0aGlzLmVtaXQoXCJwYWNrZXRDcmVhdGVcIixvKSx0aGlzLndyaXRlQnVmZmVyLnB1c2gobyksciYmdGhpcy5vbmNlKFwiZmx1c2hcIixyKSx0aGlzLmZsdXNoKCl9fSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIiksYShcInNvY2tldCBjbG9zaW5nIC0gdGVsbGluZyB0cmFuc3BvcnQgdG8gY2xvc2VcIiksci50cmFuc3BvcnQuY2xvc2UoKX1mdW5jdGlvbiBlKCl7ci5yZW1vdmVMaXN0ZW5lcihcInVwZ3JhZGVcIixlKSxyLnJlbW92ZUxpc3RlbmVyKFwidXBncmFkZUVycm9yXCIsZSksdCgpfWZ1bmN0aW9uIG4oKXtyLm9uY2UoXCJ1cGdyYWRlXCIsZSksci5vbmNlKFwidXBncmFkZUVycm9yXCIsZSl9aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlKXt0aGlzLnJlYWR5U3RhdGU9XCJjbG9zaW5nXCI7dmFyIHI9dGhpczt0aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLm9uY2UoXCJkcmFpblwiLGZ1bmN0aW9uKCl7dGhpcy51cGdyYWRpbmc/bigpOnQoKX0pOnRoaXMudXBncmFkaW5nP24oKTp0KCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7YShcInNvY2tldCBlcnJvciAlalwiLHQpLHIucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRoaXMuZW1pdChcImVycm9yXCIsdCksdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsdCl9LHIucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24odCxlKXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXthKCdzb2NrZXQgY2xvc2Ugd2l0aCByZWFzb246IFwiJXNcIicsdCk7dmFyIG49dGhpcztjbGVhclRpbWVvdXQodGhpcy5waW5nSW50ZXJ2YWxUaW1lciksY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXRUaW1lciksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmlkPW51bGwsdGhpcy5lbWl0KFwiY2xvc2VcIix0LGUpLG4ud3JpdGVCdWZmZXI9W10sbi5wcmV2QnVmZmVyTGVuPTB9fSxyLnByb3RvdHlwZS5maWx0ZXJVcGdyYWRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl+Yyh0aGlzLnRyYW5zcG9ydHMsdFtuXSkmJmUucHVzaCh0W25dKTtyZXR1cm4gZX19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlKXt2YXIgbixyPSExLGE9ITEsYz0hMSE9PWUuanNvbnA7aWYodC5sb2NhdGlvbil7dmFyIHA9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLHU9bG9jYXRpb24ucG9ydDt1fHwodT1wPzQ0Mzo4MCkscj1lLmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fHUhPT1lLnBvcnQsYT1lLnNlY3VyZSE9PXB9aWYoZS54ZG9tYWluPXIsZS54c2NoZW1lPWEsbj1uZXcgbyhlKSxcIm9wZW5cImluIG4mJiFlLmZvcmNlSlNPTlApcmV0dXJuIG5ldyBpKGUpO2lmKCFjKXRocm93IG5ldyBFcnJvcihcIkpTT05QIGRpc2FibGVkXCIpO3JldHVybiBuZXcgcyhlKX12YXIgbz1uKDE4KSxpPW4oMjApLHM9bigzNCksYT1uKDM1KTtlLnBvbGxpbmc9cixlLndlYnNvY2tldD1hfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciByPW4oMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgbj10Lnhkb21haW4sbz10LnhzY2hlbWUsaT10LmVuYWJsZXNYRFI7dHJ5e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKCFufHxyKSlyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKHMpe310cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0JiYhbyYmaSlyZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0fWNhdGNoKHMpe31pZighbil0cnl7XG5yZXR1cm4gbmV3KGVbW1wiQWN0aXZlXCJdLmNvbmNhdChcIk9iamVjdFwiKS5qb2luKFwiWFwiKV0pKFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2gocyl7fX19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7dHJ5e3QuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2gobil7dC5leHBvcnRzPSExfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8odCl7aWYoYy5jYWxsKHRoaXMsdCksdGhpcy5yZXF1ZXN0VGltZW91dD10LnJlcXVlc3RUaW1lb3V0LHRoaXMuZXh0cmFIZWFkZXJzPXQuZXh0cmFIZWFkZXJzLGUubG9jYXRpb24pe3ZhciBuPVwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxyPWxvY2F0aW9uLnBvcnQ7cnx8KHI9bj80NDM6ODApLHRoaXMueGQ9dC5ob3N0bmFtZSE9PWUubG9jYXRpb24uaG9zdG5hbWV8fHIhPT10LnBvcnQsdGhpcy54cz10LnNlY3VyZSE9PW59fWZ1bmN0aW9uIGkodCl7dGhpcy5tZXRob2Q9dC5tZXRob2R8fFwiR0VUXCIsdGhpcy51cmk9dC51cmksdGhpcy54ZD0hIXQueGQsdGhpcy54cz0hIXQueHMsdGhpcy5hc3luYz0hMSE9PXQuYXN5bmMsdGhpcy5kYXRhPXZvaWQgMCE9PXQuZGF0YT90LmRhdGE6bnVsbCx0aGlzLmFnZW50PXQuYWdlbnQsdGhpcy5pc0JpbmFyeT10LmlzQmluYXJ5LHRoaXMuc3VwcG9ydHNCaW5hcnk9dC5zdXBwb3J0c0JpbmFyeSx0aGlzLmVuYWJsZXNYRFI9dC5lbmFibGVzWERSLHRoaXMucmVxdWVzdFRpbWVvdXQ9dC5yZXF1ZXN0VGltZW91dCx0aGlzLnBmeD10LnBmeCx0aGlzLmtleT10LmtleSx0aGlzLnBhc3NwaHJhc2U9dC5wYXNzcGhyYXNlLHRoaXMuY2VydD10LmNlcnQsdGhpcy5jYT10LmNhLHRoaXMuY2lwaGVycz10LmNpcGhlcnMsdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ9dC5yZWplY3RVbmF1dGhvcml6ZWQsdGhpcy5leHRyYUhlYWRlcnM9dC5leHRyYUhlYWRlcnMsdGhpcy5jcmVhdGUoKX1mdW5jdGlvbiBzKCl7Zm9yKHZhciB0IGluIGkucmVxdWVzdHMpaS5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmaS5yZXF1ZXN0c1t0XS5hYm9ydCgpfXZhciBhPW4oMTgpLGM9bigyMSkscD1uKDgpLHU9bigzMiksaD1uKDMpKFwiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nLXhoclwiKTt0LmV4cG9ydHM9byx0LmV4cG9ydHMuUmVxdWVzdD1pLHUobyxjKSxvLnByb3RvdHlwZS5zdXBwb3J0c0JpbmFyeT0hMCxvLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fHt9LHQudXJpPXRoaXMudXJpKCksdC54ZD10aGlzLnhkLHQueHM9dGhpcy54cyx0LmFnZW50PXRoaXMuYWdlbnR8fCExLHQuc3VwcG9ydHNCaW5hcnk9dGhpcy5zdXBwb3J0c0JpbmFyeSx0LmVuYWJsZXNYRFI9dGhpcy5lbmFibGVzWERSLHQucGZ4PXRoaXMucGZ4LHQua2V5PXRoaXMua2V5LHQucGFzc3BocmFzZT10aGlzLnBhc3NwaHJhc2UsdC5jZXJ0PXRoaXMuY2VydCx0LmNhPXRoaXMuY2EsdC5jaXBoZXJzPXRoaXMuY2lwaGVycyx0LnJlamVjdFVuYXV0aG9yaXplZD10aGlzLnJlamVjdFVuYXV0aG9yaXplZCx0LnJlcXVlc3RUaW1lb3V0PXRoaXMucmVxdWVzdFRpbWVvdXQsdC5leHRyYUhlYWRlcnM9dGhpcy5leHRyYUhlYWRlcnMsbmV3IGkodCl9LG8ucHJvdG90eXBlLmRvV3JpdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1cInN0cmluZ1wiIT10eXBlb2YgdCYmdm9pZCAwIT09dCxyPXRoaXMucmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLGRhdGE6dCxpc0JpbmFyeTpufSksbz10aGlzO3Iub24oXCJzdWNjZXNzXCIsZSksci5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7by5vbkVycm9yKFwieGhyIHBvc3QgZXJyb3JcIix0KX0pLHRoaXMuc2VuZFhocj1yfSxvLnByb3RvdHlwZS5kb1BvbGw9ZnVuY3Rpb24oKXtoKFwieGhyIHBvbGxcIik7dmFyIHQ9dGhpcy5yZXF1ZXN0KCksZT10aGlzO3Qub24oXCJkYXRhXCIsZnVuY3Rpb24odCl7ZS5vbkRhdGEodCl9KSx0Lm9uKFwiZXJyb3JcIixmdW5jdGlvbih0KXtlLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLHQpfSksdGhpcy5wb2xsWGhyPXR9LHAoaS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PXthZ2VudDp0aGlzLmFnZW50LHhkb21haW46dGhpcy54ZCx4c2NoZW1lOnRoaXMueHMsZW5hYmxlc1hEUjp0aGlzLmVuYWJsZXNYRFJ9O3QucGZ4PXRoaXMucGZ4LHQua2V5PXRoaXMua2V5LHQucGFzc3BocmFzZT10aGlzLnBhc3NwaHJhc2UsdC5jZXJ0PXRoaXMuY2VydCx0LmNhPXRoaXMuY2EsdC5jaXBoZXJzPXRoaXMuY2lwaGVycyx0LnJlamVjdFVuYXV0aG9yaXplZD10aGlzLnJlamVjdFVuYXV0aG9yaXplZDt2YXIgbj10aGlzLnhocj1uZXcgYSh0KSxyPXRoaXM7dHJ5e2goXCJ4aHIgb3BlbiAlczogJXNcIix0aGlzLm1ldGhvZCx0aGlzLnVyaSksbi5vcGVuKHRoaXMubWV0aG9kLHRoaXMudXJpLHRoaXMuYXN5bmMpO3RyeXtpZih0aGlzLmV4dHJhSGVhZGVycyl7bi5zZXREaXNhYmxlSGVhZGVyQ2hlY2smJm4uc2V0RGlzYWJsZUhlYWRlckNoZWNrKCEwKTtmb3IodmFyIG8gaW4gdGhpcy5leHRyYUhlYWRlcnMpdGhpcy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkobykmJm4uc2V0UmVxdWVzdEhlYWRlcihvLHRoaXMuZXh0cmFIZWFkZXJzW29dKX19Y2F0Y2gocyl7fWlmKFwiUE9TVFwiPT09dGhpcy5tZXRob2QpdHJ5e3RoaXMuaXNCaW5hcnk/bi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik6bi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIil9Y2F0Y2gocyl7fXRyeXtuLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcIiovKlwiKX1jYXRjaChzKXt9XCJ3aXRoQ3JlZGVudGlhbHNcImluIG4mJihuLndpdGhDcmVkZW50aWFscz0hMCksdGhpcy5yZXF1ZXN0VGltZW91dCYmKG4udGltZW91dD10aGlzLnJlcXVlc3RUaW1lb3V0KSx0aGlzLmhhc1hEUigpPyhuLm9ubG9hZD1mdW5jdGlvbigpe3Iub25Mb2FkKCl9LG4ub25lcnJvcj1mdW5jdGlvbigpe3Iub25FcnJvcihuLnJlc3BvbnNlVGV4dCl9KTpuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDI9PT1uLnJlYWR5U3RhdGUpe3ZhciB0O3RyeXt0PW4uZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIil9Y2F0Y2goZSl7fVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT10JiYobi5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKX00PT09bi5yZWFkeVN0YXRlJiYoMjAwPT09bi5zdGF0dXN8fDEyMjM9PT1uLnN0YXR1cz9yLm9uTG9hZCgpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLm9uRXJyb3Iobi5zdGF0dXMpfSwwKSl9LGgoXCJ4aHIgZGF0YSAlc1wiLHRoaXMuZGF0YSksbi5zZW5kKHRoaXMuZGF0YSl9Y2F0Y2gocyl7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3Iub25FcnJvcihzKX0sMCl9ZS5kb2N1bWVudCYmKHRoaXMuaW5kZXg9aS5yZXF1ZXN0c0NvdW50KyssaS5yZXF1ZXN0c1t0aGlzLmluZGV4XT10aGlzKX0saS5wcm90b3R5cGUub25TdWNjZXNzPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwic3VjY2Vzc1wiKSx0aGlzLmNsZWFudXAoKX0saS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcImRhdGFcIix0KSx0aGlzLm9uU3VjY2VzcygpfSxpLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcImVycm9yXCIsdCksdGhpcy5jbGVhbnVwKCEwKX0saS5wcm90b3R5cGUuY2xlYW51cD1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy54aHImJm51bGwhPT10aGlzLnhocil7aWYodGhpcy5oYXNYRFIoKT90aGlzLnhoci5vbmxvYWQ9dGhpcy54aHIub25lcnJvcj1yOnRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1yLHQpdHJ5e3RoaXMueGhyLmFib3J0KCl9Y2F0Y2gobil7fWUuZG9jdW1lbnQmJmRlbGV0ZSBpLnJlcXVlc3RzW3RoaXMuaW5kZXhdLHRoaXMueGhyPW51bGx9fSxpLnByb3RvdHlwZS5vbkxvYWQ9ZnVuY3Rpb24oKXt2YXIgdDt0cnl7dmFyIGU7dHJ5e2U9dGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIil9Y2F0Y2gobil7fXQ9XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIj09PWU/dGhpcy54aHIucmVzcG9uc2V8fHRoaXMueGhyLnJlc3BvbnNlVGV4dDp0aGlzLnhoci5yZXNwb25zZVRleHR9Y2F0Y2gobil7dGhpcy5vbkVycm9yKG4pfW51bGwhPXQmJnRoaXMub25EYXRhKHQpfSxpLnByb3RvdHlwZS5oYXNYRFI9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5YRG9tYWluUmVxdWVzdCYmIXRoaXMueHMmJnRoaXMuZW5hYmxlc1hEUn0saS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKX0saS5yZXF1ZXN0c0NvdW50PTAsaS5yZXF1ZXN0cz17fSxlLmRvY3VtZW50JiYoZS5hdHRhY2hFdmVudD9lLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixzKTplLmFkZEV2ZW50TGlzdGVuZXImJmUuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHMsITEpKX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dCYmdC5mb3JjZUJhc2U2NDt1JiYhZXx8KHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLG8uY2FsbCh0aGlzLHQpfXZhciBvPW4oMjIpLGk9bigzMSkscz1uKDIzKSxhPW4oMzIpLGM9bigzMykscD1uKDMpKFwiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nXCIpO3QuZXhwb3J0cz1yO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIHQ9bigxOCksZT1uZXcgdCh7eGRvbWFpbjohMX0pO3JldHVybiBudWxsIT1lLnJlc3BvbnNlVHlwZX0oKTthKHIsbyksci5wcm90b3R5cGUubmFtZT1cInBvbGxpbmdcIixyLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24oKXt0aGlzLnBvbGwoKX0sci5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3AoXCJwYXVzZWRcIiksbi5yZWFkeVN0YXRlPVwicGF1c2VkXCIsdCgpfXZhciBuPXRoaXM7aWYodGhpcy5yZWFkeVN0YXRlPVwicGF1c2luZ1wiLHRoaXMucG9sbGluZ3x8IXRoaXMud3JpdGFibGUpe3ZhciByPTA7dGhpcy5wb2xsaW5nJiYocChcIndlIGFyZSBjdXJyZW50bHkgcG9sbGluZyAtIHdhaXRpbmcgdG8gcGF1c2VcIikscisrLHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLGZ1bmN0aW9uKCl7cChcInByZS1wYXVzZSBwb2xsaW5nIGNvbXBsZXRlXCIpLC0tcnx8ZSgpfSkpLHRoaXMud3JpdGFibGV8fChwKFwid2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIC0gd2FpdGluZyB0byBwYXVzZVwiKSxyKyssdGhpcy5vbmNlKFwiZHJhaW5cIixmdW5jdGlvbigpe3AoXCJwcmUtcGF1c2Ugd3JpdGluZyBjb21wbGV0ZVwiKSwtLXJ8fGUoKX0pKX1lbHNlIGUoKX0sci5wcm90b3R5cGUucG9sbD1mdW5jdGlvbigpe3AoXCJwb2xsaW5nXCIpLHRoaXMucG9sbGluZz0hMCx0aGlzLmRvUG9sbCgpLHRoaXMuZW1pdChcInBvbGxcIil9LHIucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3AoXCJwb2xsaW5nIGdvdCBkYXRhICVzXCIsdCk7dmFyIG49ZnVuY3Rpb24odCxuLHIpe3JldHVyblwib3BlbmluZ1wiPT09ZS5yZWFkeVN0YXRlJiZlLm9uT3BlbigpLFwiY2xvc2VcIj09PXQudHlwZT8oZS5vbkNsb3NlKCksITEpOnZvaWQgZS5vblBhY2tldCh0KX07cy5kZWNvZGVQYXlsb2FkKHQsdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSxuKSxcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5wb2xsaW5nPSExLHRoaXMuZW1pdChcInBvbGxDb21wbGV0ZVwiKSxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZT90aGlzLnBvbGwoKTpwKCdpZ25vcmluZyBwb2xsIC0gdHJhbnNwb3J0IHN0YXRlIFwiJXNcIicsdGhpcy5yZWFkeVN0YXRlKSl9LHIucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cChcIndyaXRpbmcgY2xvc2UgcGFja2V0XCIpLGUud3JpdGUoW3t0eXBlOlwiY2xvc2VcIn1dKX12YXIgZT10aGlzO1wib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlPyhwKFwidHJhbnNwb3J0IG9wZW4gLSBjbG9zaW5nXCIpLHQoKSk6KHAoXCJ0cmFuc3BvcnQgbm90IG9wZW4gLSBkZWZlcnJpbmcgY2xvc2VcIiksdGhpcy5vbmNlKFwib3BlblwiLHQpKX0sci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLndyaXRhYmxlPSExO3ZhciBuPWZ1bmN0aW9uKCl7ZS53cml0YWJsZT0hMCxlLmVtaXQoXCJkcmFpblwiKX07cy5lbmNvZGVQYXlsb2FkKHQsdGhpcy5zdXBwb3J0c0JpbmFyeSxmdW5jdGlvbih0KXtlLmRvV3JpdGUodCxuKX0pfSxyLnByb3RvdHlwZS51cmk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnF1ZXJ5fHx7fSxlPXRoaXMuc2VjdXJlP1wiaHR0cHNcIjpcImh0dHBcIixuPVwiXCI7ITEhPT10aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLnRpbWVzdGFtcFBhcmFtXT1jKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fHQuc2lkfHwodC5iNjQ9MSksdD1pLmVuY29kZSh0KSx0aGlzLnBvcnQmJihcImh0dHBzXCI9PT1lJiY0NDMhPT1OdW1iZXIodGhpcy5wb3J0KXx8XCJodHRwXCI9PT1lJiY4MCE9PU51bWJlcih0aGlzLnBvcnQpKSYmKG49XCI6XCIrdGhpcy5wb3J0KSx0Lmxlbmd0aCYmKHQ9XCI/XCIrdCk7dmFyIHI9dGhpcy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSE9PS0xO3JldHVybiBlK1wiOi8vXCIrKHI/XCJbXCIrdGhpcy5ob3N0bmFtZStcIl1cIjp0aGlzLmhvc3RuYW1lKStuK3RoaXMucGF0aCt0fX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dGhpcy5wYXRoPXQucGF0aCx0aGlzLmhvc3RuYW1lPXQuaG9zdG5hbWUsdGhpcy5wb3J0PXQucG9ydCx0aGlzLnNlY3VyZT10LnNlY3VyZSx0aGlzLnF1ZXJ5PXQucXVlcnksdGhpcy50aW1lc3RhbXBQYXJhbT10LnRpbWVzdGFtcFBhcmFtLHRoaXMudGltZXN0YW1wUmVxdWVzdHM9dC50aW1lc3RhbXBSZXF1ZXN0cyx0aGlzLnJlYWR5U3RhdGU9XCJcIix0aGlzLmFnZW50PXQuYWdlbnR8fCExLHRoaXMuc29ja2V0PXQuc29ja2V0LHRoaXMuZW5hYmxlc1hEUj10LmVuYWJsZXNYRFIsdGhpcy5wZng9dC5wZngsdGhpcy5rZXk9dC5rZXksdGhpcy5wYXNzcGhyYXNlPXQucGFzc3BocmFzZSx0aGlzLmNlcnQ9dC5jZXJ0LHRoaXMuY2E9dC5jYSx0aGlzLmNpcGhlcnM9dC5jaXBoZXJzLHRoaXMucmVqZWN0VW5hdXRob3JpemVkPXQucmVqZWN0VW5hdXRob3JpemVkLHRoaXMuZm9yY2VOb2RlPXQuZm9yY2VOb2RlLHRoaXMuZXh0cmFIZWFkZXJzPXQuZXh0cmFIZWFkZXJzLHRoaXMubG9jYWxBZGRyZXNzPXQubG9jYWxBZGRyZXNzfXZhciBvPW4oMjMpLGk9big4KTt0LmV4cG9ydHM9cixpKHIucHJvdG90eXBlKSxyLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEVycm9yKHQpO3JldHVybiBuLnR5cGU9XCJUcmFuc3BvcnRFcnJvclwiLG4uZGVzY3JpcHRpb249ZSx0aGlzLmVtaXQoXCJlcnJvclwiLG4pLHRoaXN9LHIucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXtyZXR1cm5cImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiZcIlwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuZG9PcGVuKCkpLHRoaXN9LHIucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuXCJvcGVuaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5kb0Nsb3NlKCksdGhpcy5vbkNsb3NlKCkpLHRoaXN9LHIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCl7aWYoXCJvcGVuXCIhPT10aGlzLnJlYWR5U3RhdGUpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwb3J0IG5vdCBvcGVuXCIpO3RoaXMud3JpdGUodCl9LHIucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdChcIm9wZW5cIil9LHIucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt2YXIgZT1vLmRlY29kZVBhY2tldCh0LHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO3RoaXMub25QYWNrZXQoZSl9LHIucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcInBhY2tldFwiLHQpfSxyLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0KFwiY2xvc2VcIil9fSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIodCxuKXt2YXIgcj1cImJcIitlLnBhY2tldHNbdC50eXBlXSt0LmRhdGEuZGF0YTtyZXR1cm4gbihyKX1mdW5jdGlvbiBvKHQsbixyKXtpZighbilyZXR1cm4gZS5lbmNvZGVCYXNlNjRQYWNrZXQodCxyKTt2YXIgbz10LmRhdGEsaT1uZXcgVWludDhBcnJheShvKSxzPW5ldyBVaW50OEFycmF5KDErby5ieXRlTGVuZ3RoKTtzWzBdPXZbdC50eXBlXTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylzW2ErMV09aVthXTtyZXR1cm4gcihzLmJ1ZmZlcil9ZnVuY3Rpb24gaSh0LG4scil7aWYoIW4pcmV0dXJuIGUuZW5jb2RlQmFzZTY0UGFja2V0KHQscik7dmFyIG89bmV3IEZpbGVSZWFkZXI7cmV0dXJuIG8ub25sb2FkPWZ1bmN0aW9uKCl7dC5kYXRhPW8ucmVzdWx0LGUuZW5jb2RlUGFja2V0KHQsbiwhMCxyKX0sby5yZWFkQXNBcnJheUJ1ZmZlcih0LmRhdGEpfWZ1bmN0aW9uIHModCxuLHIpe2lmKCFuKXJldHVybiBlLmVuY29kZUJhc2U2NFBhY2tldCh0LHIpO2lmKGcpcmV0dXJuIGkodCxuLHIpO3ZhciBvPW5ldyBVaW50OEFycmF5KDEpO29bMF09dlt0LnR5cGVdO3ZhciBzPW5ldyBrKFtvLmJ1ZmZlcix0LmRhdGFdKTtyZXR1cm4gcihzKX1mdW5jdGlvbiBhKHQpe3RyeXt0PWQuZGVjb2RlKHQse3N0cmljdDohMX0pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiB0fWZ1bmN0aW9uIGModCxlLG4pe2Zvcih2YXIgcj1uZXcgQXJyYXkodC5sZW5ndGgpLG89bCh0Lmxlbmd0aCxuKSxpPWZ1bmN0aW9uKHQsbixvKXtlKG4sZnVuY3Rpb24oZSxuKXtyW3RdPW4sbyhlLHIpfSl9LHM9MDtzPHQubGVuZ3RoO3MrKylpKHMsdFtzXSxvKX12YXIgcCx1PW4oMjQpLGg9big5KSxmPW4oMjUpLGw9bigyNiksZD1uKDI3KTt0JiZ0LkFycmF5QnVmZmVyJiYocD1uKDI5KSk7dmFyIHk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG09XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL1BoYW50b21KUy9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz15fHxtO2UucHJvdG9jb2w9Mzt2YXIgdj1lLnBhY2tldHM9e29wZW46MCxjbG9zZToxLHBpbmc6Mixwb25nOjMsbWVzc2FnZTo0LHVwZ3JhZGU6NSxub29wOjZ9LGI9dSh2KSx3PXt0eXBlOlwiZXJyb3JcIixkYXRhOlwicGFyc2VyIGVycm9yXCJ9LGs9bigzMCk7ZS5lbmNvZGVQYWNrZXQ9ZnVuY3Rpb24oZSxuLGksYSl7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKGE9bixuPSExKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYoYT1pLGk9bnVsbCk7dmFyIGM9dm9pZCAwPT09ZS5kYXRhP3ZvaWQgMDplLmRhdGEuYnVmZmVyfHxlLmRhdGE7aWYodC5BcnJheUJ1ZmZlciYmYyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBvKGUsbixhKTtpZihrJiZjIGluc3RhbmNlb2YgdC5CbG9iKXJldHVybiBzKGUsbixhKTtpZihjJiZjLmJhc2U2NClyZXR1cm4gcihlLGEpO3ZhciBwPXZbZS50eXBlXTtyZXR1cm4gdm9pZCAwIT09ZS5kYXRhJiYocCs9aT9kLmVuY29kZShTdHJpbmcoZS5kYXRhKSx7c3RyaWN0OiExfSk6U3RyaW5nKGUuZGF0YSkpLGEoXCJcIitwKX0sZS5lbmNvZGVCYXNlNjRQYWNrZXQ9ZnVuY3Rpb24obixyKXt2YXIgbz1cImJcIitlLnBhY2tldHNbbi50eXBlXTtpZihrJiZuLmRhdGEgaW5zdGFuY2VvZiB0LkJsb2Ipe3ZhciBpPW5ldyBGaWxlUmVhZGVyO3JldHVybiBpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciB0PWkucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtyKG8rdCl9LGkucmVhZEFzRGF0YVVSTChuLmRhdGEpfXZhciBzO3RyeXtzPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShuLmRhdGEpKX1jYXRjaChhKXtmb3IodmFyIGM9bmV3IFVpbnQ4QXJyYXkobi5kYXRhKSxwPW5ldyBBcnJheShjLmxlbmd0aCksdT0wO3U8Yy5sZW5ndGg7dSsrKXBbdV09Y1t1XTtzPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxwKX1yZXR1cm4gbys9dC5idG9hKHMpLHIobyl9LGUuZGVjb2RlUGFja2V0PWZ1bmN0aW9uKHQsbixyKXtpZih2b2lkIDA9PT10KXJldHVybiB3O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihcImJcIj09PXQuY2hhckF0KDApKXJldHVybiBlLmRlY29kZUJhc2U2NFBhY2tldCh0LnN1YnN0cigxKSxuKTtpZihyJiYodD1hKHQpLHQ9PT0hMSkpcmV0dXJuIHc7dmFyIG89dC5jaGFyQXQoMCk7cmV0dXJuIE51bWJlcihvKT09byYmYltvXT90Lmxlbmd0aD4xP3t0eXBlOmJbb10sZGF0YTp0LnN1YnN0cmluZygxKX06e3R5cGU6YltvXX06d312YXIgaT1uZXcgVWludDhBcnJheSh0KSxvPWlbMF0scz1mKHQsMSk7cmV0dXJuIGsmJlwiYmxvYlwiPT09biYmKHM9bmV3IGsoW3NdKSkse3R5cGU6YltvXSxkYXRhOnN9fSxlLmRlY29kZUJhc2U2NFBhY2tldD1mdW5jdGlvbih0LGUpe3ZhciBuPWJbdC5jaGFyQXQoMCldO2lmKCFwKXJldHVybnt0eXBlOm4sZGF0YTp7YmFzZTY0OiEwLGRhdGE6dC5zdWJzdHIoMSl9fTt2YXIgcj1wLmRlY29kZSh0LnN1YnN0cigxKSk7cmV0dXJuXCJibG9iXCI9PT1lJiZrJiYocj1uZXcgayhbcl0pKSx7dHlwZTpuLGRhdGE6cn19LGUuZW5jb2RlUGF5bG9hZD1mdW5jdGlvbih0LG4scil7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC5sZW5ndGgrXCI6XCIrdH1mdW5jdGlvbiBpKHQscil7ZS5lbmNvZGVQYWNrZXQodCwhIXMmJm4sITEsZnVuY3Rpb24odCl7cihudWxsLG8odCkpfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHI9bixuPW51bGwpO3ZhciBzPWgodCk7cmV0dXJuIG4mJnM/ayYmIWc/ZS5lbmNvZGVQYXlsb2FkQXNCbG9iKHQscik6ZS5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcih0LHIpOnQubGVuZ3RoP3ZvaWQgYyh0LGksZnVuY3Rpb24odCxlKXtyZXR1cm4gcihlLmpvaW4oXCJcIikpfSk6cihcIjA6XCIpfSxlLmRlY29kZVBheWxvYWQ9ZnVuY3Rpb24odCxuLHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiBlLmRlY29kZVBheWxvYWRBc0JpbmFyeSh0LG4scik7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHI9bixuPW51bGwpO3ZhciBvO2lmKFwiXCI9PT10KXJldHVybiByKHcsMCwxKTtmb3IodmFyIGkscyxhPVwiXCIsYz0wLHA9dC5sZW5ndGg7YzxwO2MrKyl7dmFyIHU9dC5jaGFyQXQoYyk7aWYoXCI6XCI9PT11KXtpZihcIlwiPT09YXx8YSE9KGk9TnVtYmVyKGEpKSlyZXR1cm4gcih3LDAsMSk7aWYocz10LnN1YnN0cihjKzEsaSksYSE9cy5sZW5ndGgpcmV0dXJuIHIodywwLDEpO2lmKHMubGVuZ3RoKXtpZihvPWUuZGVjb2RlUGFja2V0KHMsbiwhMSksdy50eXBlPT09by50eXBlJiZ3LmRhdGE9PT1vLmRhdGEpcmV0dXJuIHIodywwLDEpO3ZhciBoPXIobyxjK2kscCk7aWYoITE9PT1oKXJldHVybn1jKz1pLGE9XCJcIn1lbHNlIGErPXV9cmV0dXJuXCJcIiE9PWE/cih3LDAsMSk6dm9pZCAwfSxlLmVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyPWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcih0LG4pe2UuZW5jb2RlUGFja2V0KHQsITAsITAsZnVuY3Rpb24odCl7cmV0dXJuIG4obnVsbCx0KX0pfXJldHVybiB0Lmxlbmd0aD92b2lkIGModCxyLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbj1cInN0cmluZ1wiPT10eXBlb2YgZT9lLmxlbmd0aDplLmJ5dGVMZW5ndGgsdCtuLnRvU3RyaW5nKCkubGVuZ3RoK24rMn0sMCksbz1uZXcgVWludDhBcnJheShyKSxpPTA7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1cInN0cmluZ1wiPT10eXBlb2YgdCxuPXQ7aWYoZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxzPTA7czx0Lmxlbmd0aDtzKyspcltzXT10LmNoYXJDb2RlQXQocyk7bj1yLmJ1ZmZlcn1lP29baSsrXT0wOm9baSsrXT0xO2Zvcih2YXIgYT1uLmJ5dGVMZW5ndGgudG9TdHJpbmcoKSxzPTA7czxhLmxlbmd0aDtzKyspb1tpKytdPXBhcnNlSW50KGFbc10pO29baSsrXT0yNTU7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KG4pLHM9MDtzPHIubGVuZ3RoO3MrKylvW2krK109cltzXX0pLG4oby5idWZmZXIpfSk6bihuZXcgQXJyYXlCdWZmZXIoMCkpfSxlLmVuY29kZVBheWxvYWRBc0Jsb2I9ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKHQsbil7ZS5lbmNvZGVQYWNrZXQodCwhMCwhMCxmdW5jdGlvbih0KXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtpZihlWzBdPTEsXCJzdHJpbmdcIj09dHlwZW9mIHQpe2Zvcih2YXIgcj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksbz0wO288dC5sZW5ndGg7bysrKXJbb109dC5jaGFyQ29kZUF0KG8pO3Q9ci5idWZmZXIsZVswXT0wfWZvcih2YXIgaT10IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dC5ieXRlTGVuZ3RoOnQuc2l6ZSxzPWkudG9TdHJpbmcoKSxhPW5ldyBVaW50OEFycmF5KHMubGVuZ3RoKzEpLG89MDtvPHMubGVuZ3RoO28rKylhW29dPXBhcnNlSW50KHNbb10pO2lmKGFbcy5sZW5ndGhdPTI1NSxrKXt2YXIgYz1uZXcgayhbZS5idWZmZXIsYS5idWZmZXIsdF0pO24obnVsbCxjKX19KX1jKHQscixmdW5jdGlvbih0LGUpe3JldHVybiBuKG5ldyBrKGUpKX0pfSxlLmRlY29kZVBheWxvYWRBc0JpbmFyeT1mdW5jdGlvbih0LG4scil7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHI9bixuPW51bGwpO2Zvcih2YXIgbz10LGk9W107by5ieXRlTGVuZ3RoPjA7KXtmb3IodmFyIHM9bmV3IFVpbnQ4QXJyYXkobyksYT0wPT09c1swXSxjPVwiXCIscD0xOzI1NSE9PXNbcF07cCsrKXtpZihjLmxlbmd0aD4zMTApcmV0dXJuIHIodywwLDEpO2MrPXNbcF19bz1mKG8sMitjLmxlbmd0aCksYz1wYXJzZUludChjKTt2YXIgdT1mKG8sMCxjKTtpZihhKXRyeXt1PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSh1KSl9Y2F0Y2goaCl7dmFyIGw9bmV3IFVpbnQ4QXJyYXkodSk7dT1cIlwiO2Zvcih2YXIgcD0wO3A8bC5sZW5ndGg7cCsrKXUrPVN0cmluZy5mcm9tQ2hhckNvZGUobFtwXSl9aS5wdXNoKHUpLG89ZihvLGMpfXZhciBkPWkubGVuZ3RoO2kuZm9yRWFjaChmdW5jdGlvbih0LG8pe3IoZS5kZWNvZGVQYWNrZXQodCxuLCEwKSxvLGQpfSl9fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Zvcih2YXIgciBpbiB0KW4uY2FsbCh0LHIpJiZlLnB1c2gocik7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5ieXRlTGVuZ3RoO2lmKGU9ZXx8MCxuPW58fHIsdC5zbGljZSlyZXR1cm4gdC5zbGljZShlLG4pO2lmKGU8MCYmKGUrPXIpLG48MCYmKG4rPXIpLG4+ciYmKG49ciksZT49cnx8ZT49bnx8MD09PXIpcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtmb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkodCksaT1uZXcgVWludDhBcnJheShuLWUpLHM9ZSxhPTA7czxuO3MrKyxhKyspaVthXT1vW3NdO3JldHVybiBpLmJ1ZmZlcn19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUsbil7ZnVuY3Rpb24gbyh0LHIpe2lmKG8uY291bnQ8PTApdGhyb3cgbmV3IEVycm9yKFwiYWZ0ZXIgY2FsbGVkIHRvbyBtYW55IHRpbWVzXCIpOy0tby5jb3VudCx0PyhpPSEwLGUodCksZT1uKTowIT09by5jb3VudHx8aXx8ZShudWxsLHIpfXZhciBpPSExO3JldHVybiBuPW58fHIsby5jb3VudD10LDA9PT10P2UoKTpvfWZ1bmN0aW9uIHIoKXt9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcjsoZnVuY3Rpb24odCxvKXshZnVuY3Rpb24oaSl7ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGUsbixyPVtdLG89MCxpPXQubGVuZ3RoO288aTspZT10LmNoYXJDb2RlQXQobysrKSxlPj01NTI5NiYmZTw9NTYzMTkmJm88aT8obj10LmNoYXJDb2RlQXQobysrKSw1NjMyMD09KDY0NTEyJm4pP3IucHVzaCgoKDEwMjMmZSk8PDEwKSsoMTAyMyZuKSs2NTUzNik6KHIucHVzaChlKSxvLS0pKTpyLnB1c2goZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGUsbj10Lmxlbmd0aCxyPS0xLG89XCJcIjsrK3I8bjspZT10W3JdLGU+NjU1MzUmJihlLT02NTUzNixvKz13KGU+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksbys9dyhlKTtyZXR1cm4gb31mdW5jdGlvbiBjKHQsZSl7aWYodD49NTUyOTYmJnQ8PTU3MzQzKXtpZihlKXRocm93IEVycm9yKFwiTG9uZSBzdXJyb2dhdGUgVStcIit0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpK1wiIGlzIG5vdCBhIHNjYWxhciB2YWx1ZVwiKTtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIHcodD4+ZSY2M3wxMjgpfWZ1bmN0aW9uIHUodCxlKXtpZigwPT0oNDI5NDk2NzE2OCZ0KSlyZXR1cm4gdyh0KTt2YXIgbj1cIlwiO3JldHVybiAwPT0oNDI5NDk2NTI0OCZ0KT9uPXcodD4+NiYzMXwxOTIpOjA9PSg0Mjk0OTAxNzYwJnQpPyhjKHQsZSl8fCh0PTY1NTMzKSxuPXcodD4+MTImMTV8MjI0KSxuKz1wKHQsNikpOjA9PSg0MjkyODcwMTQ0JnQpJiYobj13KHQ+PjE4Jjd8MjQwKSxuKz1wKHQsMTIpLG4rPXAodCw2KSksbis9dyg2MyZ0fDEyOCl9ZnVuY3Rpb24gaCh0LGUpe2U9ZXx8e307Zm9yKHZhciBuLHI9ITEhPT1lLnN0cmljdCxvPXModCksaT1vLmxlbmd0aCxhPS0xLGM9XCJcIjsrK2E8aTspbj1vW2FdLGMrPXUobixyKTtyZXR1cm4gY31mdW5jdGlvbiBmKCl7aWYoYj49dil0aHJvdyBFcnJvcihcIkludmFsaWQgYnl0ZSBpbmRleFwiKTt2YXIgdD0yNTUmZ1tiXTtpZihiKyssMTI4PT0oMTkyJnQpKXJldHVybiA2MyZ0O3Rocm93IEVycm9yKFwiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZVwiKX1mdW5jdGlvbiBsKHQpe3ZhciBlLG4scixvLGk7aWYoYj52KXRocm93IEVycm9yKFwiSW52YWxpZCBieXRlIGluZGV4XCIpO2lmKGI9PXYpcmV0dXJuITE7aWYoZT0yNTUmZ1tiXSxiKyssMD09KDEyOCZlKSlyZXR1cm4gZTtpZigxOTI9PSgyMjQmZSkpe2lmKG49ZigpLGk9KDMxJmUpPDw2fG4saT49MTI4KXJldHVybiBpO3Rocm93IEVycm9yKFwiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZVwiKX1pZigyMjQ9PSgyNDAmZSkpe2lmKG49ZigpLHI9ZigpLGk9KDE1JmUpPDwxMnxuPDw2fHIsaT49MjA0OClyZXR1cm4gYyhpLHQpP2k6NjU1MzM7dGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXCIpfWlmKDI0MD09KDI0OCZlKSYmKG49ZigpLHI9ZigpLG89ZigpLGk9KDcmZSk8PDE4fG48PDEyfHI8PDZ8byxpPj02NTUzNiYmaTw9MTExNDExMSkpcmV0dXJuIGk7dGhyb3cgRXJyb3IoXCJJbnZhbGlkIFVURi04IGRldGVjdGVkXCIpfWZ1bmN0aW9uIGQodCxlKXtlPWV8fHt9O3ZhciBuPSExIT09ZS5zdHJpY3Q7Zz1zKHQpLHY9Zy5sZW5ndGgsYj0wO2Zvcih2YXIgcixvPVtdOyhyPWwobikpIT09ITE7KW8ucHVzaChyKTtyZXR1cm4gYShvKX12YXIgeT1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSxtPShcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5leHBvcnRzPT15JiZ0LFwib2JqZWN0XCI9PXR5cGVvZiBvJiZvKTttLmdsb2JhbCE9PW0mJm0ud2luZG93IT09bXx8KGk9bSk7dmFyIGcsdixiLHc9U3RyaW5nLmZyb21DaGFyQ29kZSxrPXt2ZXJzaW9uOlwiMi4xLjJcIixlbmNvZGU6aCxkZWNvZGU6ZH07cj1mdW5jdGlvbigpe3JldHVybiBrfS5jYWxsKGUsbixlLHQpLCEodm9pZCAwIT09ciYmKHQuZXhwb3J0cz1yKSl9KHRoaXMpfSkuY2FsbChlLG4oMjgpKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdC53ZWJwYWNrUG9seWZpbGx8fCh0LmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sdC5wYXRocz1bXSx0LmNoaWxkcmVuPVtdLHQud2VicGFja1BvbHlmaWxsPTEpLHR9fSxmdW5jdGlvbih0LGUpeyFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Zvcih2YXIgdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixuPW5ldyBVaW50OEFycmF5KDI1Nikscj0wO3I8dC5sZW5ndGg7cisrKW5bdC5jaGFyQ29kZUF0KHIpXT1yO2UuZW5jb2RlPWZ1bmN0aW9uKGUpe3ZhciBuLHI9bmV3IFVpbnQ4QXJyYXkoZSksbz1yLmxlbmd0aCxpPVwiXCI7Zm9yKG49MDtuPG87bis9MylpKz10W3Jbbl0+PjJdLGkrPXRbKDMmcltuXSk8PDR8cltuKzFdPj40XSxpKz10WygxNSZyW24rMV0pPDwyfHJbbisyXT4+Nl0saSs9dFs2MyZyW24rMl1dO3JldHVybiBvJTM9PT0yP2k9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC0xKStcIj1cIjpvJTM9PT0xJiYoaT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLTIpK1wiPT1cIiksaX0sZS5kZWNvZGU9ZnVuY3Rpb24odCl7dmFyIGUscixvLGkscyxhPS43NSp0Lmxlbmd0aCxjPXQubGVuZ3RoLHA9MDtcIj1cIj09PXRbdC5sZW5ndGgtMV0mJihhLS0sXCI9XCI9PT10W3QubGVuZ3RoLTJdJiZhLS0pO3ZhciB1PW5ldyBBcnJheUJ1ZmZlcihhKSxoPW5ldyBVaW50OEFycmF5KHUpO2ZvcihlPTA7ZTxjO2UrPTQpcj1uW3QuY2hhckNvZGVBdChlKV0sbz1uW3QuY2hhckNvZGVBdChlKzEpXSxpPW5bdC5jaGFyQ29kZUF0KGUrMildLHM9blt0LmNoYXJDb2RlQXQoZSszKV0saFtwKytdPXI8PDJ8bz4+NCxoW3ArK109KDE1Jm8pPDw0fGk+PjIsaFtwKytdPSgzJmkpPDw2fDYzJnM7cmV0dXJuIHV9fSgpfSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG4uYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciByPW4uYnVmZmVyO2lmKG4uYnl0ZUxlbmd0aCE9PXIuYnl0ZUxlbmd0aCl7dmFyIG89bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtvLnNldChuZXcgVWludDhBcnJheShyLG4uYnl0ZU9mZnNldCxuLmJ5dGVMZW5ndGgpKSxyPW8uYnVmZmVyfXRbZV09cn19fWZ1bmN0aW9uIHIodCxlKXtlPWV8fHt9O3ZhciByPW5ldyBpO24odCk7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspci5hcHBlbmQodFtvXSk7cmV0dXJuIGUudHlwZT9yLmdldEJsb2IoZS50eXBlKTpyLmdldEJsb2IoKX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIG4odCksbmV3IEJsb2IodCxlfHx7fSl9dmFyIGk9ZS5CbG9iQnVpbGRlcnx8ZS5XZWJLaXRCbG9iQnVpbGRlcnx8ZS5NU0Jsb2JCdWlsZGVyfHxlLk1vekJsb2JCdWlsZGVyLHM9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IEJsb2IoW1wiaGlcIl0pO3JldHVybiAyPT09dC5zaXplfWNhdGNoKGUpe3JldHVybiExfX0oKSxhPXMmJmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBCbG9iKFtuZXcgVWludDhBcnJheShbMSwyXSldKTtyZXR1cm4gMj09PXQuc2l6ZX1jYXRjaChlKXtyZXR1cm4hMX19KCksYz1pJiZpLnByb3RvdHlwZS5hcHBlbmQmJmkucHJvdG90eXBlLmdldEJsb2I7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHM/YT9lLkJsb2I6bzpjP3I6dm9pZCAwfSgpfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe2UuZW5jb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGUubGVuZ3RoJiYoZSs9XCImXCIpLGUrPWVuY29kZVVSSUNvbXBvbmVudChuKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtuXSkpO3JldHVybiBlfSxlLmRlY29kZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30sbj10LnNwbGl0KFwiJlwiKSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgaT1uW3JdLnNwbGl0KFwiPVwiKTtlW2RlY29kZVVSSUNvbXBvbmVudChpWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KGlbMV0pfXJldHVybiBlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT1cIlwiO2RvIGU9c1t0JWFdK2UsdD1NYXRoLmZsb29yKHQvYSk7d2hpbGUodD4wKTtyZXR1cm4gZX1mdW5jdGlvbiByKHQpe3ZhciBlPTA7Zm9yKHU9MDt1PHQubGVuZ3RoO3UrKyllPWUqYStjW3QuY2hhckF0KHUpXTtyZXR1cm4gZX1mdW5jdGlvbiBvKCl7dmFyIHQ9bigrbmV3IERhdGUpO3JldHVybiB0IT09aT8ocD0wLGk9dCk6dCtcIi5cIituKHArKyl9Zm9yKHZhciBpLHM9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fXCIuc3BsaXQoXCJcIiksYT02NCxjPXt9LHA9MCx1PTA7dTxhO3UrKyljW3NbdV1dPXU7by5lbmNvZGU9bixvLmRlY29kZT1yLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gbyh0KXtpLmNhbGwodGhpcyx0KSx0aGlzLnF1ZXJ5PXRoaXMucXVlcnl8fHt9LGF8fChlLl9fX2Vpb3x8KGUuX19fZWlvPVtdKSxhPWUuX19fZWlvKSx0aGlzLmluZGV4PWEubGVuZ3RoO3ZhciBuPXRoaXM7YS5wdXNoKGZ1bmN0aW9uKHQpe24ub25EYXRhKHQpfSksdGhpcy5xdWVyeS5qPXRoaXMuaW5kZXgsZS5kb2N1bWVudCYmZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixmdW5jdGlvbigpe24uc2NyaXB0JiYobi5zY3JpcHQub25lcnJvcj1yKX0sITEpfXZhciBpPW4oMjEpLHM9bigzMik7dC5leHBvcnRzPW87dmFyIGEsYz0vXFxuL2cscD0vXFxcXG4vZztzKG8saSksby5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnk9ITEsby5wcm90b3R5cGUuZG9DbG9zZT1mdW5jdGlvbigpe3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksdGhpcy5mb3JtJiYodGhpcy5mb3JtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb3JtKSx0aGlzLmZvcm09bnVsbCx0aGlzLmlmcmFtZT1udWxsKSxpLnByb3RvdHlwZS5kb0Nsb3NlLmNhbGwodGhpcyl9LG8ucHJvdG90eXBlLmRvUG9sbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RoaXMuc2NyaXB0JiYodGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCksdGhpcy5zY3JpcHQ9bnVsbCksZS5hc3luYz0hMCxlLnNyYz10aGlzLnVyaSgpLGUub25lcnJvcj1mdW5jdGlvbihlKXt0Lm9uRXJyb3IoXCJqc29ucCBwb2xsIGVycm9yXCIsZSl9O3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO24/bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLG4pOihkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChlKSx0aGlzLnNjcmlwdD1lO3ZhciByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9nZWNrby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7ciYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpfSwxMDApfSxvLnByb3RvdHlwZS5kb1dyaXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3IoKSxlKCl9ZnVuY3Rpb24gcigpe2lmKG8uaWZyYW1lKXRyeXtvLmZvcm0ucmVtb3ZlQ2hpbGQoby5pZnJhbWUpfWNhdGNoKHQpe28ub25FcnJvcihcImpzb25wIHBvbGxpbmcgaWZyYW1lIHJlbW92YWwgZXJyb3JcIix0KX10cnl7dmFyIGU9JzxpZnJhbWUgc3JjPVwiamF2YXNjcmlwdDowXCIgbmFtZT1cIicrby5pZnJhbWVJZCsnXCI+JztpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSl9Y2F0Y2godCl7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGkubmFtZT1vLmlmcmFtZUlkLGkuc3JjPVwiamF2YXNjcmlwdDowXCJ9aS5pZD1vLmlmcmFtZUlkLG8uZm9ybS5hcHBlbmRDaGlsZChpKSxvLmlmcmFtZT1pfXZhciBvPXRoaXM7aWYoIXRoaXMuZm9ybSl7dmFyIGkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSx1PXRoaXMuaWZyYW1lSWQ9XCJlaW9faWZyYW1lX1wiK3RoaXMuaW5kZXg7cy5jbGFzc05hbWU9XCJzb2NrZXRpb1wiLHMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHMuc3R5bGUudG9wPVwiLTEwMDBweFwiLHMuc3R5bGUubGVmdD1cIi0xMDAwcHhcIixzLnRhcmdldD11LHMubWV0aG9kPVwiUE9TVFwiLHMuc2V0QXR0cmlidXRlKFwiYWNjZXB0LWNoYXJzZXRcIixcInV0Zi04XCIpLGEubmFtZT1cImRcIixzLmFwcGVuZENoaWxkKGEpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocyksdGhpcy5mb3JtPXMsdGhpcy5hcmVhPWF9dGhpcy5mb3JtLmFjdGlvbj10aGlzLnVyaSgpLHIoKSx0PXQucmVwbGFjZShwLFwiXFxcXFxcblwiKSx0aGlzLmFyZWEudmFsdWU9dC5yZXBsYWNlKGMsXCJcXFxcblwiKTt0cnl7dGhpcy5mb3JtLnN1Ym1pdCgpfWNhdGNoKGgpe310aGlzLmlmcmFtZS5hdHRhY2hFdmVudD90aGlzLmlmcmFtZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1vLmlmcmFtZS5yZWFkeVN0YXRlJiZuKCl9OnRoaXMuaWZyYW1lLm9ubG9hZD1ufX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQpe3ZhciBlPXQmJnQuZm9yY2VCYXNlNjQ7ZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMucGVyTWVzc2FnZURlZmxhdGU9dC5wZXJNZXNzYWdlRGVmbGF0ZSx0aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldD1oJiYhdC5mb3JjZU5vZGUsdGhpcy5wcm90b2NvbHM9dC5wcm90b2NvbHMsdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXR8fChsPW8pLGkuY2FsbCh0aGlzLHQpfXZhciBvLGk9bigyMikscz1uKDIzKSxhPW4oMzEpLGM9bigzMikscD1uKDMzKSx1PW4oMykoXCJlbmdpbmUuaW8tY2xpZW50OndlYnNvY2tldFwiKSxoPWUuV2ViU29ja2V0fHxlLk1veldlYlNvY2tldDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93KXRyeXtvPW4oMzYpfWNhdGNoKGYpe312YXIgbD1oO2x8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3d8fChsPW8pLHQuZXhwb3J0cz1yLGMocixpKSxyLnByb3RvdHlwZS5uYW1lPVwid2Vic29ja2V0XCIsci5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnk9ITAsci5wcm90b3R5cGUuZG9PcGVuPWZ1bmN0aW9uKCl7aWYodGhpcy5jaGVjaygpKXt2YXIgdD10aGlzLnVyaSgpLGU9dGhpcy5wcm90b2NvbHMsbj17YWdlbnQ6dGhpcy5hZ2VudCxwZXJNZXNzYWdlRGVmbGF0ZTp0aGlzLnBlck1lc3NhZ2VEZWZsYXRlfTtuLnBmeD10aGlzLnBmeCxuLmtleT10aGlzLmtleSxuLnBhc3NwaHJhc2U9dGhpcy5wYXNzcGhyYXNlLG4uY2VydD10aGlzLmNlcnQsbi5jYT10aGlzLmNhLG4uY2lwaGVycz10aGlzLmNpcGhlcnMsbi5yZWplY3RVbmF1dGhvcml6ZWQ9dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQsdGhpcy5leHRyYUhlYWRlcnMmJihuLmhlYWRlcnM9dGhpcy5leHRyYUhlYWRlcnMpLHRoaXMubG9jYWxBZGRyZXNzJiYobi5sb2NhbEFkZHJlc3M9dGhpcy5sb2NhbEFkZHJlc3MpO3RyeXt0aGlzLndzPXRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0P2U/bmV3IGwodCxlKTpuZXcgbCh0KTpuZXcgbCh0LGUsbil9Y2F0Y2gocil7cmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIscil9dm9pZCAwPT09dGhpcy53cy5iaW5hcnlUeXBlJiYodGhpcy5zdXBwb3J0c0JpbmFyeT0hMSksdGhpcy53cy5zdXBwb3J0cyYmdGhpcy53cy5zdXBwb3J0cy5iaW5hcnk/KHRoaXMuc3VwcG9ydHNCaW5hcnk9ITAsdGhpcy53cy5iaW5hcnlUeXBlPVwibm9kZWJ1ZmZlclwiKTp0aGlzLndzLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX19LHIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLndzLm9ub3Blbj1mdW5jdGlvbigpe3Qub25PcGVuKCl9LHRoaXMud3Mub25jbG9zZT1mdW5jdGlvbigpe3Qub25DbG9zZSgpfSx0aGlzLndzLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt0Lm9uRGF0YShlLmRhdGEpfSx0aGlzLndzLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsZSl9fSxyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7ci5lbWl0KFwiZmx1c2hcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3Iud3JpdGFibGU9ITAsci5lbWl0KFwiZHJhaW5cIil9LDApfXZhciByPXRoaXM7dGhpcy53cml0YWJsZT0hMTtmb3IodmFyIG89dC5sZW5ndGgsaT0wLGE9bztpPGE7aSsrKSFmdW5jdGlvbih0KXtzLmVuY29kZVBhY2tldCh0LHIuc3VwcG9ydHNCaW5hcnksZnVuY3Rpb24oaSl7aWYoIXIudXNpbmdCcm93c2VyV2ViU29ja2V0KXt2YXIgcz17fTtpZih0Lm9wdGlvbnMmJihzLmNvbXByZXNzPXQub3B0aW9ucy5jb21wcmVzcyksci5wZXJNZXNzYWdlRGVmbGF0ZSl7dmFyIGE9XCJzdHJpbmdcIj09dHlwZW9mIGk/ZS5CdWZmZXIuYnl0ZUxlbmd0aChpKTppLmxlbmd0aDthPHIucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkJiYocy5jb21wcmVzcz0hMSl9fXRyeXtyLnVzaW5nQnJvd3NlcldlYlNvY2tldD9yLndzLnNlbmQoaSk6ci53cy5zZW5kKGkscyl9Y2F0Y2goYyl7dShcIndlYnNvY2tldCBjbG9zZWQgYmVmb3JlIG9uY2xvc2UgZXZlbnRcIil9LS1vfHxuKCl9KX0odFtpXSl9LHIucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5vbkNsb3NlLmNhbGwodGhpcyl9LHIucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy53cyYmdGhpcy53cy5jbG9zZSgpfSxyLnByb3RvdHlwZS51cmk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnF1ZXJ5fHx7fSxlPXRoaXMuc2VjdXJlP1wid3NzXCI6XCJ3c1wiLG49XCJcIjt0aGlzLnBvcnQmJihcIndzc1wiPT09ZSYmNDQzIT09TnVtYmVyKHRoaXMucG9ydCl8fFwid3NcIj09PWUmJjgwIT09TnVtYmVyKHRoaXMucG9ydCkpJiYobj1cIjpcIit0aGlzLnBvcnQpLHRoaXMudGltZXN0YW1wUmVxdWVzdHMmJih0W3RoaXMudGltZXN0YW1wUGFyYW1dPXAoKSksdGhpcy5zdXBwb3J0c0JpbmFyeXx8KHQuYjY0PTEpLHQ9YS5lbmNvZGUodCksdC5sZW5ndGgmJih0PVwiP1wiK3QpO3ZhciByPXRoaXMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIikhPT0tMTtyZXR1cm4gZStcIjovL1wiKyhyP1wiW1wiK3RoaXMuaG9zdG5hbWUrXCJdXCI6dGhpcy5ob3N0bmFtZSkrbit0aGlzLnBhdGgrdH0sci5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtyZXR1cm4hKCFsfHxcIl9faW5pdGlhbGl6ZVwiaW4gbCYmdGhpcy5uYW1lPT09ci5wcm90b3R5cGUubmFtZSl9fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlKXt2YXIgbj1bXS5pbmRleE9mO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG4pcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcilpZih0W3JdPT09ZSlyZXR1cm4gcjtyZXR1cm4tMX19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciBuPS9eW1xcXSw6e31cXHNdKiQvLHI9L1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxvPS9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZyxpPS8oPzpefDp8LCkoPzpcXHMqXFxbKSsvZyxzPS9eXFxzKy8sYT0vXFxzKyQvO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmdD8odD10LnJlcGxhY2UocyxcIlwiKS5yZXBsYWNlKGEsXCJcIiksZS5KU09OJiZKU09OLnBhcnNlP0pTT04ucGFyc2UodCk6bi50ZXN0KHQucmVwbGFjZShyLFwiQFwiKS5yZXBsYWNlKG8sXCJdXCIpLnJlcGxhY2UoaSxcIlwiKSk/bmV3IEZ1bmN0aW9uKFwicmV0dXJuIFwiK3QpKCk6dm9pZCAwKTpudWxsfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3RoaXMuaW89dCx0aGlzLm5zcD1lLHRoaXMuanNvbj10aGlzLHRoaXMuaWRzPTAsdGhpcy5hY2tzPXt9LHRoaXMucmVjZWl2ZUJ1ZmZlcj1bXSx0aGlzLnNlbmRCdWZmZXI9W10sdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5kaXNjb25uZWN0ZWQ9ITAsbiYmbi5xdWVyeSYmKHRoaXMucXVlcnk9bi5xdWVyeSksdGhpcy5pby5hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCl9dmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saT1uKDcpLHM9big4KSxhPW4oNDApLGM9big0MSkscD1uKDQyKSx1PW4oMykoXCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldFwiKSxoPW4oMzEpO3QuZXhwb3J0cz1lPXI7dmFyIGY9e2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsY29ubmVjdF90aW1lb3V0OjEsY29ubmVjdGluZzoxLGRpc2Nvbm5lY3Q6MSxlcnJvcjoxLHJlY29ubmVjdDoxLHJlY29ubmVjdF9hdHRlbXB0OjEscmVjb25uZWN0X2ZhaWxlZDoxLHJlY29ubmVjdF9lcnJvcjoxLHJlY29ubmVjdGluZzoxLHBpbmc6MSxwb25nOjF9LGw9cy5wcm90b3R5cGUuZW1pdDtzKHIucHJvdG90eXBlKSxyLnByb3RvdHlwZS5zdWJFdmVudHM9ZnVuY3Rpb24oKXtpZighdGhpcy5zdWJzKXt2YXIgdD10aGlzLmlvO3RoaXMuc3Vicz1bYyh0LFwib3BlblwiLHAodGhpcyxcIm9ub3BlblwiKSksYyh0LFwicGFja2V0XCIscCh0aGlzLFwib25wYWNrZXRcIikpLGModCxcImNsb3NlXCIscCh0aGlzLFwib25jbG9zZVwiKSldfX0sci5wcm90b3R5cGUub3Blbj1yLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkP3RoaXM6KHRoaXMuc3ViRXZlbnRzKCksdGhpcy5pby5vcGVuKCksXCJvcGVuXCI9PT10aGlzLmlvLnJlYWR5U3RhdGUmJnRoaXMub25vcGVuKCksdGhpcy5lbWl0KFwiY29ubmVjdGluZ1wiKSx0aGlzKX0sci5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe3ZhciB0PWEoYXJndW1lbnRzKTtyZXR1cm4gdC51bnNoaWZ0KFwibWVzc2FnZVwiKSx0aGlzLmVtaXQuYXBwbHkodGhpcyx0KSx0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2lmKGYuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIGwuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXM7dmFyIGU9YShhcmd1bWVudHMpLG49e3R5cGU6aS5FVkVOVCxkYXRhOmV9O3JldHVybiBuLm9wdGlvbnM9e30sbi5vcHRpb25zLmNvbXByZXNzPSF0aGlzLmZsYWdzfHwhMSE9PXRoaXMuZmxhZ3MuY29tcHJlc3MsXCJmdW5jdGlvblwiPT10eXBlb2YgZVtlLmxlbmd0aC0xXSYmKHUoXCJlbWl0dGluZyBwYWNrZXQgd2l0aCBhY2sgaWQgJWRcIix0aGlzLmlkcyksdGhpcy5hY2tzW3RoaXMuaWRzXT1lLnBvcCgpLG4uaWQ9dGhpcy5pZHMrKyksdGhpcy5jb25uZWN0ZWQ/dGhpcy5wYWNrZXQobik6dGhpcy5zZW5kQnVmZmVyLnB1c2gobiksZGVsZXRlIHRoaXMuZmxhZ3MsdGhpc30sci5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHQpe3QubnNwPXRoaXMubnNwLHRoaXMuaW8ucGFja2V0KHQpfSxyLnByb3RvdHlwZS5vbm9wZW49ZnVuY3Rpb24oKXtpZih1KFwidHJhbnNwb3J0IGlzIG9wZW4gLSBjb25uZWN0aW5nXCIpLFwiL1wiIT09dGhpcy5uc3ApaWYodGhpcy5xdWVyeSl7dmFyIHQ9XCJvYmplY3RcIj09PW8odGhpcy5xdWVyeSk/aC5lbmNvZGUodGhpcy5xdWVyeSk6dGhpcy5xdWVyeTt1KFwic2VuZGluZyBjb25uZWN0IHBhY2tldCB3aXRoIHF1ZXJ5ICVzXCIsdCksdGhpcy5wYWNrZXQoe3R5cGU6aS5DT05ORUNULHF1ZXJ5OnR9KX1lbHNlIHRoaXMucGFja2V0KHt0eXBlOmkuQ09OTkVDVH0pfSxyLnByb3RvdHlwZS5vbmNsb3NlPWZ1bmN0aW9uKHQpe3UoXCJjbG9zZSAoJXMpXCIsdCksdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5kaXNjb25uZWN0ZWQ9ITAsZGVsZXRlIHRoaXMuaWQsdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiLHQpfSxyLnByb3RvdHlwZS5vbnBhY2tldD1mdW5jdGlvbih0KXtpZih0Lm5zcD09PXRoaXMubnNwKXN3aXRjaCh0LnR5cGUpe2Nhc2UgaS5DT05ORUNUOnRoaXMub25jb25uZWN0KCk7YnJlYWs7Y2FzZSBpLkVWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIGkuQklOQVJZX0VWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIGkuQUNLOnRoaXMub25hY2sodCk7YnJlYWs7Y2FzZSBpLkJJTkFSWV9BQ0s6dGhpcy5vbmFjayh0KTticmVhaztjYXNlIGkuRElTQ09OTkVDVDp0aGlzLm9uZGlzY29ubmVjdCgpO2JyZWFrO2Nhc2UgaS5FUlJPUjp0aGlzLmVtaXQoXCJlcnJvclwiLHQuZGF0YSl9fSxyLnByb3RvdHlwZS5vbmV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YXx8W107dShcImVtaXR0aW5nIGV2ZW50ICVqXCIsZSksbnVsbCE9dC5pZCYmKHUoXCJhdHRhY2hpbmcgYWNrIGNhbGxiYWNrIHRvIGV2ZW50XCIpLGUucHVzaCh0aGlzLmFjayh0LmlkKSkpLHRoaXMuY29ubmVjdGVkP2wuYXBwbHkodGhpcyxlKTp0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChlKX0sci5wcm90b3R5cGUuYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighbil7bj0hMDt2YXIgcj1hKGFyZ3VtZW50cyk7dShcInNlbmRpbmcgYWNrICVqXCIsciksZS5wYWNrZXQoe3R5cGU6aS5BQ0ssaWQ6dCxkYXRhOnJ9KX19fSxyLnByb3RvdHlwZS5vbmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFja3NbdC5pZF07XCJmdW5jdGlvblwiPT10eXBlb2YgZT8odShcImNhbGxpbmcgYWNrICVzIHdpdGggJWpcIix0LmlkLHQuZGF0YSksZS5hcHBseSh0aGlzLHQuZGF0YSksZGVsZXRlIHRoaXMuYWNrc1t0LmlkXSk6dShcImJhZCBhY2sgJXNcIix0LmlkKX0sci5wcm90b3R5cGUub25jb25uZWN0PWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0ZWQ9ITAsdGhpcy5kaXNjb25uZWN0ZWQ9ITEsdGhpcy5lbWl0KFwiY29ubmVjdFwiKSx0aGlzLmVtaXRCdWZmZXJlZCgpfSxyLnByb3RvdHlwZS5lbWl0QnVmZmVyZWQ9ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aDt0KyspbC5hcHBseSh0aGlzLHRoaXMucmVjZWl2ZUJ1ZmZlclt0XSk7Zm9yKHRoaXMucmVjZWl2ZUJ1ZmZlcj1bXSx0PTA7dDx0aGlzLnNlbmRCdWZmZXIubGVuZ3RoO3QrKyl0aGlzLnBhY2tldCh0aGlzLnNlbmRCdWZmZXJbdF0pO3RoaXMuc2VuZEJ1ZmZlcj1bXX0sci5wcm90b3R5cGUub25kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dShcInNlcnZlciBkaXNjb25uZWN0ICglcylcIix0aGlzLm5zcCksdGhpcy5kZXN0cm95KCksdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIil9LHIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZih0aGlzLnN1YnMpe2Zvcih2YXIgdD0wO3Q8dGhpcy5zdWJzLmxlbmd0aDt0KyspdGhpcy5zdWJzW3RdLmRlc3Ryb3koKTt0aGlzLnN1YnM9bnVsbH10aGlzLmlvLmRlc3Ryb3kodGhpcyl9LHIucHJvdG90eXBlLmNsb3NlPXIucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQmJih1KFwicGVyZm9ybWluZyBkaXNjb25uZWN0ICglcylcIix0aGlzLm5zcCksdGhpcy5wYWNrZXQoe3R5cGU6aS5ESVNDT05ORUNUfSkpLHRoaXMuZGVzdHJveSgpLHRoaXMuY29ubmVjdGVkJiZ0aGlzLm9uY2xvc2UoXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSx0aGlzfSxyLnByb3RvdHlwZS5jb21wcmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbGFncz10aGlzLmZsYWdzfHx7fSx0aGlzLmZsYWdzLmNvbXByZXNzPXQsdGhpc319LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBuPVtdO2U9ZXx8MDtmb3IodmFyIHI9ZXx8MDtyPHQubGVuZ3RoO3IrKyluW3ItZV09dFtyXTtyZXR1cm4gbn10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxuKXtyZXR1cm4gdC5vbihlLG4pLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVMaXN0ZW5lcihlLG4pfX19dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSl7dmFyIG49W10uc2xpY2U7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRbZV0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiYmluZCgpIHJlcXVpcmVzIGEgZnVuY3Rpb25cIik7dmFyIHI9bi5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LHIuY29uY2F0KG4uY2FsbChhcmd1bWVudHMpKSl9fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3Q9dHx8e30sdGhpcy5tcz10Lm1pbnx8MTAwLHRoaXMubWF4PXQubWF4fHwxZTQsdGhpcy5mYWN0b3I9dC5mYWN0b3J8fDIsdGhpcy5qaXR0ZXI9dC5qaXR0ZXI+MCYmdC5qaXR0ZXI8PTE/dC5qaXR0ZXI6MCx0aGlzLmF0dGVtcHRzPTB9dC5leHBvcnRzPW4sbi5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1zKk1hdGgucG93KHRoaXMuZmFjdG9yLHRoaXMuYXR0ZW1wdHMrKyk7aWYodGhpcy5qaXR0ZXIpe3ZhciBlPU1hdGgucmFuZG9tKCksbj1NYXRoLmZsb29yKGUqdGhpcy5qaXR0ZXIqdCk7dD0wPT0oMSZNYXRoLmZsb29yKDEwKmUpKT90LW46dCtufXJldHVybiAwfE1hdGgubWluKHQsdGhpcy5tYXgpfSxuLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYXR0ZW1wdHM9MH0sbi5wcm90b3R5cGUuc2V0TWluPWZ1bmN0aW9uKHQpe3RoaXMubXM9dH0sbi5wcm90b3R5cGUuc2V0TWF4PWZ1bmN0aW9uKHQpe3RoaXMubWF4PXR9LG4ucHJvdG90eXBlLnNldEppdHRlcj1mdW5jdGlvbih0KXt0aGlzLmppdHRlcj10fX1dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ja2V0LmlvLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zb2NrZXQuaW8tY2xpZW50L2Rpc3Qvc29ja2V0LmlvLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUMiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n");

/***/ })
],[10]);